(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1a865568"],{"0414":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));var r=42,n=256},"089b":function(t,e,i){"use strict";i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return u})),i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return f}));var r=i("78db"),n=i("fced"),o=i("0414"),s=i("256f"),a=i("0af5"),c=i("345d");function l(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,i,n){return function(t,e,i,n){var o=void 0!==n?n:"top-left",s=p(t,e,i);return new r.a({extent:t,origin:Object(a.y)(t,o),resolutions:s,tileSize:i})}(f(t),e,i,n)}(t),t.setDefaultTileGrid(e)),e}function u(t,e,i){var r=e[0],n=t.getTileCoordCenter(e),o=f(i);if(Object(a.g)(o,n))return e;var s=Object(a.F)(o),c=Math.ceil((o[0]-n[0])/s);return n[0]+=s*c,t.getTileCoordForCoordAndZ(n,r)}function h(t){var e=t||{},i=e.extent||Object(s.i)("EPSG:3857").getExtent(),n={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:p(i,e.maxZoom,e.tileSize,e.maxResolution)};return new r.a(n)}function p(t,e,i,r){for(var n=void 0!==e?e:o.a,s=Object(a.A)(t),l=Object(a.F)(t),u=Object(c.d)(void 0!==i?i:o.b),h=r>0?r:Math.max(l/u[0],s/u[1]),p=n+1,f=new Array(p),d=0;d<p;++d)f[d]=h/Math.pow(2,d);return f}function f(t){var e=(t=Object(s.i)(t)).getExtent();if(!e){var i=180*s.a[n.b.DEGREES]/t.getMetersPerUnit();e=Object(a.l)(-i,-i,i,i)}return e}},"0b0e":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));var r={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},n={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0}},"2c30":function(t,e,i){"use strict";function r(t,e,i,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=i,r):[t,e,i]}function n(t,e,i){return t+"/"+e+"/"+i}function o(t){return n(t[0],t[1],t[2])}function s(t){return t.split("/").map(Number)}function a(t){return(t[1]<<t[0])+t[2]}function c(t,e){var i=t[0],r=t[1],n=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var o=e.getFullTileRange(i);return!o||o.containsXY(r,n)}i.d(e,"a",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"e",(function(){return a})),i.d(e,"f",(function(){return c}))},"2ef1":function(t,e,i){"use strict";var r,n=i("91b1"),o=i("089b"),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=function(t){function e(e){var i=this,r=e||{},n=void 0===r.imageSmoothing||r.imageSmoothing;void 0!==r.interpolate&&(n=r.interpolate);var s=void 0!==r.projection?r.projection:"EPSG:3857",a=void 0!==r.tileGrid?r.tileGrid:Object(o.a)({extent:Object(o.b)(s),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return(i=t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:n,opaque:r.opaque,projection:s,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this).gutter_=void 0!==r.gutter?r.gutter:0,i}return s(e,t),e.prototype.getGutter=function(){return this.gutter_},e}(n.a);e.a=a},"2efc":function(t,e,i){"use strict";var r,n=i("a504"),o=i("01d4"),s=i("5e31"),a=i("acc1"),c=i("0af5"),l=i("256f"),u=i("7fc9"),h=function(){function t(t,e,i,r,n,o){this.sourceProj_=t,this.targetProj_=e;var s={},a=Object(l.k)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=n*n,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Object(c.F)(r)==Object(c.F)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(c.F)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(c.F)(this.targetProj_.getExtent()):null;var h=Object(c.D)(i),p=Object(c.E)(i),f=Object(c.w)(i),d=Object(c.v)(i),g=this.transformInv_(h),_=this.transformInv_(p),y=this.transformInv_(f),v=this.transformInv_(d),m=10+(o?Math.max(0,Math.ceil(Object(u.f)(Object(c.u)(i)/(o*o*256*256)))):0);if(this.addQuad_(h,p,f,d,g,_,y,v,m),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach((function(t,e,i){b=Math.min(b,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-b>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-b>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-b>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-b>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(t,e,i,r,n,o){this.triangles_.push({source:[r,n,o],target:[t,e,i]})},t.prototype.addQuad_=function(t,e,i,r,n,o,s,a,l){var h=Object(c.c)([n,o,s,a]),p=this.sourceWorldWidth_?Object(c.F)(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&p>.5&&p<1,g=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=Object(c.c)([t,e,i,r]);g=Object(c.F)(_)/this.targetWorldWidth_>.25||g}!d&&this.sourceProj_.isGlobal()&&p&&(g=p>.25||g)}if(!(!g&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3]))||Object(c.G)(h,this.maxSourceExtent_)){var y=0;if(!(g||isFinite(n[0])&&isFinite(n[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)g=!0;else if(1!=(y=(isFinite(n[0])&&isFinite(n[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1))&&2!=y&&4!=y&&8!=y)return;if(l>0){if(!g){var v=[(t[0]+i[0])/2,(t[1]+i[1])/2],m=this.transformInv_(v),b=void 0;if(d)b=(Object(u.g)(n[0],f)+Object(u.g)(s[0],f))/2-Object(u.g)(m[0],f);else b=(n[0]+s[0])/2-m[0];var j=(n[1]+s[1])/2-m[1];g=b*b+j*j>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var O=[(e[0]+i[0])/2,(e[1]+i[1])/2],T=this.transformInv_(O),x=[(r[0]+t[0])/2,(r[1]+t[1])/2],E=this.transformInv_(x);this.addQuad_(t,e,O,x,n,o,T,E,l-1),this.addQuad_(x,O,i,r,E,T,s,a,l-1)}else{var C=[(t[0]+e[0])/2,(t[1]+e[1])/2],w=this.transformInv_(C),F=[(i[0]+r[0])/2,(i[1]+r[1])/2],S=this.transformInv_(F);this.addQuad_(t,C,F,r,n,w,S,a,l-1),this.addQuad_(C,e,i,F,w,o,s,S,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&y)&&this.addTriangle_(t,i,r,n,s,a),0==(14&y)&&this.addTriangle_(t,i,e,n,s,o),y&&(0==(13&y)&&this.addTriangle_(e,r,t,o,a,n),0==(7&y)&&this.addTriangle_(e,r,i,o,a,s))}},t.prototype.calculateSourceExtent=function(){var t=Object(c.k)();return this.triangles_.forEach((function(e,i,r){var n=e.source;Object(c.r)(t,n[0]),Object(c.r)(t,n[1]),Object(c.r)(t,n[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),p=i("3c81"),f=i("1e8d"),d=i("0999"),g=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=function(t){function e(e,i,r,o,s,l,f,d,g,_,y,v){var m=t.call(this,s,a.a.IDLE,{interpolate:!!v})||this;m.renderEdges_=void 0!==y&&y,m.pixelRatio_=f,m.gutter_=d,m.canvas_=null,m.sourceTileGrid_=i,m.targetTileGrid_=o,m.wrappedTileCoord_=l||s,m.sourceTiles_=[],m.sourcesListenerKeys_=null,m.sourceZ_=0;var b=o.getTileCoordExtent(m.wrappedTileCoord_),j=m.targetTileGrid_.getExtent(),O=m.sourceTileGrid_.getExtent(),T=j?Object(c.B)(b,j):b;if(0===Object(c.u)(T))return m.state=a.a.EMPTY,m;var x=e.getExtent();x&&(O=O?Object(c.B)(O,x):x);var E=o.getResolution(m.wrappedTileCoord_[0]),C=Object(p.a)(e,r,T,E);if(!isFinite(C)||C<=0)return m.state=a.a.EMPTY,m;var w=void 0!==_?_:n.b;if(m.triangulation_=new h(e,r,T,O,C*w,E),0===m.triangulation_.getTriangles().length)return m.state=a.a.EMPTY,m;m.sourceZ_=i.getZForResolution(C);var F=m.triangulation_.calculateSourceExtent();if(O&&(e.canWrapX()?(F[1]=Object(u.b)(F[1],O[1],O[3]),F[3]=Object(u.b)(F[3],O[1],O[3])):F=Object(c.B)(F,O)),Object(c.u)(F)){for(var S=i.getTileRangeForExtentAndZ(F,m.sourceZ_),P=S.minX;P<=S.maxX;P++)for(var R=S.minY;R<=S.maxY;R++){var I=g(m.sourceZ_,P,R,f);I&&m.sourceTiles_.push(I)}0===m.sourceTiles_.length&&(m.state=a.a.EMPTY)}else m.state=a.a.EMPTY;return m}return g(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,r){e&&e.getState()==a.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=a.a.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r="number"==typeof i?i:i[0],n="number"==typeof i?i:i[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(p.d)(r,n,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,c,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=a.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==a.a.IDLE){this.state=a.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,r){var n=e.getState();if(n==a.a.IDLE||n==a.a.LOADING){t++;var s=Object(f.a)(e,o.a.CHANGE,(function(i){var r=e.getState();r!=a.a.LOADED&&r!=a.a.ERROR&&r!=a.a.EMPTY||(Object(f.c)(s),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(s)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,i){t.getState()==a.a.IDLE&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(f.c),this.sourcesListenerKeys_=null},e.prototype.release=function(){this.canvas_&&(Object(d.d)(this.canvas_.getContext("2d")),p.c.push(this.canvas_),this.canvas_=null),t.prototype.release.call(this)},e}(s.a);e.a=_},"3c81":function(t,e,i){"use strict";i.d(e,"c",(function(){return u})),i.d(e,"b",(function(){return f})),i.d(e,"a",(function(){return d})),i.d(e,"d",(function(){return g}));var r,n=i("0b0e"),o=i("38f3"),s=i("0af5"),a=i("0999"),c=i("256f"),l=i("7fc9"),u=[];function h(t,e,i,r,n){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(r,n),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(i,n)),t.restore()}function p(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function f(t,e,i,r){var n=Object(c.r)(i,e,t),o=Object(c.j)(e,r,i),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var l=t.getMetersPerUnit();void 0!==l&&(o/=l);var u=t.getExtent();if(!u||Object(s.g)(u,n)){var h=Object(c.j)(t,o,n)/o;isFinite(h)&&h>0&&(o/=h)}return o}function d(t,e,i,r){var n=Object(s.x)(i),o=f(t,e,n,r);return(!isFinite(o)||o<=0)&&Object(s.t)(i,(function(i){return o=f(t,e,i,r),isFinite(o)&&o>0})),o}function g(t,e,i,c,f,d,g,_,y,v,m,b){var j=Object(a.a)(Math.round(i*t),Math.round(i*e),u);if(b||Object(o.a)(j,n.a),0===y.length)return j.canvas;function O(t){return Math.round(t*i)/i}j.scale(i,i),j.globalCompositeOperation="lighter";var T=Object(s.k)();y.forEach((function(t,e,i){Object(s.q)(T,t.extent)}));var x=Object(s.F)(T),E=Object(s.A)(T),C=Object(a.a)(Math.round(i*x/c),Math.round(i*E/c));b||Object(o.a)(C,n.a);var w=i/c;y.forEach((function(t,e,i){var r=t.extent[0]-T[0],n=-(t.extent[3]-T[3]),o=Object(s.F)(t.extent),a=Object(s.A)(t.extent);t.image.width>0&&t.image.height>0&&C.drawImage(t.image,v,v,t.image.width-2*v,t.image.height-2*v,r*w,n*w,o*w,a*w)}));var F=Object(s.D)(g);return _.getTriangles().forEach((function(t,e,n){var o=t.source,s=t.target,a=o[0][0],u=o[0][1],f=o[1][0],g=o[1][1],_=o[2][0],y=o[2][1],v=O((s[0][0]-F[0])/d),m=O(-(s[0][1]-F[1])/d),x=O((s[1][0]-F[0])/d),E=O(-(s[1][1]-F[1])/d),w=O((s[2][0]-F[0])/d),S=O(-(s[2][1]-F[1])/d),P=a,R=u;a=0,u=0;var I=[[f-=P,g-=R,0,0,x-v],[_-=P,y-=R,0,0,w-v],[0,0,f,g,E-m],[0,0,_,y,S-m]],z=Object(l.h)(I);if(z){if(j.save(),j.beginPath(),function(){if(void 0===r){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",h(t,4,5,4,0),h(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;r=p(e,0)||p(e,4)||p(e,8)}return r}()||!b){j.moveTo(x,E);for(var A=v-x,G=m-E,X=0;X<4;X++)j.lineTo(x+O((X+1)*A/4),E+O(X*G/3)),3!=X&&j.lineTo(x+O((X+1)*A/4),E+O((X+1)*G/3));j.lineTo(w,S)}else j.moveTo(x,E),j.lineTo(v,m),j.lineTo(w,S);j.clip(),j.transform(z[0],z[2],z[1],z[3],v,m),j.translate(T[0]-P,T[3]-R),j.scale(c/i,-c/i),j.drawImage(C.canvas,0,0),j.restore()}})),m&&(j.save(),j.globalCompositeOperation="source-over",j.strokeStyle="black",j.lineWidth=1,_.getTriangles().forEach((function(t,e,i){var r=t.target,n=(r[0][0]-F[0])/d,o=-(r[0][1]-F[1])/d,s=(r[1][0]-F[0])/d,a=-(r[1][1]-F[1])/d,c=(r[2][0]-F[0])/d,l=-(r[2][1]-F[1])/d;j.beginPath(),j.moveTo(s,a),j.lineTo(n,o),j.lineTo(c,l),j.closePath(),j.stroke()})),j.restore()),j.canvas}},"480c":function(t,e,i){"use strict";var r,n=i("1af9"),o="preload",s="useInterimTilesOnError",a=i("38f3"),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(e){var i=this,r=e||{},n=Object(a.a)({},r);return delete n.preload,delete n.useInterimTilesOnError,(i=t.call(this,n)||this).on,i.once,i.un,i.setPreload(void 0!==r.preload?r.preload:0),i.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),i}return c(e,t),e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(s)},e.prototype.setUseInterimTilesOnError=function(t){this.set(s,t)},e.prototype.getData=function(e){return t.prototype.getData.call(this,e)},e}(n.a),u=i("137e"),h=i("7f98"),p=i("2efc"),f=i("dc07"),d=i("acc1"),g=i("0b0e"),_=i("a896"),y=i("0af5"),v=i("256f"),m=i("1300"),b=i("9f5e"),j=i("345d"),O=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),T=function(t){function e(e){var i=t.call(this,e)||this;return i.extentChanged=!0,i.renderedExtent_=null,i.renderedPixelRatio,i.renderedProjection=null,i.renderedRevision,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=Object(y.k)(),i.tmpTileRange_=new f.b(0,0,0,0),i}return O(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),i=t.getState(),r=e.getUseInterimTilesOnError();return i==d.a.LOADED||i==d.a.EMPTY||i==d.a.ERROR&&!r},e.prototype.getTile=function(t,e,i,r){var n=r.pixelRatio,o=r.viewState.projection,s=this.getLayer(),a=s.getSource().getTile(t,e,i,n,o);return a.getState()==d.a.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(d.a.LOADED)),this.isDrawableTile(a)||(a=a.getInterimTile()),a},e.prototype.getData=function(t){var e=this.frameState;if(!e)return null;var i=this.getLayer(),r=Object(_.a)(e.pixelToCoordinateTransform,t.slice()),n=i.getExtent();if(n&&!Object(y.g)(n,r))return null;for(var o=e.pixelRatio,s=e.viewState.projection,a=e.viewState,c=i.getRenderSource(),l=c.getTileGridForProjection(a.projection),u=c.getTilePixelRatio(e.pixelRatio),f=l.getZForResolution(a.resolution);f>=l.getMinZoom();--f){var g=l.getTileCoordForCoordAndZ(r,f),v=c.getTile(f,g[1],g[2],o,s);if(!(v instanceof h.a||v instanceof p.a))return null;if(v.getState()===d.a.LOADED){var m=l.getOrigin(f),b=Object(j.d)(l.getTileSize(f)),O=l.getResolution(f),T=Math.floor(u*((r[0]-m[0])/O-g[1]*b[0])),x=Math.floor(u*((m[1]-r[1])/O-g[2]*b[1])),E=Math.round(u*c.getGutterForProjection(a.projection));return this.getImageData(v.getImage(),T+E,x+E)}}return null},e.prototype.loadedTileCallback=function(e,i,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,i,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var i=t.layerStatesArray[t.layerIndex],r=t.viewState,n=r.projection,o=r.resolution,s=r.center,c=r.rotation,l=t.pixelRatio,u=this.getLayer(),h=u.getSource(),p=h.getRevision(),f=h.getTileGridForProjection(n),j=f.getZForResolution(o,h.zDirection),O=f.getResolution(j),T=t.extent,x=t.viewState.resolution,E=h.getTilePixelRatio(l),C=Math.round(Object(y.F)(T)/x*l),w=Math.round(Object(y.A)(T)/x*l),F=i.extent&&Object(v.g)(i.extent,n);F&&(T=Object(y.B)(T,Object(v.g)(i.extent,n)));var S=O*C/2/E,P=O*w/2/E,R=[s[0]-S,s[1]-P,s[0]+S,s[1]+P],I=f.getTileRangeForExtentAndZ(T,j),z={};z[j]={};var A=this.createLoadedTileFinder(h,n,z),G=this.tmpExtent,X=this.tmpTileRange_;this.newTiles_=!1;for(var D=c?Object(y.C)(r.center,x,c,t.size):void 0,M=I.minX;M<=I.maxX;++M)for(var L=I.minY;L<=I.maxY;++L)if(!c||f.tileCoordIntersectsViewport([j,M,L],D)){var Y=this.getTile(j,M,L,t);if(this.isDrawableTile(Y)){var Z=Object(m.c)(this);if(Y.getState()==d.a.LOADED)z[j][Y.tileCoord.toString()]=Y,(ut=Y.inTransition(Z))&&1!==i.opacity&&(Y.endTransition(Z),ut=!1),this.newTiles_||!ut&&-1!==this.renderedTiles.indexOf(Y)||(this.newTiles_=!0);if(1===Y.getAlpha(Z,t.time))continue}var k=f.getTileCoordChildTileRange(Y.tileCoord,X,G),W=!1;k&&(W=A(j+1,k)),W||f.forEachTileCoordParentTileRange(Y.tileCoord,A,X,G)}var U=O/o*l/E;Object(_.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/l,1/l,c,-C/2,-w/2);var K=Object(_.k)(this.pixelTransform);this.useContainer(e,K,this.getBackground(t));var q=this.context,N=q.canvas;Object(_.d)(this.inversePixelTransform,this.pixelTransform),Object(_.b)(this.tempTransform,C/2,w/2,U,U,0,-C/2,-w/2),N.width!=C||N.height!=w?(N.width=C,N.height=w):this.containerReused||q.clearRect(0,0,C,w),F&&this.clipUnrotated(q,t,F),h.getInterpolate()||Object(a.a)(q,g.a),this.preRender(q,t),this.renderedTiles.length=0;var Q,H,B,V=Object.keys(z).map(Number);V.sort(b.g),1!==i.opacity||this.containerReused&&!h.getOpaque(t.viewState.projection)?(Q=[],H=[]):V=V.reverse();for(var J=V.length-1;J>=0;--J){var $=V[J],tt=h.getTilePixelSize($,l,n),et=f.getResolution($)/O,it=tt[0]*et*U,rt=tt[1]*et*U,nt=f.getTileCoordForCoordAndZ(Object(y.D)(R),$),ot=f.getTileCoordExtent(nt),st=Object(_.a)(this.tempTransform,[E*(ot[0]-R[0])/O,E*(R[3]-ot[3])/O]),at=E*h.getGutterForProjection(n),ct=z[$];for(var lt in ct){var ut,ht=(Y=ct[lt]).tileCoord,pt=nt[1]-ht[1],ft=Math.round(st[0]-(pt-1)*it),dt=nt[2]-ht[2],gt=Math.round(st[1]-(dt-1)*rt),_t=ft-(M=Math.round(st[0]-pt*it)),yt=gt-(L=Math.round(st[1]-dt*rt)),vt=j===$,mt=!1;if(!(ut=vt&&1!==Y.getAlpha(Object(m.c)(this),t.time)))if(Q){B=[M,L,M+_t,L,M+_t,L+yt,M,L+yt];for(var bt=0,jt=Q.length;bt<jt;++bt)if(j!==$&&$<H[bt]){var Ot=Q[bt];Object(y.G)([M,L,M+_t,L+yt],[Ot[0],Ot[3],Ot[4],Ot[7]])&&(mt||(q.save(),mt=!0),q.beginPath(),q.moveTo(B[0],B[1]),q.lineTo(B[2],B[3]),q.lineTo(B[4],B[5]),q.lineTo(B[6],B[7]),q.moveTo(Ot[6],Ot[7]),q.lineTo(Ot[4],Ot[5]),q.lineTo(Ot[2],Ot[3]),q.lineTo(Ot[0],Ot[1]),q.clip())}Q.push(B),H.push($)}else q.clearRect(M,L,_t,yt);this.drawTileImage(Y,t,M,L,_t,yt,at,vt),Q&&!ut?(mt&&q.restore(),this.renderedTiles.unshift(Y)):this.renderedTiles.push(Y),this.updateUsedTiles(t.usedTiles,h,Y)}}return this.renderedRevision=p,this.renderedResolution=O,this.extentChanged=!this.renderedExtent_||!Object(y.p)(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=l,this.renderedProjection=n,this.manageTilePyramid(t,h,f,l,n,T,j,u.getPreload()),this.scheduleExpireCache(t,h),this.postRender(q,t),i.extent&&q.restore(),Object(a.a)(q,g.b),K!==N.style.transform&&(N.style.transform=K),this.container},e.prototype.drawTileImage=function(t,e,i,r,n,o,s,a){var c=this.getTileImage(t);if(c){var l=Object(m.c)(this),u=e.layerStatesArray[e.layerIndex],h=u.opacity*(a?t.getAlpha(l,e.time):1),p=h!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(c,s,s,c.width-2*s,c.height-2*s,i,r,n,o),p&&this.context.restore(),h!==u.opacity?e.animate=!0:a&&t.endTransition(l)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var r=Object(m.c)(t);r in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i){var r=Object(m.c)(e);r in t||(t[r]={}),t[r][i.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,i,r,n,o,s,a,c){var l=Object(m.c)(e);l in t.wantedTiles||(t.wantedTiles[l]={});var u,h,p,f,g,_,v=t.wantedTiles[l],b=t.tileQueue,j=i.getMinZoom(),O=t.viewState.rotation,T=O?Object(y.C)(t.viewState.center,t.viewState.resolution,O,t.size):void 0,x=0;for(_=j;_<=s;++_)for(h=i.getTileRangeForExtentAndZ(o,_,h),p=i.getResolution(_),f=h.minX;f<=h.maxX;++f)for(g=h.minY;g<=h.maxY;++g)O&&!i.tileCoordIntersectsViewport([_,f,g],T)||(s-_<=a?(++x,(u=e.getTile(_,f,g,r,n)).getState()==d.a.IDLE&&(v[u.getKey()]=!0,b.isKeyQueued(u.getKey())||b.enqueue([u,l,i.getTileCoordCenter(u.tileCoord),p])),void 0!==c&&c(u)):e.useTile(_,f,g,n));e.updateCacheSize(x,n)},e}(u.b),x=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),E=function(t){function e(e){return t.call(this,e)||this}return x(e,t),e.prototype.createRenderer=function(){return new T(this)},e}(l);e.a=E},"5e31":function(t,e,i){"use strict";var r,n=i("0ec0"),o=i("01d4"),s=i("acc1"),a=i("1300"),c=i("ca42"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e,i,r){var n=t.call(this)||this,o=r||{};return n.tileCoord=e,n.state=i,n.interimTile=null,n.key="",n.transition_=void 0===o.transition?250:o.transition,n.transitionStarts_={},n.interpolate=!!o.interpolate,n}return l(e,t),e.prototype.changed=function(){this.dispatchEvent(o.a.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==s.a.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==s.a.LOADED){t.interimTile=null;break}t.getState()==s.a.LOADING?e=t:t.getState()==s.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==s.a.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Object(a.b)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var r=e-i+1e3/60;return r>=this.transition_?1:Object(c.a)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(n.a);e.a=u},"78db":function(t,e,i){"use strict";var r=i("dc07"),n=i("0414"),o=i("92fa5"),s=i("7fc9"),a=i("0af5"),c=i("2c30"),l=i("c560"),u=i("9f5e"),h=i("345d"),p=[0,0,0],f=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(o.a)(Object(u.e)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,s=this.resolutions_.length-1;i<s;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(o.a)(this.origins_.length==this.resolutions_.length,20));var c=t.extent;void 0===c||this.origin_||this.origins_||(this.origin_=Object(a.D)(c)),Object(o.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(o.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:n.b,Object(o.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==c?c:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var i=new r.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(c){var n=this.getTileRangeForExtentAndZ(c,e);i.minX=Math.max(n.minX,i.minX),i.maxX=Math.min(n.maxX,i.maxX),i.minY=Math.max(n.minY,i.minY),i.maxY=Math.min(n.maxY,i.maxY)}return i}),this):c&&this.calculateTileRanges_(c)}return t.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),n=r.minX,o=r.maxX;n<=o;++n)for(var s=r.minY,a=r.maxY;s<=a;++s)i([e,n,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,i,n){var o,s,a,c=null,l=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):c=this.getTileCoordExtent(t,n);l>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=Object(r.a)(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(c,l,i),e(l,o))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*t[1],o=2*t[2];return Object(r.a)(n,n+1,o,o+1,e)}var s=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,i){if(e>this.maxZoom||e<this.minZoom)return null;var n=t[0],o=t[1],s=t[2];if(e===n)return Object(r.a)(o,s,o,s,i);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-n),c=Math.floor(o*a),l=Math.floor(s*a);if(e<n)return Object(r.a)(c,c,l,l,i);var u=Math.floor(a*(o+1))-1,h=Math.floor(a*(s+1))-1;return Object(r.a)(c,u,l,h,i)}var p=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(p,e,i)},t.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),n=this.getResolution(t),o=Object(h.d)(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*o[0]*n,c=r[0]+(e.maxX+1)*o[0]*n,l=r[1]+e.minY*o[1]*n,u=r[1]+(e.maxY+1)*o[1]*n;return Object(a.l)(s,l,c,u,i)},t.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=p;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var o=n[1],s=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),Object(r.a)(o,n[1],s,n[2],i)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(h.d)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]-(t[2]+.5)*r[1]*i]},t.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),n=Object(h.d)(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*n[0]*r,s=i[1]-(t[2]+1)*n[1]*r,c=o+n[0]*r,l=s+n[1]*r;return Object(a.l)(o,s,c,l,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,n){var o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),u=Object(h.d)(this.getTileSize(o),this.tmpSize_),p=a*(t-l[0])/i/u[0],f=a*(l[1]-e)/i/u[1];return r?(p=Object(s.a)(p,5)-1,f=Object(s.a)(f,5)-1):(p=Object(s.d)(p,5),f=Object(s.d)(f,5)),Object(c.a)(o,p,f,n)},t.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,n){var o=this.getOrigin(i),a=this.getResolution(i),l=Object(h.d)(this.getTileSize(i),this.tmpSize_),u=(t-o[0])/a/l[0],p=(o[1]-e)/a/l[1];return r?(u=Object(s.a)(u,5)-1,p=Object(s.a)(p,5)-1):(u=Object(s.d)(u,5),p=Object(s.d)(p,5)),Object(c.a)(i,u,p,n)},t.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var i=Object(u.f)(this.resolutions_,t,e||0);return Object(s.b)(i,this.minZoom,this.maxZoom)},t.prototype.tileCoordIntersectsViewport=function(t,e){return Object(l.c)(e,0,e.length,2,this.getTileCoordExtent(t))},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i},t}();e.a=f},"7f98":function(t,e,i){"use strict";var r,n=i("5e31"),o=i("acc1"),s=i("0999"),a=i("6611"),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i,s)||this;return a.crossOrigin_=n,a.src_=r,a.key=r,a.image_=new Image,null!==n&&(a.image_.crossOrigin=n),a.unlisten_=null,a.tileLoadFunction_=o,a}return c(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=o.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=o.a.ERROR,this.unlistenImage_(),this.image_=((t=Object(s.a)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(a.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(n.a);e.a=l},"91b1":function(t,e,i){"use strict";var r,n=i("01d4"),o=i("7f98"),s=i("2efc"),a=i("92fa5"),c=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var i=this.entries_[t];return Object(a.a)(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},t.prototype.remove=function(t){var e=this.entries_[t];return Object(a.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){Object(a.a)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}(),l=i("2c30"),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(l.b)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Object(l.c)(t.tileCoord)),t.release())}.bind(this))}},e}(c),p=i("acc1"),f="tileloadstart",d="tileloadend",g="tileloaderror",_=i("cef7"),y=i("ff80"),v=i("1300"),m=i("256f"),b=i("089b"),j=i("345d"),O=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),T=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;i.on,i.once,i.un,i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return i.tileGrid&&Object(j.d)(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()),[256,256]),i.tileCache=new h(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition,interpolate:e.interpolate},i.zDirection=e.zDirection?e.zDirection:0,i}return O(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,r){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var o,s,a,c=!0,u=i.minX;u<=i.maxX;++u)for(var h=i.minY;h<=i.maxY;++h)s=Object(l.d)(e,u,h),a=!1,n.containsKey(s)&&(a=(o=n.get(s)).getState()===p.a.LOADED)&&(a=!1!==r(o)),a||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,e,i,r,n){return Object(v.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(b.c)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return Object(a.a)(null===e||Object(m.d)(e,t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),n=this.getTilePixelRatio(e),o=Object(j.d)(r.getTileSize(t),this.tmpSize);return 1==n?o:Object(j.c)(o,n,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=Object(b.d)(r,t,i)),Object(l.f)(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,e,i,r){},e}(y.a),x=function(t){function e(e,i){var r=t.call(this,e)||this;return r.tile=i,r}return O(e,t),e}(_.a),E=T,C=i("9cff"),w=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),F=function(t){function e(i){var r=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,opaque:i.opaque,projection:i.projection,state:i.state,tileGrid:i.tileGrid,tilePixelRatio:i.tilePixelRatio,wrapX:i.wrapX,transition:i.transition,interpolate:i.interpolate,key:i.key,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=i.tileLoadFunction,i.tileUrlFunction&&(r.tileUrlFunction=i.tileUrlFunction),r.urls=null,i.urls?r.setUrls(i.urls):i.url&&r.setUrl(i.url),r.tileLoadingKeys_={},r}return w(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,r=Object(v.c)(i),n=i.getState();n==p.a.LOADING?(this.tileLoadingKeys_[r]=!0,e=f):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=n==p.a.ERROR?g:n==p.a.LOADED?d:void 0),null!=e&&this.dispatchEvent(new x(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=Object(C.b)(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Object(C.a)(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,i){},e.prototype.useTile=function(t,e,i){var r=Object(l.d)(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(E),S=i("a504"),P=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),R=function(t){function e(e){var i=this,r=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(r=e.interpolate),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:I,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:r,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:o.a,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return P(e,t),e.prototype.canExpireCache=function(){if(!S.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(S.a){var r=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[n];o.expireCache(o==r?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return S.a&&this.getProjection()&&t&&!Object(m.d)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},e.prototype.getOpaque=function(e){return!(S.a&&this.getProjection()&&e&&!Object(m.d)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!S.a)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!Object(m.d)(i,e)){var r=Object(v.c)(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Object(b.c)(e)),this.tileGridForProjection[r]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!S.a)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||Object(m.d)(i,e))return this.tileCache;var r=Object(v.c)(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new h(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,e,i,r,o,s){var a=[t,e,i],c=this.getTileCoordForTileUrlFunction(a,o),l=c?this.tileUrlFunction(c,r,o):void 0,u=new this.tileClass(a,void 0!==l?p.a.IDLE:p.a.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(n.a.CHANGE,this.handleTileChange.bind(this)),u},e.prototype.getTile=function(t,e,i,r,n){var o=this.getProjection();if(S.a&&o&&n&&!Object(m.d)(o,n)){var a=this.getTileCacheForProjection(n),c=[t,e,i],u=void 0,h=Object(l.c)(c);a.containsKey(h)&&(u=a.get(h));var p=this.getKey();if(u&&u.key==p)return u;var f=this.getTileGridForProjection(o),d=this.getTileGridForProjection(n),g=this.getTileCoordForTileUrlFunction(c,n),_=new s.a(o,f,n,d,c,g,this.getTilePixelRatio(r),this.getGutter(),function(t,e,i,r){return this.getTileInternal(t,e,i,r,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return _.key=p,u?(_.interimTile=u,_.refreshInterimChain(),a.replace(h,_)):a.set(h,_),_}return this.getTileInternal(t,e,i,r,o||n)},e.prototype.getTileInternal=function(t,e,i,r,n){var o=null,s=Object(l.d)(t,e,i),a=this.getKey();if(this.tileCache.containsKey(s)){if((o=this.tileCache.get(s)).key!=a){var c=o;o=this.createTile_(t,e,i,r,n,a),c.getState()==p.a.IDLE?o.interimTile=c.interimTile:o.interimTile=c,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,i,r,n,a),this.tileCache.set(s,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(S.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(S.a){var i=Object(m.i)(t);if(i){var r=Object(v.c)(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}}},e}(F);function I(t,e){t.getImage().src=e}e.a=R},"9cff":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return c}));var r=i("92fa5"),n=i("7fc9"),o=i("2c30");function s(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,s=/\{-y\}/g;return function(a,c,l){return a?t.replace(i,a[0].toString()).replace(n,a[1].toString()).replace(o,a[2].toString()).replace(s,(function(){var t=a[0],i=e.getFullTileRange(t);return Object(r.a)(i,55),(i.getHeight()-a[2]-1).toString()})):void 0}}function a(t,e){for(var i=t.length,r=new Array(i),a=0;a<i;++a)r[a]=s(t[a],e);return function(t){if(1===t.length)return t[0];return function(e,i,r){if(e){var s=Object(o.e)(e),a=Object(n.g)(s,t.length);return t[a](e,i,r)}}}(r)}function c(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var r=i[1].charCodeAt(0),n=i[2].charCodeAt(0),o=void 0;for(o=r;o<=n;++o)e.push(t.replace(i[0],String.fromCharCode(o)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}},a504:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return n}));var r=.5,n=!0},acc1:function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},dc07:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=function(){function t(t,e,i,r){this.minX=t,this.maxX=e,this.minY=i,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function n(t,e,i,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=n,o):new r(t,e,i,n)}e.b=r}}]);