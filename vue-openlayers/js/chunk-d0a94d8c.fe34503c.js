(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d0a94d8c","chunk-3beb5e93","chunk-27686baa","chunk-0edeb2bd"],{"137e":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var r,n=i("faf4"),o=i("3333"),s=i("070d"),a=i("a896"),h=i("5c38"),l=i("0af5"),c=i("0999"),u=i("9f5e"),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=[],d=null;var g=function(t){function e(e){var i=t.call(this,e)||this;return i.container=null,i.renderedResolution,i.tempTransform=Object(a.c)(),i.pixelTransform=Object(a.c)(),i.inversePixelTransform=Object(a.c)(),i.context=null,i.containerReused=!1,i.pixelContext_=null,i.frameState=null,i}return f(e,t),e.prototype.getImageData=function(t,e,i){var r,n;d||((r=document.createElement("canvas")).width=1,r.height=1,d=r.getContext("2d")),d.clearRect(0,0,1,1);try{d.drawImage(t,e,i,1,1,0,0,1,1),n=d.getImageData(0,0,1,1).data}catch(t){return d=null,null}return n},e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,i){var r,n,o=this.getLayer().getClassName();t&&t.className===o&&(!i||t&&t.style.backgroundColor&&Object(u.b)(Object(h.a)(t.style.backgroundColor),Object(h.a)(i)))&&((a=t.firstElementChild)instanceof HTMLCanvasElement&&(n=a.getContext("2d")));if(n&&n.canvas.style.transform===e?(this.container=t,this.context=n,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=o;var s=r.style;s.position="absolute",s.width="100%",s.height="100%";var a=(n=Object(c.a)()).canvas;r.appendChild(a),(s=a.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=r,this.context=n}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)},e.prototype.clipUnrotated=function(t,e,i){var r=Object(l.D)(i),n=Object(l.E)(i),o=Object(l.w)(i),s=Object(l.v)(i);Object(a.a)(e.coordinateToPixelTransform,r),Object(a.a)(e.coordinateToPixelTransform,n),Object(a.a)(e.coordinateToPixelTransform,o),Object(a.a)(e.coordinateToPixelTransform,s);var h=this.inversePixelTransform;Object(a.a)(h,r),Object(a.a)(h,n),Object(a.a)(h,o),Object(a.a)(h,s),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,i){var r=this.getLayer();if(r.hasListener(t)){var n=new o.a(t,this.inversePixelTransform,i,e);r.dispatchEvent(n)}},e.prototype.preRender=function(t,e){this.frameState=e,this.dispatchRenderEvent_(s.a.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(s.a.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,i,r,n,o,s){var h=n/2,l=o/2,c=r/e,u=-c,f=-t[0]+s,p=-t[1];return Object(a.b)(this.tempTransform,h,l,c,u,-i,f,p)},e.prototype.getDataAtPixel=function(t,e,i){var r=Object(a.a)(this.inversePixelTransform,t.slice()),n=this.context,o=this.getLayer().getExtent();if(o){var s=Object(a.a)(e.pixelToCoordinateTransform,t.slice());if(!Object(l.g)(o,s))return null}var h,c=Math.round(r[0]),u=Math.round(r[1]),f=this.pixelContext_;if(!f){var p=document.createElement("canvas");p.width=1,p.height=1,f=p.getContext("2d"),this.pixelContext_=f}f.clearRect(0,0,1,1);try{f.drawImage(n.canvas,c,u,1,1,0,0,1,1),h=f.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?(this.pixelContext_=null,new Uint8Array):h}return 0===h[3]?null:h},e.prototype.disposeInternal=function(){delete this.frameState,t.prototype.disposeInternal.call(this)},e}(n.a);e.b=g},"183a":function(t,e,i){"use strict";e.a={ADD:"add",REMOVE:"remove"}},"1e4b":function(t,e,i){"use strict";i.r(e);i("5bc0");var r=i("480c"),n=i("3e6b"),o=i("2ef1"),s=i("91b1");function a(t,e){var i=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))}));var r=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+r}var h,l=i("92fa5"),c=i("38f3"),u=i("0af5"),f=i("345d"),p=i("3c81"),d=i("b0c1"),g=i("256f"),_=i("7fc9"),y=i("2c30"),v=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),m=function(t){function e(e){var i=this,r=e||{},n=void 0===r.imageSmoothing||r.imageSmoothing;void 0!==r.interpolate&&(n=r.interpolate);var o=r.params||{},s=!("TRANSPARENT"in o)||o.TRANSPARENT;return(i=t.call(this,{attributions:r.attributions,attributionsCollapsible:r.attributionsCollapsible,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:n,opaque:!s,projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileClass:r.tileClass,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,zDirection:r.zDirection})||this).gutter_=void 0!==r.gutter?r.gutter:0,i.params_=o,i.v13_=!0,i.serverType_=r.serverType,i.hidpi_=void 0===r.hidpi||r.hidpi,i.tmpExtent_=Object(u.k)(),i.updateV13_(),i.setKey(i.getKeyForParams_()),i}return v(e,t),e.prototype.getFeatureInfoUrl=function(t,e,i,r){var n=Object(g.i)(i),o=this.getProjection(),s=this.getTileGrid();s||(s=this.getTileGridForProjection(n));var a=s.getZForResolution(e,this.zDirection),h=s.getTileCoordForCoordAndZ(t,a);if(!(s.getResolutions().length<=h[0])){var l=s.getResolution(h[0]),d=s.getTileCoordExtent(h,this.tmpExtent_),_=Object(f.d)(s.getTileSize(h[0]),this.tmpSize),y=this.gutter_;0!==y&&(_=Object(f.a)(_,y,this.tmpSize),d=Object(u.d)(d,l*y,d)),o&&o!==n&&(l=Object(p.b)(o,n,t,l),d=Object(g.s)(d,n,o),t=Object(g.r)(t,n,o));var v={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(c.a)(v,this.params_,r);var m=Math.floor((t[0]-d[0])/l),x=Math.floor((d[3]-t[1])/l);return v[this.v13_?"I":"X"]=m,v[this.v13_?"J":"Y"]=x,this.getRequestUrl_(h,_,d,1,o||n,v)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.urls[0]){var i={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var r=this.params_.LAYERS;if(!(!Array.isArray(r)||1===r.length))return;i.LAYER=r}if(void 0!==t){var n=this.getProjection()?this.getProjection().getMetersPerUnit():1;i.SCALE=t*n/28e-5}return Object(c.a)(i,e),a(this.urls[0],i)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,r,n,o){var s=this.urls;if(s){if(o.WIDTH=e[0],o.HEIGHT=e[1],o[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=r)switch(this.serverType_){case"geoserver":var h=90*r+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+h:o.FORMAT_OPTIONS="dpi:"+h;break;case"mapserver":o.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":o.DPI=90*r;break;default:Object(l.a)(!1,52)}var c,u=n.getAxisOrientation(),f=i;if(this.v13_&&"ne"==u.substr(0,2)){var p=void 0;p=i[0],f[0]=i[1],f[1]=p,p=i[2],f[2]=i[3],f[3]=p}if(o.BBOX=f.join(","),1==s.length)c=s[0];else c=s[Object(_.g)(Object(y.e)(t),s.length)];return a(c,o)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.updateParams=function(t){Object(c.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||"1.3.0";this.v13_=Object(d.a)(t,"1.3")>=0},e.prototype.tileUrlFunction=function(t,e,i){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),!(r.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var n=r.getResolution(t[0]),o=r.getTileCoordExtent(t,this.tmpExtent_),s=Object(f.d)(r.getTileSize(t[0]),this.tmpSize),a=this.gutter_;0!==a&&(s=Object(f.a)(s,a,this.tmpSize),o=Object(u.d)(o,n*a,o)),1!=e&&(s=Object(f.c)(s,e,this.tmpSize));var h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(c.a)(h,this.params_),this.getRequestUrl_(t,s,o,e,i,h)}},e}(s.a),x=i("5831"),b=i("a2e1"),O=i("6c77"),S=i("8682"),C=i("83a6"),j=i("ce2c"),w=i("8295"),E=i("365c"),T={components:{Map:function(){return Promise.all([i.e("chunk-2f252b1c"),i.e("chunk-88550bf2"),i.e("chunk-2d0f04a1")]).then(i.bind(null,"9fda"))}},data:function(){return{bbox:[108.66302490234375,18.270263671875,110.77239990234375,19.9017333984375],layer:null}},methods:{initMap:function(t){this.olMap=t},onLoadYXMap:function(){this.olMap.addLayer(new r.a({source:new o.a({url:"http://t"+Math.round(7*Math.random())+".tianditu.gov.cn/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=bb3520316e04a385a5b070fcec721046",wrapx:!0})}))},onLoadGDMap:function(){this.olMap.addLayer(new r.a({source:new o.a({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",wrapx:!0})}))},onLoadWMSMap:function(){var t=this.olMap.getView(),e=new r.a({source:new m({url:"http://192.168.7.9:8080/geoserver/test/wms",crossOrigin:"anonymous",params:{LAYERS:"test:ybtdzz",VERSION:"1.1.1",STYLES:"shangchuang",REQUEST:"GetMap",SRS:t.getProjection().code_,FORMAT:"image/png"}}),useInterimTilesOnError:!1,extent:this.bbox});this.olMap.addLayer(e),this.olMap.getView().fit(this.bbox),console.log(this.olMap.getLayers())},onLoadWFSMap:function(){var t=this;Object(E.a)().then((function(e){t.layer=new n.a({source:new x.a});var i=(new b.a).readFeatures(e);t.layer.getSource().addFeatures(i),t.olMap.addLayer(t.layer),t.olMap.getView().fit(t.bbox,{duration:1e3})}))},onLoadWFSMapStyle:function(){var t=this;this.layer.getSource().getFeatures().forEach((function(e){var i=e.getProperties(),r=i.xmbm,n=i.jzds;console.log(e);var o={strokeColor:"rgba(255, 0,0,.5)",strokeWidth:1,fillColor:"rgba(0, 0,0,.1)",name:r,textFillColor:"yellow"};n>1e3&&(o.strokeColor="#FA6E6B",o.fillColor="rgba(250, 110, 107, 0.45)"),n>1500&&(o.strokeColor="#FFAA47",o.fillColor="rgba(255, 170, 71, .45)"),n>2e3&&(o.strokeColor="#4469F0",o.fillColor="rgba(116, 146, 255, 0.45)"),n>5e3&&(o.strokeColor="#1CCEA6",o.fillColor="rgba(28, 206, 166, 0.45)"),t.setStyleByFeature(e,o)}))},setStyleByFeature:function(t,e){var i=e.strokeColor,r=void 0===i?"#52999B":i,n=e.strokeWidth,o=void 0===n?1:n,s=e.fillColor,a=void 0===s?"rgba(0, 0, 0, 0.2)":s,h=e.imageFillColor,l=void 0===h?"#52999B":h,c=e.imageRadius,u=void 0===c?5:c,f=e.name,p=e.textFillColor,d=void 0===p?"rgba(242, 242, 242, 0.8)":p,g=new O.b({stroke:new S.a({color:r,width:o}),fill:new C.a({color:a}),image:new j.a({fill:new C.a({color:l}),radius:u}),text:new w.a({font:"14px Calibri,sans-serif",text:f,fill:new C.a({color:d})})});t.setStyle(g)}},mounted:function(){}},I=i("2877"),R=Object(I.a)(T,(function(){var t=this,e=t._self._c;return e("Example",[e("a-space",{attrs:{slot:"hd"},slot:"hd"},[e("a-button",{attrs:{type:"primary",size:"small"},on:{click:t.onLoadYXMap}},[t._v("加载影像地图")]),e("a-button",{attrs:{type:"primary",size:"small"},on:{click:t.onLoadGDMap}},[t._v("加载高德地图")]),e("a-button",{attrs:{type:"primary",size:"small"},on:{click:t.onLoadWMSMap}},[t._v("加载WMS地图")]),e("a-button",{attrs:{type:"primary",size:"small"},on:{click:t.onLoadWFSMap}},[t._v("加载WFS地图")]),e("a-button",{attrs:{type:"primary",size:"small"},on:{click:t.onLoadWFSMapStyle}},[t._v("设置WFS样式")])],1),e("Map",{on:{init:t.initMap}})],1)}),[],!1,null,"40a2bbe0",null);e.default=R.exports},"25a5":function(t,e,i){t.exports=function(){"use strict";function t(t,r,n,o,s){!function t(i,r,n,o,s){for(;o>n;){if(o-n>600){var a=o-n+1,h=r-n+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(h-a/2<0?-1:1);t(i,r,Math.max(n,Math.floor(r-h*c/a+u)),Math.min(o,Math.floor(r+(a-h)*c/a+u)),s)}var f=i[r],p=n,d=o;for(e(i,n,r),s(i[o],f)>0&&e(i,n,o);p<d;){for(e(i,p,d),p++,d--;s(i[p],f)<0;)p++;for(;s(i[d],f)>0;)d--}0===s(i[n],f)?e(i,n,d):e(i,++d,o),d<=r&&(n=d+1),r<=d&&(o=d-1)}}(t,r,n||0,o||t.length-1,s||i)}function e(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function i(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,r,n){n||(n=d(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o=e;o<i;o++){var s=t.children[o];a(n,t.leaf?r(s):s)}return n}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,i,r,n,o){for(var s=[i,r];s.length;)if(!((r=s.pop())-(i=s.pop())<=n)){var a=i+Math.ceil((r-i)/n/2)*n;t(e,a,i,r,o),s.push(i,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,i=[];if(!p(t,e))return i;for(var r=this.toBBox,n=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?r(s):s;p(t,a)&&(e.leaf?i.push(s):f(t,a)?this._all(s,i):n.push(s))}e=n.pop()}return i},r.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var i=[];e;){for(var r=0;r<e.children.length;r++){var n=e.children[r],o=e.leaf?this.toBBox(n):n;if(p(t,o)){if(e.leaf||f(t,o))return!0;i.push(n)}}e=i.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var i,r,o,s=this.data,a=this.toBBox(t),h=[],l=[];s||h.length;){if(s||(s=h.pop(),r=h[h.length-1],i=l.pop(),o=!0),s.leaf){var c=n(t,s.children,e);if(-1!==c)return s.children.splice(c,1),h.push(s),this._condense(h),this}o||s.leaf||!f(s,a)?r?(i++,s=r.children[i],o=!1):s=null:(h.push(s),l.push(i),i=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},r.prototype._build=function(t,e,i,r){var n,s=i-e+1,a=this._maxEntries;if(s<=a)return o(n=d(t.slice(e,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(n=d([])).leaf=!1,n.height=r;var h=Math.ceil(s/a),l=h*Math.ceil(Math.sqrt(a));g(t,e,i,l,this.compareMinX);for(var c=e;c<=i;c+=l){var u=Math.min(c+l-1,i);g(t,c,u,h,this.compareMinY);for(var f=c;f<=u;f+=h){var p=Math.min(f+h-1,u);n.children.push(this._build(t,f,p,r-1))}}return o(n,this.toBBox),n},r.prototype._chooseSubtree=function(t,e,i,r){for(;r.push(e),!e.leaf&&r.length-1!==i;){for(var n=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var h=e.children[a],l=c(h),u=(f=t,p=h,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-l);u<o?(o=u,n=l<n?l:n,s=h):u===o&&l<n&&(n=l,s=h)}e=s||e.children[0]}var f,p;return e},r.prototype._insert=function(t,e,i){var r=i?t:this.toBBox(t),n=[],o=this._chooseSubtree(r,this.data,e,n);for(o.children.push(t),a(o,r);e>=0&&n[e].children.length>this._maxEntries;)this._split(n,e),e--;this._adjustParentBBoxes(r,n,e)},r.prototype._split=function(t,e){var i=t[e],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var s=this._chooseSplitIndex(i,n,r),a=d(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,o(i,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,i){for(var r,n,o,a,h,l,u,f=1/0,p=1/0,d=e;d<=i-e;d++){var g=s(t,0,d,this.toBBox),_=s(t,d,i,this.toBBox),y=(n=g,o=_,a=Math.max(n.minX,o.minX),h=Math.max(n.minY,o.minY),l=Math.min(n.maxX,o.maxX),u=Math.min(n.maxY,o.maxY),Math.max(0,l-a)*Math.max(0,u-h)),v=c(g)+c(_);y<f?(f=y,r=d,p=v<p?v:p):y===f&&v<p&&(p=v,r=d)}return r||i-e},r.prototype._chooseSplitAxis=function(t,e,i){var r=t.leaf?this.compareMinX:h,n=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,i,r)<this._allDistMargin(t,e,i,n)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,i,r){t.children.sort(r);for(var n=this.toBBox,o=s(t,0,e,n),h=s(t,i-e,i,n),l=u(o)+u(h),c=e;c<i-e;c++){var f=t.children[c];a(o,t.leaf?n(f):f),l+=u(o)}for(var p=i-e-1;p>=e;p--){var d=t.children[p];a(h,t.leaf?n(d):d),l+=u(h)}return l},r.prototype._adjustParentBBoxes=function(t,e,i){for(var r=i;r>=0;r--)a(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},"25f1":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return a}));var r=i("0af5");function n(t,e,i,n,s){return!Object(r.t)(s,(function(r){return!o(t,e,i,n,r[0],r[1])}))}function o(t,e,i,r,n,o){for(var s=0,a=t[i-r],h=t[i-r+1];e<i;e+=r){var l=t[e],c=t[e+1];h<=o?c>o&&(l-a)*(o-h)-(n-a)*(c-h)>0&&s++:c<=o&&(l-a)*(o-h)-(n-a)*(c-h)<0&&s--,a=l,h=c}return 0!==s}function s(t,e,i,r,n,s){if(0===i.length)return!1;if(!o(t,e,i[0],r,n,s))return!1;for(var a=1,h=i.length;a<h;++a)if(o(t,i[a-1],i[a],r,n,s))return!1;return!0}function a(t,e,i,r,n,o){if(0===i.length)return!1;for(var a=0,h=i.length;a<h;++a){var l=i[a];if(s(t,e,l,r,n,o))return!0;e=l[l.length-1]}return!1}},"29f6":function(t,e,i){"use strict";e.a={POINT:"point",LINE:"line"}},"30d1":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return l}));var r=i("869f"),n=i("1300"),o={Point:function(t,e,i,n,o){var s,a=i.getImage(),h=i.getText();if(a){if(a.getImageState()!=r.a.LOADED)return;var l=t;if(o){var c=a.getDeclutterMode();if("none"!==c)if(l=o,"obstacle"===c){var u=t.getBuilder(i.getZIndex(),"Image");u.setImageStyle(a,s),u.drawPoint(e,n)}else h&&h.getText()&&(s={})}var f=l.getBuilder(i.getZIndex(),"Image");f.setImageStyle(a,s),f.drawPoint(e,n)}if(h&&h.getText()){var p=t;o&&(p=o);var d=p.getBuilder(i.getZIndex(),"Text");d.setTextStyle(h,s),d.drawText(e,n)}},LineString:function(t,e,i,r,n){var o=i.getStroke();if(o){var s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,r)}var a=i.getText();if(a&&a.getText()){var h=(n||t).getBuilder(i.getZIndex(),"Text");h.setTextStyle(a),h.drawText(e,r)}},Polygon:function(t,e,i,r,n){var o=i.getFill(),s=i.getStroke();if(o||s){var a=t.getBuilder(i.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,r)}var h=i.getText();if(h&&h.getText()){var l=(n||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(h),l.drawText(e,r)}},MultiPoint:function(t,e,i,n,o){var s,a=i.getImage(),h=i.getText();if(a){if(a.getImageState()!=r.a.LOADED)return;var l=t;if(o){var c=a.getDeclutterMode();if("none"!==c)if(l=o,"obstacle"===c){var u=t.getBuilder(i.getZIndex(),"Image");u.setImageStyle(a,s),u.drawMultiPoint(e,n)}else h&&h.getText()&&(s={})}var f=l.getBuilder(i.getZIndex(),"Image");f.setImageStyle(a,s),f.drawMultiPoint(e,n)}if(h&&h.getText()){var p=t;o&&(p=o);var d=p.getBuilder(i.getZIndex(),"Text");d.setTextStyle(h,s),d.drawText(e,n)}},MultiLineString:function(t,e,i,r,n){var o=i.getStroke();if(o){var s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,r)}var a=i.getText();if(a&&a.getText()){var h=(n||t).getBuilder(i.getZIndex(),"Text");h.setTextStyle(a),h.drawText(e,r)}},MultiPolygon:function(t,e,i,r,n){var o=i.getFill(),s=i.getStroke();if(s||o){var a=t.getBuilder(i.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,r)}var h=i.getText();if(h&&h.getText()){var l=(n||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(h),l.drawText(e,r)}},GeometryCollection:function(t,e,i,r,n){var s,a,h=e.getGeometriesArray();for(s=0,a=h.length;s<a;++s){(0,o[h[s].getType()])(t,h[s],i,r,n)}},Circle:function(t,e,i,r,n){var o=i.getFill(),s=i.getStroke();if(o||s){var a=t.getBuilder(i.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(e,r)}var h=i.getText();if(h&&h.getText()){var l=(n||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(h),l.drawText(e,r)}}};function s(t,e){return parseInt(Object(n.c)(t),10)-parseInt(Object(n.c)(e),10)}function a(t,e){var i=h(t,e);return i*i}function h(t,e){return.5*t/e}function l(t,e,i,n,s,a,h){var l=!1,c=i.getImage();if(c){var u=c.getImageState();u==r.a.LOADED||u==r.a.ERROR?c.unlistenImageChange(s):(u==r.a.IDLE&&c.load(),c.listenImageChange(s),l=!0)}return function(t,e,i,r,n,s){var a=i.getGeometryFunction()(e);if(!a)return;var h=a.simplifyTransformed(r,n);if(i.getRenderer())!function t(e,i,r,n){if("GeometryCollection"==i.getType()){for(var o=i.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],r,n);return}e.getBuilder(r.getZIndex(),"Default").drawCustom(i,n,r.getRenderer(),r.getHitDetectionRenderer())}(t,h,i,e);else{(0,o[h.getType()])(t,h,i,e,s)}}(t,e,i,n,a,h),l}},"35d8":function(t,e,i){"use strict";var r,n=i("869f"),o=i("ab35"),s=i("5c38"),a=i("e98d"),h=i("0999"),l=i("ddea"),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e){var i=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(i=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})||this).canvas_=void 0,i.hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=void 0!==e.radius?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.size_=null,i.renderOptions_=null,i.render(),i}return c(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t,this.render()},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var i=this.renderOptions_,r=Object(h.a)(i.size*t,i.size*t);this.draw_(i,r,t),e=r.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return n.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t,this.render()},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,i){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var r=this.radius_,n=void 0===this.radius2_?r:this.radius2_;if(r<n){var o=r;r=n,n=o}var s=void 0===this.radius2_?this.points_:2*this.points_,a=2*Math.PI/s,h=n*Math.sin(a),l=r-Math.sqrt(n*n-h*h),c=Math.sqrt(h*h+l*l),u=c/h;if("miter"===t&&u<=i)return u*e;var f=e/2/u,p=e/2*(l/c),d=Math.sqrt((r+f)*(r+f)+p*p)-r;if(void 0===this.radius2_||"bevel"===t)return 2*d;var g=r*Math.sin(a),_=n-Math.sqrt(r*r-g*g),y=Math.sqrt(g*g+_*_)/g;if(y<=i){var v=y*e/2-n-r;return 2*Math.max(d,v)}return 2*d},e.prototype.createRenderOptions=function(){var t,e=l.g,i=0,r=null,n=0,o=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=l.k),t=Object(a.a)(t),void 0===(o=this.stroke_.getWidth())&&(o=l.h),r=this.stroke_.getLineDash(),n=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=l.g),void 0===(i=this.stroke_.getMiterLimit())&&(i=l.i));var s=this.calculateLineJoinSize_(e,o,i),h=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*h+s),lineDash:r,lineDashOffset:n,lineJoin:e,miterLimit:i}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r=l.b),e.fillStyle=Object(a.a)(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),i=0;if("string"==typeof e&&(e=Object(s.a)(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){var r=Object(h.a)(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{var r=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var n=this.angle_-Math.PI/2,o=2*Math.PI/e,s=0;s<e;s++){var a=n+s*o,h=s%2==0?i:r;t.lineTo(h*Math.cos(a),h*Math.sin(a))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=l.b,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(o.a);e.a=u},"365c":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i("6b6c"),n=function(){return Object(r.b)({url:"//localhost:8080/hn-features.json",method:"get"})}},"3e6b":function(t,e,i){"use strict";var r,n=i("ae50"),o={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},s=[o.FILL],a=[o.STROKE],h=[o.BEGIN_PATH],l=[o.CLOSE_PATH],c=o,u=i("045d"),f=i("f78c"),p=i("e98d"),d=i("0af5"),g=i("ddea"),_=i("9f5e"),y=i("bb6c"),v=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),m=function(t){function e(e,i,r,n){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=i,o.pixelRatio=n,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return v(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,n=this.coordinates,o=n.length,s=0,a=t.length;s<a;s+=e)r[0]=t[s],r[1]=t[s+1],Object(d.g)(i,r)&&(n[o++]=r[0],n[o++]=r[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,i,r,n,o){var s=this.coordinates,a=s.length,h=this.getBufferedMaxExtent();o&&(e+=r);var l,c,f,p=t[e],g=t[e+1],_=this.tmpCoordinate_,y=!0;for(l=e+r;l<i;l+=r)_[0]=t[l],_[1]=t[l+1],(f=Object(d.j)(h,_))!==c?(y&&(s[a++]=p,s[a++]=g,y=!1),s[a++]=_[0],s[a++]=_[1]):f===u.a.INTERSECTING?(s[a++]=_[0],s[a++]=_[1],y=!1):y=!0,p=_[0],g=_[1],c=f;return(n&&y||l===e+r)&&(s[a++]=p,s[a++]=g),a},e.prototype.drawCustomCoordinates_=function(t,e,i,r,n){for(var o=0,s=i.length;o<s;++o){var a=i[o],h=this.appendFlatLineCoordinates(t,e,a,r,!1,!1);n.push(h),e=a}return e},e.prototype.drawCustom=function(t,e,i,r){this.beginGeometry(t,e);var n,o,s,a,h,l=t.getType(),u=t.getStride(),f=this.coordinates.length;switch(l){case"MultiPolygon":n=t.getOrientedFlatCoordinates(),a=[];var p=t.getEndss();h=0;for(var d=0,g=p.length;d<g;++d){var _=[];h=this.drawCustomCoordinates_(n,h,p[d],u,_),a.push(_)}this.instructions.push([c.CUSTOM,f,a,t,i,y.c]),this.hitDetectionInstructions.push([c.CUSTOM,f,a,t,r||i,y.c]);break;case"Polygon":case"MultiLineString":s=[],n="Polygon"==l?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(n,0,t.getEnds(),u,s),this.instructions.push([c.CUSTOM,f,s,t,i,y.b]),this.hitDetectionInstructions.push([c.CUSTOM,f,s,t,r||i,y.b]);break;case"LineString":case"Circle":n=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(n,0,n.length,u,!1,!1),this.instructions.push([c.CUSTOM,f,o,t,i,y.a]),this.hitDetectionInstructions.push([c.CUSTOM,f,o,t,r||i,y.a]);break;case"MultiPoint":n=t.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(n,u))>f&&(this.instructions.push([c.CUSTOM,f,o,t,i,y.a]),this.hitDetectionInstructions.push([c.CUSTOM,f,o,t,r||i,y.a]));break;case"Point":n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),o=this.coordinates.length,this.instructions.push([c.CUSTOM,f,o,t,i]),this.hitDetectionInstructions.push([c.CUSTOM,f,o,t,r||i])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[c.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[c.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,r,n=e.length,o=-1;for(t=0;t<n;++t)(r=(i=e[t])[0])==c.END_GEOMETRY?o=t:r==c.BEGIN_GEOMETRY&&(i[2]=t,Object(_.h)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var r=t.getColor();i.fillStyle=Object(p.a)(r||g.b)}else i.fillStyle=void 0;if(e){var n=e.getColor();i.strokeStyle=Object(p.a)(n||g.k);var o=e.getLineCap();i.lineCap=void 0!==o?o:g.d;var s=e.getLineDash();i.lineDash=s?s.slice():g.e;var a=e.getLineDashOffset();i.lineDashOffset=a||g.f;var h=e.getLineJoin();i.lineJoin=void 0!==h?h:g.g;var l=e.getWidth();i.lineWidth=void 0!==l?l:g.h;var c=e.getMiterLimit();i.miterLimit=void 0!==c?c:g.i,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,i=[c.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[c.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,r=t.lineCap,n=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=r||n!=t.currentLineDash&&!Object(_.b)(t.currentLineDash,n)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=h)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=r,t.currentLineDash=n,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[c.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(d.e)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(d.d)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(f.a),x=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),b=function(t){function e(e,i,r,n){var o=t.call(this,e,i,r,n)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterMode_=void 0,o.declutterImageWithText_=void 0,o}return x(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),n=this.coordinates.length,o=this.appendFlatPointCoordinates(i,r);this.instructions.push([c.DRAW_IMAGE,n,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([c.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),n=this.coordinates.length,o=this.appendFlatPointCoordinates(i,r);this.instructions.push([c.DRAW_IMAGE,n,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([c.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),r=t.getSize(),n=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=n[0],this.originY_=n[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e},e}(m),O=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),S=function(t){function e(e,i,r,n){return t.call(this,e,i,r,n)||this}return O(e,t),e.prototype.drawFlatCoordinates_=function(t,e,i,r){var n=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,i,r,!1,!1),s=[c.MOVE_TO_LINE_TO,n,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,r=i.strokeStyle,n=i.lineWidth;if(void 0!==r&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,g.e,g.f],h);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(a),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,r=i.strokeStyle,n=i.lineWidth;if(void 0!==r&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],h);for(var o=t.getEnds(),s=t.getFlatCoordinates(),l=t.getStride(),u=0,f=0,p=o.length;f<p;++f)u=this.drawFlatCoordinates_(s,u,o[f],l);this.hitDetectionInstructions.push(a),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(a),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(a),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(h)},e}(m),C=i("1c48"),j=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),w=function(t){function e(e,i,r,n){return t.call(this,e,i,r,n)||this}return j(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,i,r){var n=this.state,o=void 0!==n.fillStyle,u=void 0!==n.strokeStyle,f=i.length;this.instructions.push(h),this.hitDetectionInstructions.push(h);for(var p=0;p<f;++p){var d=i[p],g=this.coordinates.length,_=this.appendFlatLineCoordinates(t,e,d,r,!0,!u),y=[c.MOVE_TO_LINE_TO,g,_];this.instructions.push(y),this.hitDetectionInstructions.push(y),u&&(this.instructions.push(l),this.hitDetectionInstructions.push(l)),e=d}return o&&(this.instructions.push(s),this.hitDetectionInstructions.push(s)),u&&(this.instructions.push(a),this.hitDetectionInstructions.push(a)),e},e.prototype.drawCircle=function(t,e){var i=this.state,r=i.fillStyle,n=i.strokeStyle;if(void 0!==r||void 0!==n){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([c.SET_FILL_STYLE,g.b]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getFlatCoordinates(),l=t.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);var f=[c.CIRCLE,u];this.instructions.push(h,f),this.hitDetectionInstructions.push(h,f),void 0!==i.fillStyle&&(this.instructions.push(s),this.hitDetectionInstructions.push(s)),void 0!==i.strokeStyle&&(this.instructions.push(a),this.hitDetectionInstructions.push(a)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,r=i.fillStyle,n=i.strokeStyle;if(void 0!==r||void 0!==n){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([c.SET_FILL_STYLE,g.b]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,r=i.fillStyle,n=i.strokeStyle;if(void 0!==r||void 0!==n){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([c.SET_FILL_STYLE,g.b]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),h=0,l=0,u=o.length;l<u;++l)h=this.drawFlatCoordinatess_(s,h,o[l],a);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,r=0,n=i.length;r<n;++r)i[r]=Object(C.e)(i[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(m),E=i("29f6"),T=i("1300");function I(t,e,i,r,n){var o,s,a,h,l,c,u,f,p,d=i,g=i,_=0,y=0,v=i;for(o=i;o<r;o+=n){var m=e[o],x=e[o+1];void 0!==h&&(f=m-h,p=x-l,a=Math.sqrt(f*f+p*p),void 0!==c&&(y+=s,Math.acos((c*f+u*p)/(s*a))>t&&(y>_&&(_=y,d=v,g=o),y=0,v=o-n)),s=a,c=f,u=p),h=m,l=x}return(y+=a)>_?[v,o]:[d,g]}var R=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),F={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},k={Circle:w,Default:m,Image:b,LineString:S,Polygon:w,Text:function(t){function e(e,i,r,n){var o=t.call(this,e,i,r,n)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return R(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,r=this.textStrokeState_,n=this.textState_;if(""!==this.text_&&n&&(i||r)){var o=this.coordinates,s=o.length,a=t.getType(),h=null,l=t.getStride();if(n.placement!==E.a.LINE||"LineString"!=a&&"MultiLineString"!=a&&"Polygon"!=a&&"MultiPolygon"!=a){var u=n.overflow?null:[];switch(a){case"Point":case"MultiPoint":h=t.getFlatCoordinates();break;case"LineString":h=t.getFlatMidpoint();break;case"Circle":h=t.getCenter();break;case"MultiLineString":h=t.getFlatMidpoints(),l=2;break;case"Polygon":h=t.getFlatInteriorPoint(),n.overflow||u.push(h[2]/this.resolution),l=3;break;case"MultiPolygon":var f=t.getFlatInteriorPoints();h=[];for(j=0,w=f.length;j<w;j+=3)n.overflow||u.push(f[j+2]/this.resolution),h.push(f[j],f[j+1]);if(0===h.length)return;l=2}if((A=this.appendFlatPointCoordinates(h,l))===s)return;if(u&&(A-s)/2!=h.length/l){var p=s/2;u=u.filter((function(t,e){var i=o[2*(p+e)]===h[e*l]&&o[2*(p+e)+1]===h[e*l+1];return i||--p,i}))}this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var _=n.padding;if(_!=g.j&&(n.scale[0]<0||n.scale[1]<0)){var y=n.padding[0],v=n.padding[1],m=n.padding[2],x=n.padding[3];n.scale[0]<0&&(v=-v,x=-x),n.scale[1]<0&&(y=-y,m=-m),_=[y,v,m,x]}var b=this.pixelRatio;this.instructions.push([c.DRAW_IMAGE,s,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,_==g.j?g.j:_.map((function(t){return t*b})),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]);var O=1/b;this.hitDetectionInstructions.push([c.DRAW_IMAGE,s,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[O,O],NaN,void 0,this.declutterImageWithText_,_,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]),this.endGeometry(e)}else{if(!Object(d.G)(this.getBufferedMaxExtent(),t.getExtent()))return;var S=void 0;if(h=t.getFlatCoordinates(),"LineString"==a)S=[h.length];else if("MultiLineString"==a)S=t.getEnds();else if("Polygon"==a)S=t.getEnds().slice(0,1);else if("MultiPolygon"==a){var C=t.getEndss();S=[];for(var j=0,w=C.length;j<w;++j)S.push(C[j][0])}this.beginGeometry(t,e);for(var T=n.textAlign,R=0,F=void 0,k=0,M=S.length;k<M;++k){if(null==T){var D=I(n.maxAngle,h,R,S[k],l);R=D[0],F=D[1]}else F=S[k];for(var j=R;j<F;j+=l)o.push(h[j],h[j+1]);var A=o.length;R=S[k],this.drawChars_(s,A),s=A}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var n=this.textKey_;n in this.textStates||(this.textStates[n]={font:e.font,textAlign:e.textAlign||g.l,justify:e.justify,textBaseline:e.textBaseline||g.m,scale:e.scale});var o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,r=this.textState_,n=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,h=F[r.textBaseline],l=this.textOffsetY_*a,u=this.text_,f=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([c.DRAW_CHARS,t,e,h,r.overflow,s,r.maxAngle,a,l,n,f*a,u,o,1]),this.hitDetectionInstructions.push([c.DRAW_CHARS,t,e,h,r.overflow,s,r.maxAngle,1,l,n,f,u,o,1/a])},e.prototype.setTextStyle=function(t,e){var i,r,n;if(t){var o=t.getFill();o?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=Object(p.a)(o.getColor()||g.b)):(r=null,this.textFillState_=r);var s=t.getStroke();if(s){(n=this.textStrokeState_)||(n={},this.textStrokeState_=n);var a=s.getLineDash(),h=s.getLineDashOffset(),l=s.getWidth(),c=s.getMiterLimit();n.lineCap=s.getLineCap()||g.d,n.lineDash=a?a.slice():g.e,n.lineDashOffset=void 0===h?g.f:h,n.lineJoin=s.getLineJoin()||g.g,n.lineWidth=void 0===l?g.h:l,n.miterLimit=void 0===c?g.i:c,n.strokeStyle=Object(p.a)(s.getColor()||g.k)}else n=null,this.textStrokeState_=n;i=this.textState_;var u=t.getFont()||g.c;Object(g.q)(u);var f=t.getScaleArray();i.overflow=t.getOverflow(),i.font=u,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||g.m,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||g.j,i.scale=void 0===f?[1,1]:f;var d=t.getOffsetX(),_=t.getOffsetY(),y=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===_?0:_,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===v?0:v,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:Object(T.c)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(T.c)(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(m)},M=function(){function t(t,e,i,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var r in i){var n=i[r].finish();t[e][r]=n}}return t},t.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[i];void 0===r&&(r={},this.buildersByZIndex_[i]=r);var n=r[e];void 0===n&&(n=new(0,k[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=n);return n},t}(),D=i("137e"),A=i("617d"),L=i("a896"),P=i("7fc9"),G=i("bef8");function W(t,e,i,r,n,o,s,a,h,l,c,u){var f=t[e],p=t[e+1],d=0,g=0,_=0,y=0;function v(){d=f,g=p,f=t[e+=r],p=t[e+1],y+=_,_=Math.sqrt((f-d)*(f-d)+(p-g)*(p-g))}do{v()}while(e<i-r&&y+_<o);for(var m=0===_?0:(o-y)/_,x=Object(P.e)(d,f,m),b=Object(P.e)(g,p,m),O=e-r,S=y,C=o+a*h(l,n,c);e<i-r&&y+_<C;)v();m=0===_?0:(C-y)/_;var j,w=Object(P.e)(d,f,m),E=Object(P.e)(g,p,m);if(u){var T=[x,b,w,E];Object(G.a)(T,0,4,2,u,T,T),j=T[0]>T[2]}else j=x>w;var I,R=Math.PI,F=[],k=O+r===e;if(_=0,y=S,f=t[e=O],p=t[e+1],k){v(),I=Math.atan2(p-g,f-d),j&&(I+=I>0?-R:R);var M=(w+x)/2,D=(E+b)/2;return F[0]=[M,D,(C-o)/2,I,n],F}for(var A=0,L=(n=n.replace(/\n/g," ")).length;A<L;){v();var W=Math.atan2(p-g,f-d);if(j&&(W+=W>0?-R:R),void 0!==I){var Y=W-I;if(Y+=Y>R?-2*R:Y<-R?2*R:0,Math.abs(Y)>s)return null}I=W;for(var B=A,X=0;A<L;++A){var N=a*h(l,n[j?L-A-1:A],c);if(e+r<i&&y+_<o+X+N/2)break;X+=N}if(A!==B){var z=j?n.substring(L-B,L-A):n.substring(B,A);m=0===_?0:(o+X/2-y)/_;M=Object(P.e)(d,f,m),D=Object(P.e)(g,p,m);F.push([M,D,X/2,W,z]),o+=X}}return F}var Y=i("5938"),B=Object(d.k)(),X=[],N=[],z=[],V=[];function U(t){return t[3].declutterBox}var H=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function J(t,e){return"start"!==e&&"end"!==e||H.test(t)||(e="start"===e?"left":"right"),F[e]}function q(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}var K=function(){function t(t,e,i,r){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Object(L.c)(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,i,r){var n=t+e+i+r;if(this.labels_[n])return this.labels_[n];var o=r?this.strokeStates[r]:null,s=i?this.fillStates[i]:null,a=this.textStates[e],h=this.pixelRatio,l=[a.scale[0]*h,a.scale[1]*h],c=Array.isArray(t),u=a.justify?F[a.justify]:J(Array.isArray(t)?t[0]:t,a.textAlign||g.l),f=r&&o.lineWidth?o.lineWidth:0,p=c?t:t.split("\n").reduce(q,[]),d=Object(g.o)(a,p),_=d.width,y=d.height,v=d.widths,m=d.heights,x=d.lineWidths,b=_+f,O=[],S=(b+2)*l[0],C=(y+f)*l[1],j={width:S<0?Math.floor(S):Math.ceil(S),height:C<0?Math.floor(C):Math.ceil(C),contextInstructions:O};(1==l[0]&&1==l[1]||O.push("scale",l),r)&&(O.push("strokeStyle",o.strokeStyle),O.push("lineWidth",f),O.push("lineCap",o.lineCap),O.push("lineJoin",o.lineJoin),O.push("miterLimit",o.miterLimit),(A.h?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(O.push("setLineDash",[o.lineDash]),O.push("lineDashOffset",o.lineDashOffset)));i&&O.push("fillStyle",s.fillStyle),O.push("textBaseline","middle"),O.push("textAlign","center");for(var w,E=.5-u,T=u*b+E*f,I=[],R=[],k=0,M=0,D=0,L=0,P=0,G=p.length;P<G;P+=2){var W=p[P];if("\n"!==W){var Y=p[P+1]||a.font;Y!==w&&(r&&I.push("font",Y),i&&R.push("font",Y),w=Y),k=Math.max(k,m[D]);var B=[W,T+E*v[D]+u*(v[D]-x[L]),.5*(f+k)+M];T+=v[D],r&&I.push("strokeText",B),i&&R.push("fillText",B),++D}else M+=k,k=0,T=u*b+E*f,++L}return Array.prototype.push.apply(O,I),Array.prototype.push.apply(O,R),this.labels_[n]=j,j},t.prototype.replayTextBackground_=function(t,e,i,r,n,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,i,r,n,o,s,a,h,l,c,u,f,p,g,_){var y,v=i-(s*=u[0]),m=r-(a*=u[1]),x=n+h>t?t-h:n,b=o+l>e?e-l:o,O=p[3]+x*u[0]+p[1],S=p[0]+b*u[1]+p[2],C=v-p[3],j=m-p[0];return(g||0!==c)&&(X[0]=C,V[0]=C,X[1]=j,N[1]=j,N[0]=C+O,z[0]=N[0],z[1]=j+S,V[1]=z[1]),0!==c?(y=Object(L.b)(Object(L.c)(),i,r,1,1,c,-i,-r),Object(L.a)(y,X),Object(L.a)(y,N),Object(L.a)(y,z),Object(L.a)(y,V),Object(d.l)(Math.min(X[0],N[0],z[0],V[0]),Math.min(X[1],N[1],z[1],V[1]),Math.max(X[0],N[0],z[0],V[0]),Math.max(X[1],N[1],z[1],V[1]),B)):Object(d.l)(Math.min(C,C+O),Math.min(j,j+S),Math.max(C,C+O),Math.max(j,j+S),B),f&&(v=Math.round(v),m=Math.round(m)),{drawImageX:v,drawImageY:m,drawImageW:x,drawImageH:b,originX:h,originY:l,declutterBox:{minX:B[0],minY:B[1],maxX:B[2],maxY:B[3],value:_},canvasTransform:y,scale:u}},t.prototype.replayImageOrLabel_=function(t,e,i,r,n,o,s){var a=!(!o&&!s),h=r.declutterBox,l=t.canvas,c=s?s[2]*r.scale[0]/2:0;return h.minX-c<=l.width/e&&h.maxX+c>=0&&h.minY-c<=l.height/e&&h.maxY+c>=0&&(a&&this.replayTextBackground_(t,X,N,z,V,o,s),Object(g.n)(t,r.canvasTransform,n,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=Object(L.a)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,i,r){var n=this.textStates[e],o=this.createLabel(t,e,r,i),s=this.strokeStates[i],a=this.pixelRatio,h=J(Array.isArray(t)?t[0]:t,n.textAlign||g.l),l=F[n.textBaseline||g.m],c=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:h*(o.width/a-2*n.scale[0])+2*(.5-h)*c,anchorY:l*o.height/a+2*(.5-l)*c}},t.prototype.execute_=function(t,e,i,r,n,o,s,a){var h;this.pixelCoordinates_&&Object(_.b)(i,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Object(G.c)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Object(L.j)(this.renderedTransform_,i));for(var l,u,f,p,y,v,m,x,b,O,S,C,j,w,E,T,I=0,R=r.length,k=0,M=0,D=0,A=null,P=null,B=this.coordinateCache_,X=this.viewRotation_,N=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,z={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:X},V=this.instructions!=r||this.overlaps?0:200;I<R;){var H=r[I];switch(H[0]){case c.BEGIN_GEOMETRY:j=H[1],T=H[3],j.getGeometry()?void 0===s||Object(d.G)(s,T.getExtent())?++I:I=H[2]+1:I=H[2];break;case c.BEGIN_PATH:M>V&&(this.fill_(t),M=0),D>V&&(t.stroke(),D=0),M||D||(t.beginPath(),p=NaN,y=NaN),++I;break;case c.CIRCLE:var J=h[k=H[1]],q=h[k+1],K=h[k+2]-J,Z=h[k+3]-q,Q=Math.sqrt(K*K+Z*Z);t.moveTo(J+Q,q),t.arc(J,q,Q,0,2*Math.PI,!0),++I;break;case c.CLOSE_PATH:t.closePath(),++I;break;case c.CUSTOM:k=H[1],l=H[2];var $=H[3],tt=H[4],et=6==H.length?H[5]:void 0;z.geometry=$,z.feature=j,I in B||(B[I]=[]);var it=B[I];et?et(h,k,l,2,it):(it[0]=h[k],it[1]=h[k+1],it.length=2),tt(it,z),++I;break;case c.DRAW_IMAGE:k=H[1],l=H[2],x=H[3],u=H[4],f=H[5];var rt=H[6],nt=H[7],ot=H[8],st=H[9],at=H[10],ht=H[11],lt=H[12],ct=H[13],ut=H[14],ft=H[15];if(!x&&H.length>=20){b=H[19],O=H[20],S=H[21],C=H[22];var pt=this.drawLabelWithPointPlacement_(b,O,S,C);x=pt.label,H[3]=x;var dt=H[23];u=(pt.anchorX-dt)*this.pixelRatio,H[4]=u;var gt=H[24];f=(pt.anchorY-gt)*this.pixelRatio,H[5]=f,rt=x.height,H[6]=rt,ct=x.width,H[13]=ct}var _t=void 0;H.length>25&&(_t=H[25]);var yt=void 0,vt=void 0,mt=void 0;H.length>17?(yt=H[16],vt=H[17],mt=H[18]):(yt=g.j,vt=!1,mt=!1),at&&N?ht+=X:at||N||(ht-=X);for(var xt=0;k<l;k+=2)if(!(_t&&_t[xt++]<ct/this.pixelRatio)){var bt=[t,e,x,Jt=this.calculateImageOrLabelDimensions_(x.width,x.height,h[k],h[k+1],ct,rt,u,f,ot,st,ht,lt,n,yt,vt||mt,j),nt,vt?A:null,mt?P:null];if(a){if("none"===ut)continue;if("obstacle"===ut){a.insert(Jt.declutterBox);continue}var Ot=void 0,St=void 0;if(ft){var Ct=l-k;if(!ft[Ct]){ft[Ct]=bt;continue}if(Ot=ft[Ct],delete ft[Ct],St=U(Ot),a.collides(St))continue}if(a.collides(Jt.declutterBox))continue;Ot&&(a.insert(St),this.replayImageOrLabel_.apply(this,Ot)),a.insert(Jt.declutterBox)}this.replayImageOrLabel_.apply(this,bt)}++I;break;case c.DRAW_CHARS:var jt=H[1],wt=H[2],Et=H[3],Tt=H[4];C=H[5];var It=H[6],Rt=H[7],Ft=H[8];S=H[9];var kt=H[10];b=H[11],O=H[12];var Mt=[H[13],H[13]],Dt=this.textStates[O],At=Dt.font,Lt=[Dt.scale[0]*Rt,Dt.scale[1]*Rt],Pt=void 0;At in this.widths_?Pt=this.widths_[At]:(Pt={},this.widths_[At]=Pt);var Gt=Object(Y.a)(h,jt,wt,2),Wt=Math.abs(Lt[0])*Object(g.p)(At,b,Pt);if(Tt||Wt<=Gt){var Yt=this.textStates[O].textAlign,Bt=W(h,jt,wt,2,b,(Gt-Wt)*F[Yt],It,Math.abs(Lt[0]),g.p,At,Pt,N?0:this.viewRotation_);t:if(Bt){var Xt=[],Nt=void 0,zt=void 0,Vt=void 0,Ut=void 0,Ht=void 0;if(S)for(Nt=0,zt=Bt.length;Nt<zt;++Nt){Vt=(Ht=Bt[Nt])[4],Ut=this.createLabel(Vt,O,"",S),u=Ht[2]+(Lt[0]<0?-kt:kt),f=Et*Ut.height+2*(.5-Et)*kt*Lt[1]/Lt[0]-Ft;var Jt=this.calculateImageOrLabelDimensions_(Ut.width,Ut.height,Ht[0],Ht[1],Ut.width,Ut.height,u,f,0,0,Ht[3],Mt,!1,g.j,!1,j);if(a&&a.collides(Jt.declutterBox))break t;Xt.push([t,e,Ut,Jt,1,null,null])}if(C)for(Nt=0,zt=Bt.length;Nt<zt;++Nt){Vt=(Ht=Bt[Nt])[4],Ut=this.createLabel(Vt,O,C,""),u=Ht[2],f=Et*Ut.height-Ft;Jt=this.calculateImageOrLabelDimensions_(Ut.width,Ut.height,Ht[0],Ht[1],Ut.width,Ut.height,u,f,0,0,Ht[3],Mt,!1,g.j,!1,j);if(a&&a.collides(Jt.declutterBox))break t;Xt.push([t,e,Ut,Jt,1,null,null])}a&&a.load(Xt.map(U));for(var qt=0,Kt=Xt.length;qt<Kt;++qt)this.replayImageOrLabel_.apply(this,Xt[qt])}}++I;break;case c.END_GEOMETRY:if(void 0!==o){var Zt=o(j=H[1],T);if(Zt)return Zt}++I;break;case c.FILL:V?M++:this.fill_(t),++I;break;case c.MOVE_TO_LINE_TO:for(k=H[1],l=H[2],w=h[k],m=(E=h[k+1])+.5|0,(v=w+.5|0)===p&&m===y||(t.moveTo(w,E),p=v,y=m),k+=2;k<l;k+=2)v=(w=h[k])+.5|0,m=(E=h[k+1])+.5|0,k!=l-2&&v===p&&m===y||(t.lineTo(w,E),p=v,y=m);++I;break;case c.SET_FILL_STYLE:A=H,this.alignFill_=H[2],M&&(this.fill_(t),M=0,D&&(t.stroke(),D=0)),t.fillStyle=H[1],++I;break;case c.SET_STROKE_STYLE:P=H,D&&(t.stroke(),D=0),this.setStrokeStyle_(t,H),++I;break;case c.STROKE:V?D++:t.stroke(),++I;break;default:++I}}M&&this.fill_(t),D&&t.stroke()},t.prototype.execute=function(t,e,i,r,n,o){this.viewRotation_=r,this.execute_(t,e,i,this.instructions,n,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,i,r,n){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,n)},t}(),Z=i("0999"),Q=i("38f3"),$=["Polygon","Circle","LineString","Image","Text","Default"],tt=function(){function t(t,e,i,r,n,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(L.c)(),this.createExecutors_(n)}return t.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);var r=t[e];for(var n in r){var o=r[n];i[n]=new K(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],r=0,n=t.length;r<n;++r)if(t[r]in i)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n,o){var s=2*(r=Math.round(r))+1,a=Object(L.b)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-i,-t[0],-t[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Object(Z.a)(s,s));var l,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):h||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(l=Object(d.k)(),Object(d.r)(l,t),Object(d.d)(l,e*(this.renderBuffer_+r),l));var u,f=function(t){if(void 0!==et[t])return et[t];for(var e=2*t+1,i=t*t,r=new Array(i+1),n=0;n<=t;++n)for(var o=0;o<=t;++o){var s=n*n+o*o;if(s>i)break;var a=r[s];a||(a=[],r[s]=a),a.push(4*((t+n)*e+(t+o))+3),n>0&&a.push(4*((t-n)*e+(t+o))+3),o>0&&(a.push(4*((t+n)*e+(t-o))+3),n>0&&a.push(4*((t-n)*e+(t-o))+3))}for(var h=[],l=(n=0,r.length);n<l;++n)r[n]&&h.push.apply(h,r[n]);return et[t]=h,h}(r);function p(t,e){for(var i=c.getImageData(0,0,s,s).data,a=0,h=f.length;a<h;a++)if(i[f[a]]>0){if(!o||"Image"!==u&&"Text"!==u||-1!==o.indexOf(t)){var l=(f[a]-3)/4,p=r-l%s,d=r-(l/s|0),g=n(t,e,p*p+d*d);if(g)return g}c.clearRect(0,0,s,s);break}}var g,y,v,m,x,b=Object.keys(this.executorsByZIndex_).map(Number);for(b.sort(_.g),g=b.length-1;g>=0;--g){var O=b[g].toString();for(v=this.executorsByZIndex_[O],y=$.length-1;y>=0;--y)if(void 0!==(m=v[u=$[y]])&&(x=m.executeHitDetection(c,a,i,p,l)))return x}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],r=e[1],n=e[2],o=e[3],s=[i,r,i,o,n,o,n,r];return Object(G.c)(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return Object(Q.d)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,i,r,n,o,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(_.g),this.maxExtent_&&(t.save(),this.clip(t,i));var h,l,c,u,f,p,d=o||$;for(s&&a.reverse(),h=0,l=a.length;h<l;++h){var g=a[h].toString();for(f=this.executorsByZIndex_[g],c=0,u=d.length;c<u;++c){void 0!==(p=f[d[c]])&&p.execute(t,e,i,r,n,s)}}this.maxExtent_&&t.restore()},t}(),et={};var it=tt,rt=i("496f"),nt=i("c946"),ot=i("82b0"),st=i("6cbf");var at=i("30d1"),ht=i("256f"),lt=i("a568"),ct=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ut=function(t){function e(e){var i=t.call(this,e)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.animatingOrInteracting_,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=Object(d.k)(),i.wrappedRenderedExtent_=Object(d.k)(),i.renderedRotation_,i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i.compositionContext_=null,i.opacity_=1,i}return ct(e,t),e.prototype.renderWorlds=function(t,e,i){var r=e.extent,n=e.viewState,o=n.center,s=n.resolution,a=n.projection,h=n.rotation,l=a.getExtent(),c=this.getLayer().getSource(),u=e.pixelRatio,f=e.viewHints,p=!(f[rt.a.ANIMATING]||f[rt.a.INTERACTING]),g=this.compositionContext_,_=Math.round(e.size[0]*u),y=Math.round(e.size[1]*u),v=c.getWrapX()&&a.canWrapX(),m=v?Object(d.F)(l):null,x=v?Math.ceil((r[2]-l[2])/m)+1:1,b=v?Math.floor((r[0]-l[0])/m):0;do{var O=this.getRenderTransform(o,s,h,u,_,y,b*m);t.execute(g,1,O,h,p,void 0,i)}while(++b<x)},e.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var t=Object(Z.a)(this.context.canvas.width,this.context.canvas.height,D.a);this.compositionContext_=t}else this.compositionContext_=this.context},e.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,Object(Z.d)(this.compositionContext_),D.a.push(this.compositionContext_.canvas),this.compositionContext_=null}},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},e.prototype.renderFrame=function(t,e){var i=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];Object(L.e)(this.pixelTransform,1/i,1/i),Object(L.d)(this.inversePixelTransform,this.pixelTransform);var n=Object(L.k)(this.pixelTransform);this.useContainer(e,n,this.getBackground(t));var o=this.context,s=o.canvas,a=this.replayGroup_,h=this.declutterExecutorGroup;if((!a||a.isEmpty())&&(!h||h.isEmpty()))return null;var l=Math.round(t.size[0]*i),c=Math.round(t.size[1]*i);s.width!=l||s.height!=c?(s.width=l,s.height=c,s.style.transform!==n&&(s.style.transform=n)):this.containerReused||o.clearRect(0,0,l,c),this.preRender(o,t);var u=t.viewState,f=u.projection;this.opacity_=r.opacity,this.setupCompositionContext_();var p=!1,g=!0;if(r.extent&&this.clipping){var _=Object(ht.g)(r.extent,f);(p=(g=Object(d.G)(_,t.extent))&&!Object(d.h)(_,t.extent))&&this.clipUnrotated(this.compositionContext_,t,_)}return g&&this.renderWorlds(a,t),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,t),this.renderedRotation_!==u.rotation&&(this.renderedRotation_=u.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Object(L.a)(this.pixelTransform,i);var r=this.renderedCenter_,n=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,a=this.wrappedRenderedExtent_,h=this.getLayer(),l=[],c=.5*i[0],u=.5*i[1];l.push(this.getRenderTransform(r,n,o,.5,c,u,0).slice());var f=h.getSource(),p=s.getExtent();if(f.getWrapX()&&s.canWrapX()&&!Object(d.h)(p,a)){for(var g=a[0],y=Object(d.F)(p),v=0,m=void 0;g<p[0];)m=y*--v,l.push(this.getRenderTransform(r,n,o,.5,c,u,m).slice()),g+=y;for(v=0,g=a[2];g>p[2];)m=y*++v,l.push(this.getRenderTransform(r,n,o,.5,c,u,m).slice()),g-=y}this.hitDetectionImageData_=function(t,e,i,r,n,o,s){var a=.5*t[0],h=.5*t[1],l=Object(Z.a)(a,h);l.imageSmoothingEnabled=!1;for(var c=l.canvas,u=new nt.a(l,.5,n,null,s),f=i.length,p=Math.floor(16777215/f),g={},y=1;y<=f;++y){var v=i[y-1],m=v.getStyleFunction()||r;if(r){var x=m(v,o);if(x){Array.isArray(x)||(x=[x]);for(var b="#"+("000000"+(y*p).toString(16)).slice(-6),O=0,S=x.length;O<S;++O){var C=x[O],j=C.getGeometryFunction()(v);if(j&&Object(d.G)(n,j.getExtent())){var w=C.clone(),E=w.getFill();E&&E.setColor(b);var T=w.getStroke();T&&(T.setColor(b),T.setLineDash(null)),w.setText(void 0);var I=C.getImage();if(I&&0!==I.getOpacity()){var R=I.getImageSize();if(!R)continue;var F=Object(Z.a)(R[0],R[1],void 0,{alpha:!1}),k=F.canvas;F.fillStyle=b,F.fillRect(0,0,k.width,k.height),w.setImage(new st.a({img:k,imgSize:R,anchor:I.getAnchor(),anchorXUnits:ot.a.PIXELS,anchorYUnits:ot.a.PIXELS,offset:I.getOrigin(),opacity:1,size:I.getSize(),scale:I.getScale(),rotation:I.getRotation(),rotateWithView:I.getRotateWithView()}))}var M=w.getZIndex()||0;(L=g[M])||(L={},g[M]=L,L.Polygon=[],L.Circle=[],L.LineString=[],L.Point=[]),L[j.getType().replace("Multi","")].push(j,w)}}}}}for(var D=Object.keys(g).map(Number).sort(_.g),A=(y=0,D.length);y<A;++y){var L=g[D[y]];for(var P in L){var G=L[P];for(O=0,S=G.length;O<S;O+=2){u.setStyle(G[O+1]);for(var W=0,Y=e.length;W<Y;++W)u.setTransform(e[W]),u.drawGeometry(G[O])}}}return l.getImageData(0,0,c.width,c.height)}(i,l,this.renderedFeatures_,h.getStyleFunction(),a,n,o)}e(function(t,e,i){var r=[];if(i){var n=Math.floor(.5*Math.round(t[0])),o=Math.floor(.5*Math.round(t[1])),s=4*(Object(P.b)(n,0,i.width-1)+Object(P.b)(o,0,i.height-1)*i.width),a=i.data[s],h=i.data[s+1],l=i.data[s+2]+256*(h+256*a),c=Math.floor(16777215/e.length);l&&l%c==0&&r.push(e[l/c-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n){var o=this;if(this.replayGroup_){var s,a=e.viewState.resolution,h=e.viewState.rotation,l=this.getLayer(),c={},u=function(t,e,i){var o=Object(T.c)(t),s=c[o];if(s){if(!0!==s&&i<s.distanceSq){if(0===i)return c[o]=!0,n.splice(n.lastIndexOf(s),1),r(t,l,e);s.geometry=e,s.distanceSq=i}}else{if(0===i)return c[o]=!0,r(t,l,e);n.push(c[o]={feature:t,layer:l,geometry:e,distanceSq:i,callback:r})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some((function(r){return s=r.forEachFeatureAtCoordinate(t,a,h,i,u,r===o.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),s}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var r=t.viewHints[rt.a.ANIMATING],n=t.viewHints[rt.a.INTERACTING],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(this.ready&&!o&&r||!s&&n)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var a=t.extent,h=t.viewState,l=h.projection,c=h.resolution,u=t.pixelRatio,f=e.getRevision(),p=e.getRenderBuffer(),g=e.getRenderOrder();void 0===g&&(g=at.a);var y=h.center.slice(),v=Object(d.d)(a,p*c),m=v.slice(),x=[v.slice()],b=l.getExtent();if(i.getWrapX()&&l.canWrapX()&&!Object(d.h)(b,t.extent)){var O=Object(d.F)(b),S=Math.max(Object(d.F)(v)/2,O);v[0]=b[0]-S,v[2]=b[2]+S,Object(lt.h)(y,l);var C=Object(d.M)(x[0],l);C[0]<b[0]&&C[2]<b[2]?x.push([C[0]+O,C[1],C[2]+O,C[3]]):C[0]>b[0]&&C[2]>b[2]&&x.push([C[0]-O,C[1],C[2]-O,C[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==g&&Object(d.h)(this.wrappedRenderedExtent_,v))return Object(_.b)(this.renderedExtent_,m)||(this.hitDetectionImageData_=null,this.renderedExtent_=m),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var j,w=new M(Object(at.c)(c,u),v,c,u);this.getLayer().getDeclutter()&&(j=new M(Object(at.c)(c,u),v,c,u));var E,T=Object(ht.m)();if(T){for(var I=0,R=x.length;I<R;++I){var F=x[I],k=Object(ht.p)(F,l);i.loadFeatures(k,Object(ht.q)(c,l),T)}E=Object(ht.l)(T,l)}else for(I=0,R=x.length;I<R;++I)i.loadFeatures(x[I],c,l);var D=Object(at.b)(c,u),A=!0,L=function(t){var i,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(i=r(t,c)),i){var n=this.renderFeature(t,D,i,w,E,j);A=A&&!n}}.bind(this),P=Object(ht.p)(v,l),G=i.getFeaturesInExtent(P);g&&G.sort(g);for(I=0,R=G.length;I<R;++I)L(G[I]);this.renderedFeatures_=G,this.ready=A;var W=w.finish(),Y=new it(v,c,u,i.getOverlaps(),W,e.getRenderBuffer());return j&&(this.declutterExecutorGroup=new it(v,c,u,i.getOverlaps(),j.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=g,this.renderedExtent_=m,this.wrappedRenderedExtent_=v,this.renderedCenter_=y,this.renderedProjection_=l,this.replayGroup_=Y,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,r,n,o){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var a=0,h=i.length;a<h;++a)s=Object(at.d)(r,t,i[a],e,this.boundHandleStyleImageChange_,n,o)||s;else s=Object(at.d)(r,t,i,e,this.boundHandleStyleImageChange_,n,o);return s},e}(D.b),ft=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),pt=function(t){function e(e){return t.call(this,e)||this}return ft(e,t),e.prototype.createRenderer=function(){return new ut(this)},e}(n.a);e.a=pt},"47e4":function(t,e,i){"use strict";var r,n=i("521b"),o=i("7a09"),s=i("9abc"),a=i("9769"),h=i("0af5"),l=i("abb7"),c=i("1c48"),u=i("9f5e"),f=i("bb6c"),p=i("b1a2"),d=i("c560"),g=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=function(t){function e(e,i,r){var n=t.call(this)||this;if(n.ends_=[],n.maxDelta_=-1,n.maxDeltaRevision_=-1,Array.isArray(e[0]))n.setCoordinates(e,i);else if(void 0!==i&&r)n.setFlatCoordinates(i,e),n.ends_=r;else{for(var o=n.getLayout(),s=e,a=[],h=[],l=0,c=s.length;l<c;++l){var f=s[l];0===l&&(o=f.getLayout()),Object(u.c)(a,f.getFlatCoordinates()),h.push(a.length)}n.setFlatCoordinates(o,a),n.ends_=h}return n}return g(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Object(u.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(h.f)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,r))},e.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=n.a.XYM&&this.layout!=n.a.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,o=void 0!==i&&i;return Object(p.c)(this.flatCoordinates,0,this.ends_,this.stride,t,r,o)},e.prototype.getCoordinates=function(){return Object(f.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new o.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,r=[],n=0,s=0,a=e.length;s<a;++s){var h=e[s],l=new o.a(t.slice(n,h),i);r.push(l),n=h}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,r=this.ends_,n=this.stride,o=0,s=r.length;o<s;++o){var a=r[o],h=Object(p.a)(e,i,a,n,.5);Object(u.c)(t,h),i=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,t,i,0,r),new e(i,n.a.XY,r)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return Object(d.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(l.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(s.a);e.a=_},"4cdf":function(t,e,i){"use strict";var r,n=i("e269"),o=i("01d4"),s=i("92fa5"),a=i("1e8d"),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(e){var i=t.call(this)||this;if(i.on,i.once,i.un,i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addChangeListener(i.geometryName_,i.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;i.setGeometry(r)}else{var n=e;i.setProperties(n)}return i}return h(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(a.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(a.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;Array.isArray(t)?e=t:(Object(s.a)("function"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(n.a);e.a=l},5831:function(t,e,i){"use strict";var r=i("e300"),n=i("183a"),o=i("cef7"),s=i("01d4"),a=i("7b4f"),h=i("25a5"),l=i.n(h),c=i("0af5"),u=i("1300"),f=i("38f3"),p=function(){function t(t){this.rbush_=new l.a(t),this.items_={}}return t.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[Object(u.c)(e)]=i},t.prototype.load=function(t,e){for(var i=new Array(e.length),r=0,n=e.length;r<n;r++){var o=t[r],s=e[r],a={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};i[r]=a,this.items_[Object(u.c)(s)]=a}this.rbush_.load(i)},t.prototype.remove=function(t){var e=Object(u.c)(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},t.prototype.update=function(t,e){var i=this.items_[Object(u.c)(e)],r=[i.minX,i.minY,i.maxX,i.maxY];Object(c.p)(r,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var i,r=0,n=t.length;r<n;r++)if(i=e(t[r]))return i;return i},t.prototype.isEmpty=function(){return Object(f.d)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(c.l)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),d=i("ff80"),g=i("a43f"),_=i("57cb");i("256f");function y(t,e){return[[-1/0,-1/0,1/0,1/0]]}var v=i("92fa5"),m=i("9f5e"),x=i("1e8d"),b=!1;function O(t,e){return function(i,r,n,o,s){var a=this;!function(t,e,i,r,n,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(i,r,n):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=b,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r=e.getType(),h=void 0;"json"==r||"text"==r?h=a.responseText:"xml"==r?(h=a.responseXML)||(h=(new DOMParser).parseFromString(a.responseText,"application/xml")):"arraybuffer"==r&&(h=a.response),h?o(e.readFeatures(h,{extent:i,featureProjection:n}),e.readProjection(h)):s()}else s()},a.onerror=s,a.send()}(t,e,i,r,n,(function(t,e){a.addFeatures(t),void 0!==o&&o(t)}),s||_.c)}}var S,C=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),j=function(t){function e(e,i,r){var n=t.call(this,e)||this;return n.feature=i,n.features=r,n}return C(e,t),e}(o.a),w=function(t){function e(e){var i=this,n=e||{};(i=t.call(this,{attributions:n.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===n.wrapX||n.wrapX})||this).on,i.once,i.un,i.loader_=_.c,i.format_=n.format,i.overlaps_=void 0===n.overlaps||n.overlaps,i.url_=n.url,void 0!==n.loader?i.loader_=n.loader:void 0!==i.url_&&(Object(v.a)(i.format_,7),i.loader_=O(i.url_,i.format_)),i.strategy_=void 0!==n.strategy?n.strategy:y;var o,s,a=void 0===n.useSpatialIndex||n.useSpatialIndex;return i.featuresRtree_=a?new p:null,i.loadedExtentsRtree_=new p,i.loadingExtentsCount_=0,i.nullGeometryFeatures_={},i.idIndex_={},i.uidIndex_={},i.featureChangeKeys_={},i.featuresCollection_=null,Array.isArray(n.features)?s=n.features:n.features&&(s=(o=n.features).getArray()),a||void 0!==o||(o=new r.a(s)),void 0!==s&&i.addFeaturesInternal(s),void 0!==o&&i.bindFeaturesCollection_(o),i}return C(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(u.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new j(g.a.ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(x.a)(e,s.a.CHANGE,this.handleFeatureChange_,this),Object(x.a)(e,a.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var i=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?i=!1:this.idIndex_[r.toString()]=e),i&&(Object(v.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],r=[],n=0,o=t.length;n<o;n++){var s=t[n],a=Object(u.c)(s);this.addToIndex_(a,s)&&i.push(s)}n=0;for(var h=i.length;n<h;n++){s=i[n],a=Object(u.c)(s);this.setupChangeEvents_(a,s);var l=s.getGeometry();if(l){var c=l.getExtent();e.push(c),r.push(s)}else this.nullGeometryFeatures_[a]=s}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(g.a.ADDFEATURE)){n=0;for(var f=i.length;n<f;n++)this.dispatchEvent(new j(g.a.ADDFEATURE,i[n]))}},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(g.a.ADDFEATURE,(function(i){e||(e=!0,t.push(i.feature),e=!1)})),this.addEventListener(g.a.REMOVEFEATURE,(function(i){e||(e=!0,t.remove(i.feature),e=!1)})),t.addEventListener(n.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(n.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(x.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var i=function(t){this.removeFeatureInternal(t)}.bind(this);for(var r in this.featuresRtree_.forEach(i),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new j(g.a.CLEAR);this.dispatchEvent(n),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,(function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(i){if(i.getGeometry().intersectsExtent(t)){var r=e(i);if(r)return r}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(f.d)(this.nullGeometryFeatures_)||Object(m.c)(t,Object(f.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t,e){var i=this;if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);var r=Object(c.L)(t,e);return[].concat.apply([],r.map((function(t){return i.featuresRtree_.getInExtent(t)})))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],r=t[1],n=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],h=e||_.b;return this.featuresRtree_.forEachInExtent(a,(function(t){if(h(t)){var e=t.getGeometry(),l=s;if((s=e.closestPointXY(i,r,o,s))<l){n=t;var c=Math.sqrt(s);a[0]=i-c,a[1]=r-c,a[2]=i+c,a[3]=r+c}}})),n},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(u.c)(e),r=e.getGeometry();if(r){var n=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(n,e)):this.featuresRtree_&&this.featuresRtree_.update(n,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var o=e.getId();if(void 0!==o){var s=o.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new j(g.a.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(u.c)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Object(f.d)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},e.prototype.loadFeatures=function(t,e,i){for(var r=this.loadedExtentsRtree_,n=this.strategy_(t,e,i),o=function(t,o){var a=n[t];r.forEachInExtent(a,(function(t){return Object(c.h)(t.extent,a)}))||(++s.loadingExtentsCount_,s.dispatchEvent(new j(g.a.FEATURESLOADSTART)),s.loader_.call(s,a,e,i,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new j(g.a.FEATURESLOADEND,void 0,t))}.bind(s),function(){--this.loadingExtentsCount_,this.dispatchEvent(new j(g.a.FEATURESLOADERROR))}.bind(s)),r.insert(a,{extent:a.slice()}))},s=this,a=0,h=n.length;a<h;++a)o(a);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,(function(i){if(Object(c.p)(i.extent,t))return e=i,!0})),e&&i.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=Object(u.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=Object(u.c)(t),i=this.featureChangeKeys_[e];if(i){i.forEach(x.c),delete this.featureChangeKeys_[e];var r=t.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new j(g.a.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Object(v.a)(this.format_,7),this.url_=t,this.setLoader(O(t,this.format_))},e}(d.a);e.a=w},5938:function(t,e,i){"use strict";function r(t,e,i,r){for(var n=t[e],o=t[e+1],s=0,a=e+r;a<i;a+=r){var h=t[a],l=t[a+1];s+=Math.sqrt((h-n)*(h-n)+(l-o)*(l-o)),n=h,o=l}return s}i.d(e,"a",(function(){return r}))},"5bc0":function(t,e,i){},"6c77":function(t,e,i){"use strict";i.d(e,"c",(function(){return h})),i.d(e,"a",(function(){return c}));var r=i("ce2c"),n=i("83a6"),o=i("8682"),s=i("92fa5"),a=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=u,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=u,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function h(t){var e;if("function"==typeof t)e=t;else{var i;if(Array.isArray(t))i=t;else Object(s.a)("function"==typeof t.getZIndex,41),i=[t];e=function(){return i}}return e}var l=null;function c(t,e){if(!l){var i=new n.a({color:"rgba(255,255,255,0.4)"}),s=new o.a({color:"#3399CC",width:1.25});l=[new a({image:new r.a({fill:i,stroke:s,radius:5}),fill:i,stroke:s})]}return l}function u(t){return t.getGeometry()}e.b=a},"6cbf":function(t,e,i){"use strict";var r,n=i("01d4"),o=i("82b0"),s=i("d202"),a=i("869f"),h=i("ab35"),l=i("5c38"),c=i("92fa5"),u=i("0ec0"),f=i("0999"),p=i("3c22"),d=i("6611"),g=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=null,y=function(t){function e(e,i,r,n,o,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==n&&(a.image_.crossOrigin=n),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=o,a.size_=r,a.src_=i,a.tainted_,a}return g(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===a.a.LOADED){_||(_=Object(f.a)(1,1)),_.drawImage(this.image_,0,0);try{_.getImageData(0,0,1,1),this.tainted_=!1}catch(t){_=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(n.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=a.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=a.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=Object(f.a)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==a.a.IDLE){this.imageState_=a.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(d.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===a.a.LOADED){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=Object(l.b)(this.color_),i.fillRect(0,0,e.width/t,e.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var r=i.getImageData(0,0,e.width,e.height),n=r.data,o=this.color_[0]/255,s=this.color_[1]/255,h=this.color_[2]/255,c=this.color_[3],u=0,f=n.length;u<f;u+=4)n[u]*=o,n[u+1]*=s,n[u+2]*=h,n[u+3]*=c;i.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(u.a);var v=i("1300"),m=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),x=function(t){function e(e){var i=this,r=e||{},n=void 0!==r.opacity?r.opacity:1,h=void 0!==r.rotation?r.rotation:0,u=void 0!==r.scale?r.scale:1,f=void 0!==r.rotateWithView&&r.rotateWithView;(i=t.call(this,{opacity:n,rotation:h,scale:u,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:f,declutterMode:r.declutterMode})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:s.a.TOP_LEFT,i.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:o.a.FRACTION,i.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:o.a.FRACTION,i.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var d=void 0!==r.img?r.img:null;i.imgSize_=r.imgSize;var g=r.src;Object(c.a)(!(void 0!==g&&d),4),Object(c.a)(!d||d&&i.imgSize_,5),void 0!==g&&0!==g.length||!d||(g=d.src||Object(v.c)(d)),Object(c.a)(void 0!==g&&g.length>0,6);var _=void 0!==r.src?a.a.IDLE:a.a.LOADED;return i.color_=void 0!==r.color?Object(l.a)(r.color):null,i.iconImage_=function(t,e,i,r,n,o){var s=p.a.get(e,r,o);return s||(s=new y(t,e,i,r,n,o),p.a.set(e,r,o,s)),s}(d,g,void 0!==i.imgSize_?i.imgSize_:null,i.crossOrigin_,_,i.color_),i.offset_=void 0!==r.offset?r.offset:[0,0],i.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:s.a.TOP_LEFT,i.origin_=null,i.size_=void 0!==r.size?r.size:null,i}return m(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==o.a.FRACTION||this.anchorYUnits_==o.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==o.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==o.a.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=s.a.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=s.a.TOP_RIGHT&&this.anchorOrigin_!=s.a.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=s.a.BOTTOM_LEFT&&this.anchorOrigin_!=s.a.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=s.a.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=s.a.TOP_RIGHT&&this.offsetOrigin_!=s.a.BOTTOM_RIGHT||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=s.a.BOTTOM_LEFT&&this.offsetOrigin_!=s.a.BOTTOM_RIGHT||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(n.a.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(n.a.CHANGE,t)},e}(h.a);e.a=x},"7a09":function(t,e,i){"use strict";var r,n=i("521b"),o=i("9abc"),s=i("9769"),a=i("0af5"),h=i("abb7"),l=i("1c48"),c=i("9f5e"),u=i("fd4d"),f=i("bb6c"),p=i("b1a2"),d=i("c560"),g=i("5938"),_=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y=function(t){function e(e,i){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?r.setCoordinates(e,i):r.setFlatCoordinates(i,e),r}return _(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(c.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(a.f)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(s.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(s.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,r))},e.prototype.forEachSegment=function(t){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=n.a.XYM&&this.layout!=n.a.XYZM)return null;var i=void 0!==e&&e;return Object(p.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,n.a.XY)},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(h.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a);e.a=y},8295:function(t,e,i){"use strict";var r=i("83a6"),n=i("29f6"),o=i("345d"),s=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Object(o.d)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:n.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getJustify=function(){return this.justify_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(o.d)(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setJustify=function(t){this.justify_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e.a=s},"82b0":function(t,e,i){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},"83a6":function(t,e,i){"use strict";var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e.a=r},8682:function(t,e,i){"use strict";var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e.a=r},"88da":function(t,e,i){"use strict";var r=i("521b"),n=i("9a44"),o=i("5bc3"),s=i("9abc"),a=i("9769"),h=i("0af5"),l=i("abb7"),c=i("9f5e"),u=i("0a9d"),f=i("bb6c"),p=i("c560"),d=i("4d98"),g=i("b589");var _,y=i("25f1"),v=i("1c48"),m=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),x=function(t){function e(e,i,r){var n=t.call(this)||this;if(n.endss_=[],n.flatInteriorPointsRevision_=-1,n.flatInteriorPoints_=null,n.maxDelta_=-1,n.maxDeltaRevision_=-1,n.orientedRevision_=-1,n.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=n.getLayout(),s=e,a=[],h=[],l=0,u=s.length;l<u;++l){var f=s[l];0===l&&(o=f.getLayout());for(var p=a.length,d=f.getEnds(),g=0,_=d.length;g<_;++g)d[g]+=p;Object(c.c)(a,f.getFlatCoordinates()),h.push(d)}i=o,e=a,r=h}return void 0!==i&&r?(n.setFlatCoordinates(i,e),n.endss_=r):n.setCoordinates(e,i),n}return m(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var i=this.flatCoordinates.length;Object(c.c)(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,n=(e=t.getEnds().slice()).length;r<n;++r)e[r]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,i=new Array(t),r=0;r<t;++r)i[r]=this.endss_[r].slice();var n=new e(this.flatCoordinates.slice(),this.layout,i);return n.applyProperties(this),n},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(h.f)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,r))},e.prototype.containsXY=function(t,e){return Object(y.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(g.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(d.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(f.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,i,r){for(var n=[],o=Object(h.k)(),s=0,a=i.length;s<a;++s){var l=i[s];o=Object(h.o)(t,e,l[0],r),n.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return n}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(u.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new n.a(this.getFlatInteriorPoints().slice(),r.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(d.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(d.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Object(v.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),i,0,n),new e(i,r.a.XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var r=this.endss_[t].slice(),n=r[r.length-1];if(0!==e)for(var s=0,a=r.length;s<a;++s)r[s]-=e;return new o.a(this.flatCoordinates.slice(e,n),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,r=[],n=0,s=0,a=i.length;s<a;++s){var h=i[s].slice(),l=h[h.length-1];if(0!==n)for(var c=0,u=h.length;c<u;++c)h[c]-=n;var f=new o.a(e.slice(n,l),t,h);r.push(f),n=l}return r},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return Object(p.e)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(l.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var r=i[i.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(s.a);e.a=x},9769:function(t,e,i){"use strict";i.d(e,"e",(function(){return o})),i.d(e,"a",(function(){return s})),i.d(e,"f",(function(){return a})),i.d(e,"d",(function(){return h})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return c}));var r=i("7fc9");function n(t,e,i,n,o,s,a){var h,l=t[e],c=t[e+1],u=t[i]-l,f=t[i+1]-c;if(0===u&&0===f)h=e;else{var p=((o-l)*u+(s-c)*f)/(u*u+f*f);if(p>1)h=i;else{if(p>0){for(var d=0;d<n;++d)a[d]=Object(r.e)(t[e+d],t[i+d],p);return void(a.length=n)}h=e}}for(d=0;d<n;++d)a[d]=t[h+d];a.length=n}function o(t,e,i,n,o){var s=t[e],a=t[e+1];for(e+=n;e<i;e+=n){var h=t[e],l=t[e+1],c=Object(r.i)(s,a,h,l);c>o&&(o=c),s=h,a=l}return o}function s(t,e,i,r,n){for(var s=0,a=i.length;s<a;++s){var h=i[s];n=o(t,e,h,r,n),e=h}return n}function a(t,e,i,r,n){for(var o=0,a=i.length;o<a;++o){var h=i[o];n=s(t,e,h,r,n),e=h[h.length-1]}return n}function h(t,e,i,o,s,a,h,l,c,u,f){if(e==i)return u;var p,d;if(0===s){if((d=Object(r.i)(h,l,t[e],t[e+1]))<u){for(p=0;p<o;++p)c[p]=t[e+p];return c.length=o,d}return u}for(var g=f||[NaN,NaN],_=e+o;_<i;)if(n(t,_-o,_,o,h,l,g),(d=Object(r.i)(h,l,g[0],g[1]))<u){for(u=d,p=0;p<o;++p)c[p]=g[p];c.length=o,_+=o}else _+=o*Math.max((Math.sqrt(d)-Math.sqrt(u))/s|0,1);if(a&&(n(t,i-o,e,o,h,l,g),(d=Object(r.i)(h,l,g[0],g[1]))<u)){for(u=d,p=0;p<o;++p)c[p]=g[p];c.length=o}return u}function l(t,e,i,r,n,o,s,a,l,c,u){for(var f=u||[NaN,NaN],p=0,d=i.length;p<d;++p){var g=i[p];c=h(t,e,g,r,n,o,s,a,l,c,f),e=g}return c}function c(t,e,i,r,n,o,s,a,h,c,u){for(var f=u||[NaN,NaN],p=0,d=i.length;p<d;++p){var g=i[p];c=l(t,e,g,r,n,o,s,a,h,c,f),e=g[g.length-1]}return c}},"9a44":function(t,e,i){"use strict";var r,n=i("f403"),o=i("9abc"),s=i("0af5"),a=i("abb7"),h=i("9f5e"),l=i("bb6c"),c=i("7fc9"),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=function(t){function e(e,i){var r=t.call(this)||this;return i&&!Array.isArray(e[0])?r.setFlatCoordinates(i,e):r.setCoordinates(e,i),r}return u(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Object(h.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,r){if(r<Object(s.f)(this.getExtent(),t,e))return r;for(var n=this.flatCoordinates,o=this.stride,a=0,h=n.length;a<h;a+=o){var l=Object(c.i)(t,e,n[a],n[a+1]);if(l<r){r=l;for(var u=0;u<o;++u)i[u]=n[a+u];i.length=o}}return r},e.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new n.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,r=[],o=0,s=t.length;o<s;o+=i){var a=new n.a(t.slice(o,o+i),e);r.push(a)}return r},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,r=0,n=e.length;r<n;r+=i){var o=e[r],a=e[r+1];if(Object(s.i)(t,o,a))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(a.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a);e.a=f},a2e1:function(t,e,i){"use strict";var r,n=i("4cdf"),o=i("d352"),s=i("b7df"),a=i("1300"),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function l(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var c=function(t){function e(){return t.call(this)||this}return h(e,t),e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(a.b)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(a.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(a.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(l(t))},e.prototype.readProjectionFromObject=function(t){return Object(a.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(a.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(a.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(a.b)()},e}(s.a),u=i("7a09"),f=i("47e4"),p=i("9a44"),d=i("88da"),g=i("f403"),_=i("5bc3"),y=i("92fa5"),v=i("38f3"),m=i("256f"),x=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),b=function(t){function e(e){var i=this,r=e||{};return(i=t.call(this)||this).dataProjection=Object(m.i)(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(i.defaultFeatureProjection=Object(m.i)(r.featureProjection)),i.geometryName_=r.geometryName,i.extractGeometryName_=r.extractGeometryName,i.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],i}return x(e,t),e.prototype.readFeatureFromObject=function(t,e){var i=null,r=O((i="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new n.a;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&o.setGeometryName(i.geometry_name),o.setGeometry(r),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o},e.prototype.readFeaturesFromObject=function(t,e){var i=null;if("FeatureCollection"===t.type){i=[];for(var r=t.features,n=0,o=r.length;n<o;++n)i.push(this.readFeatureFromObject(r[n],e))}else i=[this.readFeatureFromObject(t,e)];return i},e.prototype.readGeometryFromObject=function(t,e){return O(t,e)},e.prototype.readProjectionFromObject=function(t){var e,i=t.crs;return i?"name"==i.type?e=Object(m.i)(i.properties.name):"EPSG"===i.type?e=Object(m.i)("EPSG:"+i.properties.code):Object(y.a)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature",geometry:null,properties:null},r=t.getId();if(void 0!==r&&(i.id=r),!t.hasProperties())return i;var n=t.getProperties(),o=t.getGeometry();return o&&(i.geometry=S(o,e),delete n[t.getGeometryName()]),Object(v.d)(n)||(i.properties=n),i},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],r=0,n=t.length;r<n;++r)i.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:i}},e.prototype.writeGeometryObject=function(t,e){return S(t,this.adaptOptions(e))},e}(c);function O(t,e){if(!t)return null;var i;switch(t.type){case"Point":i=function(t){return new g.a(t.coordinates)}(t);break;case"LineString":i=function(t){return new u.a(t.coordinates)}(t);break;case"Polygon":i=function(t){return new _.a(t.coordinates)}(t);break;case"MultiPoint":i=function(t){return new p.a(t.coordinates)}(t);break;case"MultiLineString":i=function(t){return new f.a(t.coordinates)}(t);break;case"MultiPolygon":i=function(t){return new d.a(t.coordinates)}(t);break;case"GeometryCollection":i=function(t,e){var i=t.geometries.map((function(t){return O(t,e)}));return new o.a(i)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Object(s.b)(i,!1,e)}function S(t,e){var i,r=(t=Object(s.b)(t,!0,e)).getType();switch(r){case"Point":i=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":i=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":i=function(t,e){var i;e&&(i=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(i)}}(t,e);break;case"MultiPoint":i=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":i=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":i=function(t,e){var i;e&&(i=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(i)}}(t,e);break;case"GeometryCollection":i=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map((function(t){var i=Object(v.a)({},e);return delete i.featureProjection,S(t,i)}))}}(t,e);break;case"Circle":i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return i}e.a=b},a43f:function(t,e,i){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},ab35:function(t,e,i){"use strict";var r=i("1300"),n=i("345d"),o=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(n.d)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getDeclutterMode=function(){return this.declutterMode_},t.prototype.getAnchor=function(){return Object(r.b)()},t.prototype.getImage=function(t){return Object(r.b)()},t.prototype.getHitDetectionImage=function(){return Object(r.b)()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Object(r.b)()},t.prototype.getImageSize=function(){return Object(r.b)()},t.prototype.getOrigin=function(){return Object(r.b)()},t.prototype.getSize=function(){return Object(r.b)()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(n.d)(t)},t.prototype.listenImageChange=function(t){Object(r.b)()},t.prototype.load=function(){Object(r.b)()},t.prototype.unlistenImageChange=function(t){Object(r.b)()},t}();e.a=o},ae50:function(t,e,i){"use strict";var r,n=i("1af9"),o=i("25a5"),s=i.n(o),a=i("38f3"),h=i("6c77"),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c="renderOrder",u=function(t){function e(e){var i=this,r=e||{},n=Object(a.a)({},r);return delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,(i=t.call(this,n)||this).declutter_=void 0!==r.declutter&&r.declutter,i.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(r.style),i.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,i.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,i}return l(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(c)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new s.a(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(c,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:h.a,this.styleFunction_=null===t?void 0:Object(h.c)(this.style_),this.changed()},e}(n.a);e.a=u},b1a2:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a}));var r=i("9f5e"),n=i("7fc9");function o(t,e,i,o,s,a,h){var l,c,u=(i-e)/o;if(1===u)l=e;else if(2===u)l=e,c=s;else if(0!==u){for(var f=t[e],p=t[e+1],d=0,g=[0],_=e+o;_<i;_+=o){var y=t[_],v=t[_+1];d+=Math.sqrt((y-f)*(y-f)+(v-p)*(v-p)),g.push(d),f=y,p=v}var m=s*d,x=Object(r.a)(g,m);x<0?(c=(m-g[-x-2])/(g[-x-1]-g[-x-2]),l=e+(-x-2)*o):l=e+x*o}var b=h>1?h:2,O=a||new Array(b);for(_=0;_<b;++_)O[_]=void 0===l?NaN:void 0===c?t[l+_]:Object(n.e)(t[l+_],t[l+o+_],c);return O}function s(t,e,i,r,o,s){if(i==e)return null;var a;if(o<t[e+r-1])return s?((a=t.slice(e,e+r))[r-1]=o,a):null;if(t[i-1]<o)return s?((a=t.slice(i-r,i))[r-1]=o,a):null;if(o==t[e+r-1])return t.slice(e,e+r);for(var h=e/r,l=i/r;h<l;){var c=h+l>>1;o<t[(c+1)*r-1]?l=c:h=c+1}var u=t[h*r-1];if(o==u)return t.slice((h-1)*r,(h-1)*r+r);var f=(o-u)/(t[(h+1)*r-1]-u);a=[];for(var p=0;p<r-1;++p)a.push(Object(n.e)(t[(h-1)*r+p],t[h*r+p],f));return a.push(o),a}function a(t,e,i,r,n,o,a){if(a)return s(t,e,i[i.length-1],r,n,o);var h;if(n<t[r-1])return o?((h=t.slice(0,r))[r-1]=n,h):null;if(t[t.length-1]<n)return o?((h=t.slice(t.length-r))[r-1]=n,h):null;for(var l=0,c=i.length;l<c;++l){var u=i[l];if(e!=u){if(n<t[e+r-1])return null;if(n<=t[u-1])return s(t,e,u,r,n,!1);e=u}}return null}},b7df:function(t,e,i){"use strict";i.d(e,"b",(function(){return h}));var r=i("fced"),n=i("1300"),o=i("38f3"),s=i("256f"),a=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return t.prototype.getReadOptions=function(t,e){var i;if(e){var n=e.dataProjection?Object(s.i)(e.dataProjection):this.readProjection(t);e.extent&&n&&n.getUnits()===r.b.TILE_PIXELS&&(n=Object(s.i)(n)).setWorldExtent(e.extent),i={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(i)},t.prototype.adaptOptions=function(t){return Object(o.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Object(n.b)()},t.prototype.readFeature=function(t,e){return Object(n.b)()},t.prototype.readFeatures=function(t,e){return Object(n.b)()},t.prototype.readGeometry=function(t,e){return Object(n.b)()},t.prototype.readProjection=function(t){return Object(n.b)()},t.prototype.writeFeature=function(t,e){return Object(n.b)()},t.prototype.writeFeatures=function(t,e){return Object(n.b)()},t.prototype.writeGeometry=function(t,e){return Object(n.b)()},t}();function h(t,e,i){var r,n=i?Object(s.i)(i.featureProjection):null,o=i?Object(s.i)(i.dataProjection):null;if(r=n&&o&&!Object(s.d)(n,o)?(e?t.clone():t).transform(e?n:o,e?o:n):t,e&&i&&void 0!==i.decimals){var a=Math.pow(10,i.decimals);r===t&&(r=t.clone()),r.applyTransform((function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return r}e.a=a},c560:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return l})),i.d(e,"e",(function(){return c}));var r=i("0af5"),n=i("fd4d"),o=i("25f1");function s(t,e,i,o,s){var a=Object(r.s)(Object(r.k)(),t,e,i,o);return!!Object(r.G)(s,a)&&(!!Object(r.h)(s,a)||(a[0]>=s[0]&&a[2]<=s[2]||(a[1]>=s[1]&&a[3]<=s[3]||Object(n.a)(t,e,i,o,(function(t,e){return Object(r.H)(s,t,e)})))))}function a(t,e,i,r,n){for(var o=0,a=i.length;o<a;++o){if(s(t,e,i[o],r,n))return!0;e=i[o]}return!1}function h(t,e,i,r,n){return!!s(t,e,i,r,n)||(!!Object(o.b)(t,e,i,r,n[0],n[1])||(!!Object(o.b)(t,e,i,r,n[0],n[3])||(!!Object(o.b)(t,e,i,r,n[2],n[1])||!!Object(o.b)(t,e,i,r,n[2],n[3]))))}function l(t,e,i,r,n){if(!h(t,e,i[0],r,n))return!1;if(1===i.length)return!0;for(var a=1,l=i.length;a<l;++a)if(Object(o.a)(t,i[a-1],i[a],r,n)&&!s(t,i[a-1],i[a],r,n))return!1;return!0}function c(t,e,i,r,n){for(var o=0,s=i.length;o<s;++o){var a=i[o];if(l(t,e,a,r,n))return!0;e=a[a.length-1]}return!1}},c946:function(t,e,i){"use strict";var r,n=i("f78c"),o=i("e98d"),s=i("a896"),a=i("ddea"),h=i("9f5e"),l=i("0af5"),c=i("bef8"),u=i("9abc"),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t){function e(e,i,r,n,o,a,h){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=i,l.extent_=r,l.transform_=n,l.viewRotation_=o,l.squaredTolerance_=a,l.userTransform_=h,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=Object(s.c)(),l}return f(e,t),e.prototype.drawImages_=function(t,e,i,r){if(this.image_){var n=Object(c.c)(t,e,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,h=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=h*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,f=n.length;u<f;u+=2){var p=n[u]-this.imageAnchorX_,d=n[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var g=p+this.imageAnchorX_,_=d+this.imageAnchorY_;Object(s.b)(a,g,_,1,1,l,-g,-_),o.setTransform.apply(o,a),o.translate(g,_),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=h)}},e.prototype.drawText_=function(t,e,i,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=Object(c.c)(t,e,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<i;e+=r){var h=n[e]+this.textOffsetX_,l=n[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=Object(s.b)(this.tmpLocalTransform_,h,l,1,1,a,-h,-l);o.setTransform.apply(o,u),o.translate(h,l),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,h,l),this.textFillState_&&o.fillText(this.text_,h,l)}}},e.prototype.moveToLineTo_=function(t,e,i,r,n){var o=this.context_,s=Object(c.c)(t,e,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;n&&(a-=2);for(var h=2;h<a;h+=2)o.lineTo(s[h],s[h+1]);return n&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,r){for(var n=0,o=i.length;n<o;++n)e=this.moveToLineTo_(t,e,i[n],r,!0);return e},e.prototype.drawCircle=function(t){if(Object(l.G)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(u.b)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],r=e[3]-e[1],n=Math.sqrt(i*i+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(l.G)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,r=e.length;i<r;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(l.G)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(l.G)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,r=t.getFlatCoordinates(),n=0,o=t.getEnds(),s=t.getStride();i.beginPath();for(var a=0,h=o.length;a<h;++a)n=this.moveToLineTo_(r,n,o[a],s,!1);i.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(l.G)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(l.G)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),r=0,n=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=n.length;s<a;++s){var h=n[s];r=this.drawRings_(i,r,h,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(h.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:a.l;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=r&&(i.textAlign=r,e.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var i=this;if(t){var r=t.getColor();this.fillState_={fillStyle:Object(o.a)(r||a.b)}}else this.fillState_=null;if(e){var n=e.getColor(),s=e.getLineCap(),h=e.getLineDash(),l=e.getLineDashOffset(),c=e.getLineJoin(),u=e.getWidth(),f=e.getMiterLimit(),p=h||a.e;this.strokeState_={lineCap:void 0!==s?s:a.d,lineDash:1===this.pixelRatio_?p:p.map((function(t){return t*i.pixelRatio_})),lineDashOffset:(l||a.f)*this.pixelRatio_,lineJoin:void 0!==c?c:a.g,lineWidth:(void 0!==u?u:a.h)*this.pixelRatio_,miterLimit:void 0!==f?f:a.i,strokeStyle:Object(o.a)(n||a.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var i=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Object(o.a)(i||a.b)}}else this.textFillState_=null;var r=t.getStroke();if(r){var n=r.getColor(),s=r.getLineCap(),h=r.getLineDash(),l=r.getLineDashOffset(),c=r.getLineJoin(),u=r.getWidth(),f=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:a.d,lineDash:h||a.e,lineDashOffset:l||a.f,lineJoin:void 0!==c?c:a.g,lineWidth:void 0!==u?u:a.h,miterLimit:void 0!==f?f:a.i,strokeStyle:Object(o.a)(n||a.k)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),g=t.getOffsetY(),_=t.getRotateWithView(),y=t.getRotation(),v=t.getScaleArray(),m=t.getText(),x=t.getTextAlign(),b=t.getTextBaseline();this.textState_={font:void 0!==p?p:a.c,textAlign:void 0!==x?x:a.l,textBaseline:void 0!==b?b:a.m},this.text_=void 0!==m?Array.isArray(m)?m.reduce((function(t,e,i){return t+(i%2?" ":e)}),""):m:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0!==y?y:0,this.textScale_=[this.pixelRatio_*v[0],this.pixelRatio_*v[1]]}else this.text_=""},e}(n.a);e.a=p},ca42:function(t,e,i){"use strict";function r(t){return Math.pow(t,3)}function n(t){return 1-r(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return s}))},ce2c:function(t,e,i){"use strict";var r,n=i("35d8"),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=function(t){function e(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0],declutterMode:i.declutterMode})||this}return o(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(n.a);e.a=s},d202:function(t,e,i){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},d352:function(t,e,i){"use strict";var r,n=i("01d4"),o=i("8f37"),s=i("0af5"),a=i("1e8d"),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(e){var i=t.call(this)||this;return i.geometries_=e||null,i.changeEventsKeys_=[],i.listenGeometriesChange_(),i}return h(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(a.c),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(a.a)(this.geometries_[t],n.a.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,r){if(r<Object(s.f)(this.getExtent(),t,e))return r;for(var n=this.geometries_,o=0,a=n.length;o<a;++o)r=n[o].closestPointXY(t,e,i,r);return r},e.prototype.containsXY=function(t,e){for(var i=this.geometries_,r=0,n=i.length;r<n;++r)if(i[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(s.m)(t);for(var e=this.geometries_,i=0,r=e.length;i<r;++i)Object(s.q)(t,e[i].getExtent());return t},e.prototype.getGeometries=function(){return c(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,i=0,r=e.length;i<r;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var i=[],r=this.geometries_,n=!1,o=0,s=r.length;o<s;++o){var a=r[o],h=a.getSimplifiedGeometry(t);i.push(h),h!==a&&(n=!0)}if(n){var l=new e(null);return l.setGeometriesArray(i),l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,i=0,r=e.length;i<r;++i)if(e[i].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var i=this.geometries_,r=0,n=i.length;r<n;++r)i[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,i){var r=i;r||(r=Object(s.x)(this.getExtent()));for(var n=this.geometries_,o=0,a=n.length;o<a;++o)n[o].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(c(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,i=0,r=e.length;i<r;++i)e[i].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var i=this.geometries_,r=0,n=i.length;r<n;++r)i[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(o.a);function c(t){for(var e=[],i=0,r=t.length;i<r;++i)e.push(t[i].clone());return e}e.a=l},e300:function(t,e,i){"use strict";var r,n=i("835b"),o=i("e269"),s=i("183a"),a=i("cef7"),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l="length",c=function(t){function e(e,i,r){var n=t.call(this,e)||this;return n.element=i,n.index=r,n}return h(e,t),e}(a.a),u=function(t){function e(e,i){var r=t.call(this)||this;r.on,r.once,r.un;var n=i||{};if(r.unique_=!!n.unique,r.array_=e||[],r.unique_)for(var o=0,s=r.array_.length;o<s;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return h(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,r=e.length;i<r;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(l)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(s.a.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,r=e.length;i<r;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(s.a.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(s.a.REMOVE,r,t)),this.dispatchEvent(new c(s.a.ADD,e,t))}else{for(var n=i;n<t;++n)this.insertAt(n,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(l,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===t&&i!==e)throw new n.a(58)},e}(o.a);e.a=u},e98d:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i("5c38");function n(t){return Array.isArray(t)?Object(r.c)(t):t}},f78c:function(t,e,i){"use strict";var r=function(){function t(){}return t.prototype.drawCustom=function(t,e,i,r){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();e.a=r},fd4d:function(t,e,i){"use strict";function r(t,e,i,r,n){var o;for(e+=r;e<i;e+=r)if(o=n(t.slice(e-r,e),t.slice(e,e+r)))return o;return!1}i.d(e,"a",(function(){return r}))}}]);