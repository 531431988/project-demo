(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-213f9430","chunk-88550bf2","chunk-1f41d3d3","chunk-3beb5e93","chunk-27686baa","chunk-439a5096","chunk-ad7ab922","chunk-676e52b8","chunk-a84e01c4","chunk-2ad38162","chunk-73e14660","chunk-73e14660","chunk-0edeb2bd","chunk-2d0f04a1"],{"0a9d":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a}));var n=i("25f1"),r=i("9f5e");function o(t,e,i,o,a,s,l){for(var h,c,u,f,p,d,g,_=a[s+1],y=[],v=0,m=i.length;v<m;++v){var x=i[v];for(f=t[x-o],d=t[x-o+1],h=e;h<x;h+=o)p=t[h],g=t[h+1],(_<=d&&g<=_||d<=_&&_<=g)&&(u=(_-d)/(g-d)*(p-f)+f,y.push(u)),f=p,d=g}var b=NaN,O=-1/0;for(y.sort(r.g),f=y[0],h=1,c=y.length;h<c;++h){p=y[h];var S=Math.abs(p-f);S>O&&(u=(f+p)/2,Object(n.c)(t,e,i,o,u,_)&&(b=u,O=S)),f=p}return isNaN(b)&&(b=a[s]),l?(l.push(b,_,O),l):[b,_,O]}function a(t,e,i,n,r){for(var a=[],s=0,l=i.length;s<l;++s){var h=i[s];a=o(t,e,h,n,r,2*s,a),e=h[h.length-1]}return a}},"137e":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("faf4"),o=i("3333"),a=i("070d"),s=i("a896"),l=i("5c38"),h=i("0af5"),c=i("0999"),u=i("9f5e"),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=[],d=null;var g=function(t){function e(e){var i=t.call(this,e)||this;return i.container=null,i.renderedResolution,i.tempTransform=Object(s.c)(),i.pixelTransform=Object(s.c)(),i.inversePixelTransform=Object(s.c)(),i.context=null,i.containerReused=!1,i.pixelContext_=null,i.frameState=null,i}return f(e,t),e.prototype.getImageData=function(t,e,i){var n,r;d||((n=document.createElement("canvas")).width=1,n.height=1,d=n.getContext("2d")),d.clearRect(0,0,1,1);try{d.drawImage(t,e,i,1,1,0,0,1,1),r=d.getImageData(0,0,1,1).data}catch(t){return d=null,null}return r},e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,i){var n,r,o=this.getLayer().getClassName();t&&t.className===o&&(!i||t&&t.style.backgroundColor&&Object(u.b)(Object(l.a)(t.style.backgroundColor),Object(l.a)(i)))&&((s=t.firstElementChild)instanceof HTMLCanvasElement&&(r=s.getContext("2d")));if(r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=o;var a=n.style;a.position="absolute",a.width="100%",a.height="100%";var s=(r=Object(c.a)()).canvas;n.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=n,this.context=r}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)},e.prototype.clipUnrotated=function(t,e,i){var n=Object(h.D)(i),r=Object(h.E)(i),o=Object(h.w)(i),a=Object(h.v)(i);Object(s.a)(e.coordinateToPixelTransform,n),Object(s.a)(e.coordinateToPixelTransform,r),Object(s.a)(e.coordinateToPixelTransform,o),Object(s.a)(e.coordinateToPixelTransform,a);var l=this.inversePixelTransform;Object(s.a)(l,n),Object(s.a)(l,r),Object(s.a)(l,o),Object(s.a)(l,a),t.save(),t.beginPath(),t.moveTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,i){var n=this.getLayer();if(n.hasListener(t)){var r=new o.a(t,this.inversePixelTransform,i,e);n.dispatchEvent(r)}},e.prototype.preRender=function(t,e){this.frameState=e,this.dispatchRenderEvent_(a.a.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(a.a.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,i,n,r,o,a){var l=r/2,h=o/2,c=n/e,u=-c,f=-t[0]+a,p=-t[1];return Object(s.b)(this.tempTransform,l,h,c,u,-i,f,p)},e.prototype.getDataAtPixel=function(t,e,i){var n=Object(s.a)(this.inversePixelTransform,t.slice()),r=this.context,o=this.getLayer().getExtent();if(o){var a=Object(s.a)(e.pixelToCoordinateTransform,t.slice());if(!Object(h.g)(o,a))return null}var l,c=Math.round(n[0]),u=Math.round(n[1]),f=this.pixelContext_;if(!f){var p=document.createElement("canvas");p.width=1,p.height=1,f=p.getContext("2d"),this.pixelContext_=f}f.clearRect(0,0,1,1);try{f.drawImage(r.canvas,c,u,1,1,0,0,1,1),l=f.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?(this.pixelContext_=null,new Uint8Array):l}return 0===l[3]?null:l},e.prototype.disposeInternal=function(){delete this.frameState,t.prototype.disposeInternal.call(this)},e}(r.a);e.b=g},"183a":function(t,e,i){"use strict";e.a={ADD:"add",REMOVE:"remove"}},"20ce":function(t,e,i){},"25a5":function(t,e,i){t.exports=function(){"use strict";function t(t,n,r,o,a){!function t(i,n,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,l=n-r+1,h=Math.log(s),c=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*c*(s-c)/s)*(l-s/2<0?-1:1);t(i,n,Math.max(r,Math.floor(n-l*c/s+u)),Math.min(o,Math.floor(n+(s-l)*c/s+u)),a)}var f=i[n],p=r,d=o;for(e(i,r,n),a(i[o],f)>0&&e(i,r,o);p<d;){for(e(i,p,d),p++,d--;a(i[p],f)<0;)p++;for(;a(i[d],f)>0;)d--}0===a(i[r],f)?e(i,r,d):e(i,++d,o),d<=n&&(r=d+1),n<=d&&(o=d-1)}}(t,n,r||0,o||t.length-1,a||i)}function e(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function i(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,n,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<i;o++){var a=t.children[o];s(r,t.leaf?n(a):a)}return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,i,n,r,o){for(var a=[i,n];a.length;)if(!((n=a.pop())-(i=a.pop())<=r)){var s=i+Math.ceil((n-i)/r/2)*r;t(e,s,i,n,o),a.push(i,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,i=[];if(!p(t,e))return i;for(var n=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?n(a):a;p(t,s)&&(e.leaf?i.push(a):f(t,s)?this._all(a,i):r.push(a))}e=r.pop()}return i},n.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var r=e.children[n],o=e.leaf?this.toBBox(r):r;if(p(t,o)){if(e.leaf||f(t,o))return!0;i.push(r)}}e=i.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var i,n,o,a=this.data,s=this.toBBox(t),l=[],h=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],i=h.pop(),o=!0),a.leaf){var c=r(t,a.children,e);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!f(a,s)?n?(i++,a=n.children[i],o=!1):a=null:(l.push(a),h.push(i),i=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},n.prototype._build=function(t,e,i,n){var r,a=i-e+1,s=this._maxEntries;if(a<=s)return o(r=d(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(r=d([])).leaf=!1,r.height=n;var l=Math.ceil(a/s),h=l*Math.ceil(Math.sqrt(s));g(t,e,i,h,this.compareMinX);for(var c=e;c<=i;c+=h){var u=Math.min(c+h-1,i);g(t,c,u,l,this.compareMinY);for(var f=c;f<=u;f+=l){var p=Math.min(f+l-1,u);r.children.push(this._build(t,f,p,n-1))}}return o(r,this.toBBox),r},n.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var r=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],h=c(l),u=(f=t,p=l,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-h);u<o?(o=u,r=h<r?h:r,a=l):u===o&&h<r&&(r=h,a=l)}e=a||e.children[0]}var f,p;return e},n.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),r=[],o=this._chooseSubtree(n,this.data,e,r);for(o.children.push(t),s(o,n);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(n,r,e)},n.prototype._split=function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n),s=d(i.children.splice(a,i.children.length-a));s.height=i.height,s.leaf=i.leaf,o(i,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},n.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,i){for(var n,r,o,s,l,h,u,f=1/0,p=1/0,d=e;d<=i-e;d++){var g=a(t,0,d,this.toBBox),_=a(t,d,i,this.toBBox),y=(r=g,o=_,s=Math.max(r.minX,o.minX),l=Math.max(r.minY,o.minY),h=Math.min(r.maxX,o.maxX),u=Math.min(r.maxY,o.maxY),Math.max(0,h-s)*Math.max(0,u-l)),v=c(g)+c(_);y<f?(f=y,n=d,p=v<p?v:p):y===f&&v<p&&(p=v,n=d)}return n||i-e},n.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var r=this.toBBox,o=a(t,0,e,r),l=a(t,i-e,i,r),h=u(o)+u(l),c=e;c<i-e;c++){var f=t.children[c];s(o,t.leaf?r(f):f),h+=u(o)}for(var p=i-e-1;p>=e;p--){var d=t.children[p];s(l,t.leaf?r(d):d),h+=u(l)}return h},n.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)s(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},n}()},"25f1":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return s}));var n=i("0af5");function r(t,e,i,r,a){return!Object(n.t)(a,(function(n){return!o(t,e,i,r,n[0],n[1])}))}function o(t,e,i,n,r,o){for(var a=0,s=t[i-n],l=t[i-n+1];e<i;e+=n){var h=t[e],c=t[e+1];l<=o?c>o&&(h-s)*(o-l)-(r-s)*(c-l)>0&&a++:c<=o&&(h-s)*(o-l)-(r-s)*(c-l)<0&&a--,s=h,l=c}return 0!==a}function a(t,e,i,n,r,a){if(0===i.length)return!1;if(!o(t,e,i[0],n,r,a))return!1;for(var s=1,l=i.length;s<l;++s)if(o(t,i[s-1],i[s],n,r,a))return!1;return!0}function s(t,e,i,n,r,o){if(0===i.length)return!1;for(var s=0,l=i.length;s<l;++s){var h=i[s];if(a(t,e,h,n,r,o))return!0;e=h[h.length-1]}return!1}},"29f6":function(t,e,i){"use strict";e.a={POINT:"point",LINE:"line"}},"2db5":function(t,e,i){"use strict";i("5892")},"30d1":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return h}));var n=i("869f"),r=i("1300"),o={Point:function(t,e,i,r,o){var a,s=i.getImage(),l=i.getText();if(s){if(s.getImageState()!=n.a.LOADED)return;var h=t;if(o){var c=s.getDeclutterMode();if("none"!==c)if(h=o,"obstacle"===c){var u=t.getBuilder(i.getZIndex(),"Image");u.setImageStyle(s,a),u.drawPoint(e,r)}else l&&l.getText()&&(a={})}var f=h.getBuilder(i.getZIndex(),"Image");f.setImageStyle(s,a),f.drawPoint(e,r)}if(l&&l.getText()){var p=t;o&&(p=o);var d=p.getBuilder(i.getZIndex(),"Text");d.setTextStyle(l,a),d.drawText(e,r)}},LineString:function(t,e,i,n,r){var o=i.getStroke();if(o){var a=t.getBuilder(i.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,n)}var s=i.getText();if(s&&s.getText()){var l=(r||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,n)}},Polygon:function(t,e,i,n,r){var o=i.getFill(),a=i.getStroke();if(o||a){var s=t.getBuilder(i.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawPolygon(e,n)}var l=i.getText();if(l&&l.getText()){var h=(r||t).getBuilder(i.getZIndex(),"Text");h.setTextStyle(l),h.drawText(e,n)}},MultiPoint:function(t,e,i,r,o){var a,s=i.getImage(),l=i.getText();if(s){if(s.getImageState()!=n.a.LOADED)return;var h=t;if(o){var c=s.getDeclutterMode();if("none"!==c)if(h=o,"obstacle"===c){var u=t.getBuilder(i.getZIndex(),"Image");u.setImageStyle(s,a),u.drawMultiPoint(e,r)}else l&&l.getText()&&(a={})}var f=h.getBuilder(i.getZIndex(),"Image");f.setImageStyle(s,a),f.drawMultiPoint(e,r)}if(l&&l.getText()){var p=t;o&&(p=o);var d=p.getBuilder(i.getZIndex(),"Text");d.setTextStyle(l,a),d.drawText(e,r)}},MultiLineString:function(t,e,i,n,r){var o=i.getStroke();if(o){var a=t.getBuilder(i.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,n)}var s=i.getText();if(s&&s.getText()){var l=(r||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,n)}},MultiPolygon:function(t,e,i,n,r){var o=i.getFill(),a=i.getStroke();if(a||o){var s=t.getBuilder(i.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,n)}var l=i.getText();if(l&&l.getText()){var h=(r||t).getBuilder(i.getZIndex(),"Text");h.setTextStyle(l),h.drawText(e,n)}},GeometryCollection:function(t,e,i,n,r){var a,s,l=e.getGeometriesArray();for(a=0,s=l.length;a<s;++a){(0,o[l[a].getType()])(t,l[a],i,n,r)}},Circle:function(t,e,i,n,r){var o=i.getFill(),a=i.getStroke();if(o||a){var s=t.getBuilder(i.getZIndex(),"Circle");s.setFillStrokeStyle(o,a),s.drawCircle(e,n)}var l=i.getText();if(l&&l.getText()){var h=(r||t).getBuilder(i.getZIndex(),"Text");h.setTextStyle(l),h.drawText(e,n)}}};function a(t,e){return parseInt(Object(r.c)(t),10)-parseInt(Object(r.c)(e),10)}function s(t,e){var i=l(t,e);return i*i}function l(t,e){return.5*t/e}function h(t,e,i,r,a,s,l){var h=!1,c=i.getImage();if(c){var u=c.getImageState();u==n.a.LOADED||u==n.a.ERROR?c.unlistenImageChange(a):(u==n.a.IDLE&&c.load(),c.listenImageChange(a),h=!0)}return function(t,e,i,n,r,a){var s=i.getGeometryFunction()(e);if(!s)return;var l=s.simplifyTransformed(n,r);if(i.getRenderer())!function t(e,i,n,r){if("GeometryCollection"==i.getType()){for(var o=i.getGeometries(),a=0,s=o.length;a<s;++a)t(e,o[a],n,r);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(i,r,n.getRenderer(),n.getHitDetectionRenderer())}(t,l,i,e);else{(0,o[l.getType()])(t,l,i,e,a)}}(t,e,i,r,s,l),h}},"35d8":function(t,e,i){"use strict";var n,r=i("869f"),o=i("ab35"),a=i("5c38"),s=i("e98d"),l=i("0999"),h=i("ddea"),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e){var i=this,n=void 0!==e.rotateWithView&&e.rotateWithView;return(i=t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})||this).canvas_=void 0,i.hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=void 0!==e.radius?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.size_=null,i.renderOptions_=null,i.render(),i}return c(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t,this.render()},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var i=this.renderOptions_,n=Object(l.a)(i.size*t,i.size*t);this.draw_(i,n,t),e=n.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return r.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t,this.render()},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,i){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var n=this.radius_,r=void 0===this.radius2_?n:this.radius2_;if(n<r){var o=n;n=r,r=o}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=r*Math.sin(s),h=n-Math.sqrt(r*r-l*l),c=Math.sqrt(l*l+h*h),u=c/l;if("miter"===t&&u<=i)return u*e;var f=e/2/u,p=e/2*(h/c),d=Math.sqrt((n+f)*(n+f)+p*p)-n;if(void 0===this.radius2_||"bevel"===t)return 2*d;var g=n*Math.sin(s),_=r-Math.sqrt(n*n-g*g),y=Math.sqrt(g*g+_*_)/g;if(y<=i){var v=y*e/2-r-n;return 2*Math.max(d,v)}return 2*d},e.prototype.createRenderOptions=function(){var t,e=h.g,i=0,n=null,r=0,o=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=h.k),t=Object(s.a)(t),void 0===(o=this.stroke_.getWidth())&&(o=h.h),n=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=h.g),void 0===(i=this.stroke_.getMiterLimit())&&(i=h.i));var a=this.calculateLineJoinSize_(e,o,i),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*l+a),lineDash:n,lineDashOffset:r,lineJoin:e,miterLimit:i}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var n=this.fill_.getColor();null===n&&(n=h.b),e.fillStyle=Object(s.a)(n),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),i=0;if("string"==typeof e&&(e=Object(a.a)(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){var n=Object(l.a)(t.size,t.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(t,n)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{var n=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var r=this.angle_-Math.PI/2,o=2*Math.PI/e,a=0;a<e;a++){var s=r+a*o,l=a%2==0?i:n;t.lineTo(l*Math.cos(s),l*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=h.b,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(o.a);e.a=u},"3e6b":function(t,e,i){"use strict";var n,r=i("ae50"),o={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},a=[o.FILL],s=[o.STROKE],l=[o.BEGIN_PATH],h=[o.CLOSE_PATH],c=o,u=i("045d"),f=i("f78c"),p=i("e98d"),d=i("0af5"),g=i("ddea"),_=i("9f5e"),y=i("bb6c"),v=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),m=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=i,o.pixelRatio=r,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return v(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates,o=r.length,a=0,s=t.length;a<s;a+=e)n[0]=t[a],n[1]=t[a+1],Object(d.g)(i,n)&&(r[o++]=n[0],r[o++]=n[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,i,n,r,o){var a=this.coordinates,s=a.length,l=this.getBufferedMaxExtent();o&&(e+=n);var h,c,f,p=t[e],g=t[e+1],_=this.tmpCoordinate_,y=!0;for(h=e+n;h<i;h+=n)_[0]=t[h],_[1]=t[h+1],(f=Object(d.j)(l,_))!==c?(y&&(a[s++]=p,a[s++]=g,y=!1),a[s++]=_[0],a[s++]=_[1]):f===u.a.INTERSECTING?(a[s++]=_[0],a[s++]=_[1],y=!1):y=!0,p=_[0],g=_[1],c=f;return(r&&y||h===e+n)&&(a[s++]=p,a[s++]=g),s},e.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o],l=this.appendFlatLineCoordinates(t,e,s,n,!1,!1);r.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,i,n){this.beginGeometry(t,e);var r,o,a,s,l,h=t.getType(),u=t.getStride(),f=this.coordinates.length;switch(h){case"MultiPolygon":r=t.getOrientedFlatCoordinates(),s=[];var p=t.getEndss();l=0;for(var d=0,g=p.length;d<g;++d){var _=[];l=this.drawCustomCoordinates_(r,l,p[d],u,_),s.push(_)}this.instructions.push([c.CUSTOM,f,s,t,i,y.c]),this.hitDetectionInstructions.push([c.CUSTOM,f,s,t,n||i,y.c]);break;case"Polygon":case"MultiLineString":a=[],r="Polygon"==h?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),l=this.drawCustomCoordinates_(r,0,t.getEnds(),u,a),this.instructions.push([c.CUSTOM,f,a,t,i,y.b]),this.hitDetectionInstructions.push([c.CUSTOM,f,a,t,n||i,y.b]);break;case"LineString":case"Circle":r=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(r,0,r.length,u,!1,!1),this.instructions.push([c.CUSTOM,f,o,t,i,y.a]),this.hitDetectionInstructions.push([c.CUSTOM,f,o,t,n||i,y.a]);break;case"MultiPoint":r=t.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(r,u))>f&&(this.instructions.push([c.CUSTOM,f,o,t,i,y.a]),this.hitDetectionInstructions.push([c.CUSTOM,f,o,t,n||i,y.a]));break;case"Point":r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),o=this.coordinates.length,this.instructions.push([c.CUSTOM,f,o,t,i]),this.hitDetectionInstructions.push([c.CUSTOM,f,o,t,n||i])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[c.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[c.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,r=e.length,o=-1;for(t=0;t<r;++t)(n=(i=e[t])[0])==c.END_GEOMETRY?o=t:n==c.BEGIN_GEOMETRY&&(i[2]=t,Object(_.h)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=Object(p.a)(n||g.b)}else i.fillStyle=void 0;if(e){var r=e.getColor();i.strokeStyle=Object(p.a)(r||g.k);var o=e.getLineCap();i.lineCap=void 0!==o?o:g.d;var a=e.getLineDash();i.lineDash=a?a.slice():g.e;var s=e.getLineDashOffset();i.lineDashOffset=s||g.f;var l=e.getLineJoin();i.lineJoin=void 0!==l?l:g.g;var h=e.getWidth();i.lineWidth=void 0!==h?h:g.h;var c=e.getMiterLimit();i.miterLimit=void 0!==c?c:g.i,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,i=[c.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[c.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,r=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||r!=t.currentLineDash&&!Object(_.b)(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[c.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(d.e)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(d.d)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(f.a),x=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),b=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterMode_=void 0,o.declutterImageWithText_=void 0,o}return x(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,n);this.instructions.push([c.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([c.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,n);this.instructions.push([c.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([c.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e},e}(m),O=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),S=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return O(e,t),e.prototype.drawFlatCoordinates_=function(t,e,i,n){var r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),a=[c.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i},e.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,g.e,g.f],l);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(s),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],l);for(var o=t.getEnds(),a=t.getFlatCoordinates(),h=t.getStride(),u=0,f=0,p=o.length;f<p;++f)u=this.drawFlatCoordinates_(a,u,o[f],h);this.hitDetectionInstructions.push(s),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(s),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(s),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(l)},e}(m),w=i("1c48"),C=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),E=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return C(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state,o=void 0!==r.fillStyle,u=void 0!==r.strokeStyle,f=i.length;this.instructions.push(l),this.hitDetectionInstructions.push(l);for(var p=0;p<f;++p){var d=i[p],g=this.coordinates.length,_=this.appendFlatLineCoordinates(t,e,d,n,!0,!u),y=[c.MOVE_TO_LINE_TO,g,_];this.instructions.push(y),this.hitDetectionInstructions.push(y),u&&(this.instructions.push(h),this.hitDetectionInstructions.push(h)),e=d}return o&&(this.instructions.push(a),this.hitDetectionInstructions.push(a)),u&&(this.instructions.push(s),this.hitDetectionInstructions.push(s)),e},e.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([c.SET_FILL_STYLE,g.b]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getFlatCoordinates(),h=t.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,h,!1,!1);var f=[c.CIRCLE,u];this.instructions.push(l,f),this.hitDetectionInstructions.push(l,f),void 0!==i.fillStyle&&(this.instructions.push(a),this.hitDetectionInstructions.push(a)),void 0!==i.strokeStyle&&(this.instructions.push(s),this.hitDetectionInstructions.push(s)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([c.SET_FILL_STYLE,g.b]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([c.SET_FILL_STYLE,g.b]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,h=0,u=o.length;h<u;++h)l=this.drawFlatCoordinatess_(a,l,o[h],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,n=0,r=i.length;n<r;++n)i[n]=Object(w.e)(i[n],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(m),j=i("29f6"),I=i("1300");function T(t,e,i,n,r){var o,a,s,l,h,c,u,f,p,d=i,g=i,_=0,y=0,v=i;for(o=i;o<n;o+=r){var m=e[o],x=e[o+1];void 0!==l&&(f=m-l,p=x-h,s=Math.sqrt(f*f+p*p),void 0!==c&&(y+=a,Math.acos((c*f+u*p)/(a*s))>t&&(y>_&&(_=y,d=v,g=o),y=0,v=o-r)),a=s,c=f,u=p),l=m,h=x}return(y+=s)>_?[v,o]:[d,g]}var R=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),D={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},k={Circle:E,Default:m,Image:b,LineString:S,Polygon:E,Text:function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return R(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o=this.coordinates,a=o.length,s=t.getType(),l=null,h=t.getStride();if(r.placement!==j.a.LINE||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var u=r.overflow?null:[];switch(s){case"Point":case"MultiPoint":l=t.getFlatCoordinates();break;case"LineString":l=t.getFlatMidpoint();break;case"Circle":l=t.getCenter();break;case"MultiLineString":l=t.getFlatMidpoints(),h=2;break;case"Polygon":l=t.getFlatInteriorPoint(),r.overflow||u.push(l[2]/this.resolution),h=3;break;case"MultiPolygon":var f=t.getFlatInteriorPoints();l=[];for(C=0,E=f.length;C<E;C+=3)r.overflow||u.push(f[C+2]/this.resolution),l.push(f[C],f[C+1]);if(0===l.length)return;h=2}if((P=this.appendFlatPointCoordinates(l,h))===a)return;if(u&&(P-a)/2!=l.length/h){var p=a/2;u=u.filter((function(t,e){var i=o[2*(p+e)]===l[e*h]&&o[2*(p+e)+1]===l[e*h+1];return i||--p,i}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var _=r.padding;if(_!=g.j&&(r.scale[0]<0||r.scale[1]<0)){var y=r.padding[0],v=r.padding[1],m=r.padding[2],x=r.padding[3];r.scale[0]<0&&(v=-v,x=-x),r.scale[1]<0&&(y=-y,m=-m),_=[y,v,m,x]}var b=this.pixelRatio;this.instructions.push([c.DRAW_IMAGE,a,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,_==g.j?g.j:_.map((function(t){return t*b})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]);var O=1/b;this.hitDetectionInstructions.push([c.DRAW_IMAGE,a,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[O,O],NaN,void 0,this.declutterImageWithText_,_,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]),this.endGeometry(e)}else{if(!Object(d.G)(this.getBufferedMaxExtent(),t.getExtent()))return;var S=void 0;if(l=t.getFlatCoordinates(),"LineString"==s)S=[l.length];else if("MultiLineString"==s)S=t.getEnds();else if("Polygon"==s)S=t.getEnds().slice(0,1);else if("MultiPolygon"==s){var w=t.getEndss();S=[];for(var C=0,E=w.length;C<E;++C)S.push(w[C][0])}this.beginGeometry(t,e);for(var I=r.textAlign,R=0,D=void 0,k=0,L=S.length;k<L;++k){if(null==I){var M=T(r.maxAngle,l,R,S[k],h);R=M[0],D=M[1]}else D=S[k];for(var C=R;C<D;C+=h)o.push(l[C],l[C+1]);var P=o.length;R=S[k],this.drawChars_(a,P),a=P}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||g.l,justify:e.justify,textBaseline:e.textBaseline||g.m,scale:e.scale});var o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,n=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=D[n.textBaseline],h=this.textOffsetY_*s,u=this.text_,f=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([c.DRAW_CHARS,t,e,l,n.overflow,a,n.maxAngle,s,h,r,f*s,u,o,1]),this.hitDetectionInstructions.push([c.DRAW_CHARS,t,e,l,n.overflow,a,n.maxAngle,1,h,r,f,u,o,1/s])},e.prototype.setTextStyle=function(t,e){var i,n,r;if(t){var o=t.getFill();o?((n=this.textFillState_)||(n={},this.textFillState_=n),n.fillStyle=Object(p.a)(o.getColor()||g.b)):(n=null,this.textFillState_=n);var a=t.getStroke();if(a){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var s=a.getLineDash(),l=a.getLineDashOffset(),h=a.getWidth(),c=a.getMiterLimit();r.lineCap=a.getLineCap()||g.d,r.lineDash=s?s.slice():g.e,r.lineDashOffset=void 0===l?g.f:l,r.lineJoin=a.getLineJoin()||g.g,r.lineWidth=void 0===h?g.h:h,r.miterLimit=void 0===c?g.i:c,r.strokeStyle=Object(p.a)(a.getColor()||g.k)}else r=null,this.textStrokeState_=r;i=this.textState_;var u=t.getFont()||g.c;Object(g.q)(u);var f=t.getScaleArray();i.overflow=t.getOverflow(),i.font=u,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||g.m,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||g.j,i.scale=void 0===f?[1,1]:f;var d=t.getOffsetX(),_=t.getOffsetY(),y=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===_?0:_,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===v?0:v,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(I.c)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+Object(I.c)(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(m)},L=function(){function t(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var n in i){var r=i[n].finish();t[e][n]=r}}return t},t.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);var r=n[e];void 0===r&&(r=new(0,k[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=r);return r},t}(),M=i("137e"),P=i("617d"),F=i("a896"),A=i("7fc9"),G=i("bef8");function W(t,e,i,n,r,o,a,s,l,h,c,u){var f=t[e],p=t[e+1],d=0,g=0,_=0,y=0;function v(){d=f,g=p,f=t[e+=n],p=t[e+1],y+=_,_=Math.sqrt((f-d)*(f-d)+(p-g)*(p-g))}do{v()}while(e<i-n&&y+_<o);for(var m=0===_?0:(o-y)/_,x=Object(A.e)(d,f,m),b=Object(A.e)(g,p,m),O=e-n,S=y,w=o+s*l(h,r,c);e<i-n&&y+_<w;)v();m=0===_?0:(w-y)/_;var C,E=Object(A.e)(d,f,m),j=Object(A.e)(g,p,m);if(u){var I=[x,b,E,j];Object(G.a)(I,0,4,2,u,I,I),C=I[0]>I[2]}else C=x>E;var T,R=Math.PI,D=[],k=O+n===e;if(_=0,y=S,f=t[e=O],p=t[e+1],k){v(),T=Math.atan2(p-g,f-d),C&&(T+=T>0?-R:R);var L=(E+x)/2,M=(j+b)/2;return D[0]=[L,M,(w-o)/2,T,r],D}for(var P=0,F=(r=r.replace(/\n/g," ")).length;P<F;){v();var W=Math.atan2(p-g,f-d);if(C&&(W+=W>0?-R:R),void 0!==T){var B=W-T;if(B+=B>R?-2*R:B<-R?2*R:0,Math.abs(B)>a)return null}T=W;for(var Y=P,N=0;P<F;++P){var X=s*l(h,r[C?F-P-1:P],c);if(e+n<i&&y+_<o+N+X/2)break;N+=X}if(P!==Y){var z=C?r.substring(F-Y,F-P):r.substring(Y,P);m=0===_?0:(o+N/2-y)/_;L=Object(A.e)(d,f,m),M=Object(A.e)(g,p,m);D.push([L,M,N/2,W,z]),o+=N}}return D}var B=i("5938"),Y=Object(d.k)(),N=[],X=[],z=[],H=[];function V(t){return t[3].declutterBox}var U=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function J(t,e){return"start"!==e&&"end"!==e||U.test(t)||(e="start"===e?"left":"right"),D[e]}function q(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}var K=function(){function t(t,e,i,n){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=Object(F.c)(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,i,n){var r=t+e+i+n;if(this.labels_[r])return this.labels_[r];var o=n?this.strokeStates[n]:null,a=i?this.fillStates[i]:null,s=this.textStates[e],l=this.pixelRatio,h=[s.scale[0]*l,s.scale[1]*l],c=Array.isArray(t),u=s.justify?D[s.justify]:J(Array.isArray(t)?t[0]:t,s.textAlign||g.l),f=n&&o.lineWidth?o.lineWidth:0,p=c?t:t.split("\n").reduce(q,[]),d=Object(g.o)(s,p),_=d.width,y=d.height,v=d.widths,m=d.heights,x=d.lineWidths,b=_+f,O=[],S=(b+2)*h[0],w=(y+f)*h[1],C={width:S<0?Math.floor(S):Math.ceil(S),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:O};(1==h[0]&&1==h[1]||O.push("scale",h),n)&&(O.push("strokeStyle",o.strokeStyle),O.push("lineWidth",f),O.push("lineCap",o.lineCap),O.push("lineJoin",o.lineJoin),O.push("miterLimit",o.miterLimit),(P.h?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(O.push("setLineDash",[o.lineDash]),O.push("lineDashOffset",o.lineDashOffset)));i&&O.push("fillStyle",a.fillStyle),O.push("textBaseline","middle"),O.push("textAlign","center");for(var E,j=.5-u,I=u*b+j*f,T=[],R=[],k=0,L=0,M=0,F=0,A=0,G=p.length;A<G;A+=2){var W=p[A];if("\n"!==W){var B=p[A+1]||s.font;B!==E&&(n&&T.push("font",B),i&&R.push("font",B),E=B),k=Math.max(k,m[M]);var Y=[W,I+j*v[M]+u*(v[M]-x[F]),.5*(f+k)+L];I+=v[M],n&&T.push("strokeText",Y),i&&R.push("fillText",Y),++M}else L+=k,k=0,I=u*b+j*f,++F}return Array.prototype.push.apply(O,T),Array.prototype.push.apply(O,R),this.labels_[r]=C,C},t.prototype.replayTextBackground_=function(t,e,i,n,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,i,n,r,o,a,s,l,h,c,u,f,p,g,_){var y,v=i-(a*=u[0]),m=n-(s*=u[1]),x=r+l>t?t-l:r,b=o+h>e?e-h:o,O=p[3]+x*u[0]+p[1],S=p[0]+b*u[1]+p[2],w=v-p[3],C=m-p[0];return(g||0!==c)&&(N[0]=w,H[0]=w,N[1]=C,X[1]=C,X[0]=w+O,z[0]=X[0],z[1]=C+S,H[1]=z[1]),0!==c?(y=Object(F.b)(Object(F.c)(),i,n,1,1,c,-i,-n),Object(F.a)(y,N),Object(F.a)(y,X),Object(F.a)(y,z),Object(F.a)(y,H),Object(d.l)(Math.min(N[0],X[0],z[0],H[0]),Math.min(N[1],X[1],z[1],H[1]),Math.max(N[0],X[0],z[0],H[0]),Math.max(N[1],X[1],z[1],H[1]),Y)):Object(d.l)(Math.min(w,w+O),Math.min(C,C+S),Math.max(w,w+O),Math.max(C,C+S),Y),f&&(v=Math.round(v),m=Math.round(m)),{drawImageX:v,drawImageY:m,drawImageW:x,drawImageH:b,originX:l,originY:h,declutterBox:{minX:Y[0],minY:Y[1],maxX:Y[2],maxY:Y[3],value:_},canvasTransform:y,scale:u}},t.prototype.replayImageOrLabel_=function(t,e,i,n,r,o,a){var s=!(!o&&!a),l=n.declutterBox,h=t.canvas,c=a?a[2]*n.scale[0]/2:0;return l.minX-c<=h.width/e&&l.maxX+c>=0&&l.minY-c<=h.height/e&&l.maxY+c>=0&&(s&&this.replayTextBackground_(t,N,X,z,H,o,a),Object(g.n)(t,n.canvasTransform,r,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=Object(F.a)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,i,n){var r=this.textStates[e],o=this.createLabel(t,e,n,i),a=this.strokeStates[i],s=this.pixelRatio,l=J(Array.isArray(t)?t[0]:t,r.textAlign||g.l),h=D[r.textBaseline||g.m],c=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*r.scale[0])+2*(.5-l)*c,anchorY:h*o.height/s+2*(.5-h)*c}},t.prototype.execute_=function(t,e,i,n,r,o,a,s){var l;this.pixelCoordinates_&&Object(_.b)(i,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=Object(G.c)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Object(F.j)(this.renderedTransform_,i));for(var h,u,f,p,y,v,m,x,b,O,S,w,C,E,j,I,T=0,R=n.length,k=0,L=0,M=0,P=null,A=null,Y=this.coordinateCache_,N=this.viewRotation_,X=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,z={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:N},H=this.instructions!=n||this.overlaps?0:200;T<R;){var U=n[T];switch(U[0]){case c.BEGIN_GEOMETRY:C=U[1],I=U[3],C.getGeometry()?void 0===a||Object(d.G)(a,I.getExtent())?++T:T=U[2]+1:T=U[2];break;case c.BEGIN_PATH:L>H&&(this.fill_(t),L=0),M>H&&(t.stroke(),M=0),L||M||(t.beginPath(),p=NaN,y=NaN),++T;break;case c.CIRCLE:var J=l[k=U[1]],q=l[k+1],K=l[k+2]-J,Z=l[k+3]-q,$=Math.sqrt(K*K+Z*Z);t.moveTo(J+$,q),t.arc(J,q,$,0,2*Math.PI,!0),++T;break;case c.CLOSE_PATH:t.closePath(),++T;break;case c.CUSTOM:k=U[1],h=U[2];var Q=U[3],tt=U[4],et=6==U.length?U[5]:void 0;z.geometry=Q,z.feature=C,T in Y||(Y[T]=[]);var it=Y[T];et?et(l,k,h,2,it):(it[0]=l[k],it[1]=l[k+1],it.length=2),tt(it,z),++T;break;case c.DRAW_IMAGE:k=U[1],h=U[2],x=U[3],u=U[4],f=U[5];var nt=U[6],rt=U[7],ot=U[8],at=U[9],st=U[10],lt=U[11],ht=U[12],ct=U[13],ut=U[14],ft=U[15];if(!x&&U.length>=20){b=U[19],O=U[20],S=U[21],w=U[22];var pt=this.drawLabelWithPointPlacement_(b,O,S,w);x=pt.label,U[3]=x;var dt=U[23];u=(pt.anchorX-dt)*this.pixelRatio,U[4]=u;var gt=U[24];f=(pt.anchorY-gt)*this.pixelRatio,U[5]=f,nt=x.height,U[6]=nt,ct=x.width,U[13]=ct}var _t=void 0;U.length>25&&(_t=U[25]);var yt=void 0,vt=void 0,mt=void 0;U.length>17?(yt=U[16],vt=U[17],mt=U[18]):(yt=g.j,vt=!1,mt=!1),st&&X?lt+=N:st||X||(lt-=N);for(var xt=0;k<h;k+=2)if(!(_t&&_t[xt++]<ct/this.pixelRatio)){var bt=[t,e,x,Jt=this.calculateImageOrLabelDimensions_(x.width,x.height,l[k],l[k+1],ct,nt,u,f,ot,at,lt,ht,r,yt,vt||mt,C),rt,vt?P:null,mt?A:null];if(s){if("none"===ut)continue;if("obstacle"===ut){s.insert(Jt.declutterBox);continue}var Ot=void 0,St=void 0;if(ft){var wt=h-k;if(!ft[wt]){ft[wt]=bt;continue}if(Ot=ft[wt],delete ft[wt],St=V(Ot),s.collides(St))continue}if(s.collides(Jt.declutterBox))continue;Ot&&(s.insert(St),this.replayImageOrLabel_.apply(this,Ot)),s.insert(Jt.declutterBox)}this.replayImageOrLabel_.apply(this,bt)}++T;break;case c.DRAW_CHARS:var Ct=U[1],Et=U[2],jt=U[3],It=U[4];w=U[5];var Tt=U[6],Rt=U[7],Dt=U[8];S=U[9];var kt=U[10];b=U[11],O=U[12];var Lt=[U[13],U[13]],Mt=this.textStates[O],Pt=Mt.font,Ft=[Mt.scale[0]*Rt,Mt.scale[1]*Rt],At=void 0;Pt in this.widths_?At=this.widths_[Pt]:(At={},this.widths_[Pt]=At);var Gt=Object(B.a)(l,Ct,Et,2),Wt=Math.abs(Ft[0])*Object(g.p)(Pt,b,At);if(It||Wt<=Gt){var Bt=this.textStates[O].textAlign,Yt=W(l,Ct,Et,2,b,(Gt-Wt)*D[Bt],Tt,Math.abs(Ft[0]),g.p,Pt,At,X?0:this.viewRotation_);t:if(Yt){var Nt=[],Xt=void 0,zt=void 0,Ht=void 0,Vt=void 0,Ut=void 0;if(S)for(Xt=0,zt=Yt.length;Xt<zt;++Xt){Ht=(Ut=Yt[Xt])[4],Vt=this.createLabel(Ht,O,"",S),u=Ut[2]+(Ft[0]<0?-kt:kt),f=jt*Vt.height+2*(.5-jt)*kt*Ft[1]/Ft[0]-Dt;var Jt=this.calculateImageOrLabelDimensions_(Vt.width,Vt.height,Ut[0],Ut[1],Vt.width,Vt.height,u,f,0,0,Ut[3],Lt,!1,g.j,!1,C);if(s&&s.collides(Jt.declutterBox))break t;Nt.push([t,e,Vt,Jt,1,null,null])}if(w)for(Xt=0,zt=Yt.length;Xt<zt;++Xt){Ht=(Ut=Yt[Xt])[4],Vt=this.createLabel(Ht,O,w,""),u=Ut[2],f=jt*Vt.height-Dt;Jt=this.calculateImageOrLabelDimensions_(Vt.width,Vt.height,Ut[0],Ut[1],Vt.width,Vt.height,u,f,0,0,Ut[3],Lt,!1,g.j,!1,C);if(s&&s.collides(Jt.declutterBox))break t;Nt.push([t,e,Vt,Jt,1,null,null])}s&&s.load(Nt.map(V));for(var qt=0,Kt=Nt.length;qt<Kt;++qt)this.replayImageOrLabel_.apply(this,Nt[qt])}}++T;break;case c.END_GEOMETRY:if(void 0!==o){var Zt=o(C=U[1],I);if(Zt)return Zt}++T;break;case c.FILL:H?L++:this.fill_(t),++T;break;case c.MOVE_TO_LINE_TO:for(k=U[1],h=U[2],E=l[k],m=(j=l[k+1])+.5|0,(v=E+.5|0)===p&&m===y||(t.moveTo(E,j),p=v,y=m),k+=2;k<h;k+=2)v=(E=l[k])+.5|0,m=(j=l[k+1])+.5|0,k!=h-2&&v===p&&m===y||(t.lineTo(E,j),p=v,y=m);++T;break;case c.SET_FILL_STYLE:P=U,this.alignFill_=U[2],L&&(this.fill_(t),L=0,M&&(t.stroke(),M=0)),t.fillStyle=U[1],++T;break;case c.SET_STROKE_STYLE:A=U,M&&(t.stroke(),M=0),this.setStrokeStyle_(t,U),++T;break;case c.STROKE:H?M++:t.stroke(),++T;break;default:++T}}L&&this.fill_(t),M&&t.stroke()},t.prototype.execute=function(t,e,i,n,r,o){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,r,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,i,n,r){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,r)},t}(),Z=i("0999"),$=i("38f3"),Q=["Polygon","Circle","LineString","Image","Text","Default"],tt=function(){function t(t,e,i,n,r,o){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(F.c)(),this.createExecutors_(r)}return t.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);var n=t[e];for(var r in n){var o=n[r];i[r]=new K(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],n=0,r=t.length;n<r;++n)if(t[n]in i)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o){var a=2*(n=Math.round(n))+1,s=Object(F.b)(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Object(Z.a)(a,a));var h,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):l||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(h=Object(d.k)(),Object(d.r)(h,t),Object(d.d)(h,e*(this.renderBuffer_+n),h));var u,f=function(t){if(void 0!==et[t])return et[t];for(var e=2*t+1,i=t*t,n=new Array(i+1),r=0;r<=t;++r)for(var o=0;o<=t;++o){var a=r*r+o*o;if(a>i)break;var s=n[a];s||(s=[],n[a]=s),s.push(4*((t+r)*e+(t+o))+3),r>0&&s.push(4*((t-r)*e+(t+o))+3),o>0&&(s.push(4*((t+r)*e+(t-o))+3),r>0&&s.push(4*((t-r)*e+(t-o))+3))}for(var l=[],h=(r=0,n.length);r<h;++r)n[r]&&l.push.apply(l,n[r]);return et[t]=l,l}(n);function p(t,e){for(var i=c.getImageData(0,0,a,a).data,s=0,l=f.length;s<l;s++)if(i[f[s]]>0){if(!o||"Image"!==u&&"Text"!==u||-1!==o.indexOf(t)){var h=(f[s]-3)/4,p=n-h%a,d=n-(h/a|0),g=r(t,e,p*p+d*d);if(g)return g}c.clearRect(0,0,a,a);break}}var g,y,v,m,x,b=Object.keys(this.executorsByZIndex_).map(Number);for(b.sort(_.g),g=b.length-1;g>=0;--g){var O=b[g].toString();for(v=this.executorsByZIndex_[O],y=Q.length-1;y>=0;--y)if(void 0!==(m=v[u=Q[y]])&&(x=m.executeHitDetection(c,s,i,p,h)))return x}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],n=e[1],r=e[2],o=e[3],a=[i,n,i,o,r,o,r,n];return Object(G.c)(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return Object($.d)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,i,n,r,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(_.g),this.maxExtent_&&(t.save(),this.clip(t,i));var l,h,c,u,f,p,d=o||Q;for(a&&s.reverse(),l=0,h=s.length;l<h;++l){var g=s[l].toString();for(f=this.executorsByZIndex_[g],c=0,u=d.length;c<u;++c){void 0!==(p=f[d[c]])&&p.execute(t,e,i,n,r,a)}}this.maxExtent_&&t.restore()},t}(),et={};var it=tt,nt=i("496f"),rt=i("c946"),ot=i("82b0"),at=i("6cbf");var st=i("30d1"),lt=i("256f"),ht=i("a568"),ct=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ut=function(t){function e(e){var i=t.call(this,e)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.animatingOrInteracting_,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=Object(d.k)(),i.wrappedRenderedExtent_=Object(d.k)(),i.renderedRotation_,i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i.compositionContext_=null,i.opacity_=1,i}return ct(e,t),e.prototype.renderWorlds=function(t,e,i){var n=e.extent,r=e.viewState,o=r.center,a=r.resolution,s=r.projection,l=r.rotation,h=s.getExtent(),c=this.getLayer().getSource(),u=e.pixelRatio,f=e.viewHints,p=!(f[nt.a.ANIMATING]||f[nt.a.INTERACTING]),g=this.compositionContext_,_=Math.round(e.size[0]*u),y=Math.round(e.size[1]*u),v=c.getWrapX()&&s.canWrapX(),m=v?Object(d.F)(h):null,x=v?Math.ceil((n[2]-h[2])/m)+1:1,b=v?Math.floor((n[0]-h[0])/m):0;do{var O=this.getRenderTransform(o,a,l,u,_,y,b*m);t.execute(g,1,O,l,p,void 0,i)}while(++b<x)},e.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var t=Object(Z.a)(this.context.canvas.width,this.context.canvas.height,M.a);this.compositionContext_=t}else this.compositionContext_=this.context},e.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,Object(Z.d)(this.compositionContext_),M.a.push(this.compositionContext_.canvas),this.compositionContext_=null}},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},e.prototype.renderFrame=function(t,e){var i=t.pixelRatio,n=t.layerStatesArray[t.layerIndex];Object(F.e)(this.pixelTransform,1/i,1/i),Object(F.d)(this.inversePixelTransform,this.pixelTransform);var r=Object(F.k)(this.pixelTransform);this.useContainer(e,r,this.getBackground(t));var o=this.context,a=o.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!l||l.isEmpty()))return null;var h=Math.round(t.size[0]*i),c=Math.round(t.size[1]*i);a.width!=h||a.height!=c?(a.width=h,a.height=c,a.style.transform!==r&&(a.style.transform=r)):this.containerReused||o.clearRect(0,0,h,c),this.preRender(o,t);var u=t.viewState,f=u.projection;this.opacity_=n.opacity,this.setupCompositionContext_();var p=!1,g=!0;if(n.extent&&this.clipping){var _=Object(lt.g)(n.extent,f);(p=(g=Object(d.G)(_,t.extent))&&!Object(d.h)(_,t.extent))&&this.clipUnrotated(this.compositionContext_,t,_)}return g&&this.renderWorlds(s,t),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,t),this.renderedRotation_!==u.rotation&&(this.renderedRotation_=u.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Object(F.a)(this.pixelTransform,i);var n=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,l=this.getLayer(),h=[],c=.5*i[0],u=.5*i[1];h.push(this.getRenderTransform(n,r,o,.5,c,u,0).slice());var f=l.getSource(),p=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!Object(d.h)(p,s)){for(var g=s[0],y=Object(d.F)(p),v=0,m=void 0;g<p[0];)m=y*--v,h.push(this.getRenderTransform(n,r,o,.5,c,u,m).slice()),g+=y;for(v=0,g=s[2];g>p[2];)m=y*++v,h.push(this.getRenderTransform(n,r,o,.5,c,u,m).slice()),g-=y}this.hitDetectionImageData_=function(t,e,i,n,r,o,a){var s=.5*t[0],l=.5*t[1],h=Object(Z.a)(s,l);h.imageSmoothingEnabled=!1;for(var c=h.canvas,u=new rt.a(h,.5,r,null,a),f=i.length,p=Math.floor(16777215/f),g={},y=1;y<=f;++y){var v=i[y-1],m=v.getStyleFunction()||n;if(n){var x=m(v,o);if(x){Array.isArray(x)||(x=[x]);for(var b="#"+("000000"+(y*p).toString(16)).slice(-6),O=0,S=x.length;O<S;++O){var w=x[O],C=w.getGeometryFunction()(v);if(C&&Object(d.G)(r,C.getExtent())){var E=w.clone(),j=E.getFill();j&&j.setColor(b);var I=E.getStroke();I&&(I.setColor(b),I.setLineDash(null)),E.setText(void 0);var T=w.getImage();if(T&&0!==T.getOpacity()){var R=T.getImageSize();if(!R)continue;var D=Object(Z.a)(R[0],R[1],void 0,{alpha:!1}),k=D.canvas;D.fillStyle=b,D.fillRect(0,0,k.width,k.height),E.setImage(new at.a({img:k,imgSize:R,anchor:T.getAnchor(),anchorXUnits:ot.a.PIXELS,anchorYUnits:ot.a.PIXELS,offset:T.getOrigin(),opacity:1,size:T.getSize(),scale:T.getScale(),rotation:T.getRotation(),rotateWithView:T.getRotateWithView()}))}var L=E.getZIndex()||0;(F=g[L])||(F={},g[L]=F,F.Polygon=[],F.Circle=[],F.LineString=[],F.Point=[]),F[C.getType().replace("Multi","")].push(C,E)}}}}}for(var M=Object.keys(g).map(Number).sort(_.g),P=(y=0,M.length);y<P;++y){var F=g[M[y]];for(var A in F){var G=F[A];for(O=0,S=G.length;O<S;O+=2){u.setStyle(G[O+1]);for(var W=0,B=e.length;W<B;++W)u.setTransform(e[W]),u.drawGeometry(G[O])}}}return h.getImageData(0,0,c.width,c.height)}(i,h,this.renderedFeatures_,l.getStyleFunction(),s,r,o)}e(function(t,e,i){var n=[];if(i){var r=Math.floor(.5*Math.round(t[0])),o=Math.floor(.5*Math.round(t[1])),a=4*(Object(A.b)(r,0,i.width-1)+Object(A.b)(o,0,i.height-1)*i.width),s=i.data[a],l=i.data[a+1],h=i.data[a+2]+256*(l+256*s),c=Math.floor(16777215/e.length);h&&h%c==0&&n.push(e[h/c-1])}return n}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var o=this;if(this.replayGroup_){var a,s=e.viewState.resolution,l=e.viewState.rotation,h=this.getLayer(),c={},u=function(t,e,i){var o=Object(I.c)(t),a=c[o];if(a){if(!0!==a&&i<a.distanceSq){if(0===i)return c[o]=!0,r.splice(r.lastIndexOf(a),1),n(t,h,e);a.geometry=e,a.distanceSq=i}}else{if(0===i)return c[o]=!0,n(t,h,e);r.push(c[o]={feature:t,layer:h,geometry:e,distanceSq:i,callback:n})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some((function(n){return a=n.forEachFeatureAtCoordinate(t,s,l,i,u,n===o.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var n=t.viewHints[nt.a.ANIMATING],r=t.viewHints[nt.a.INTERACTING],o=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(this.ready&&!o&&n||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,l=t.viewState,h=l.projection,c=l.resolution,u=t.pixelRatio,f=e.getRevision(),p=e.getRenderBuffer(),g=e.getRenderOrder();void 0===g&&(g=st.a);var y=l.center.slice(),v=Object(d.d)(s,p*c),m=v.slice(),x=[v.slice()],b=h.getExtent();if(i.getWrapX()&&h.canWrapX()&&!Object(d.h)(b,t.extent)){var O=Object(d.F)(b),S=Math.max(Object(d.F)(v)/2,O);v[0]=b[0]-S,v[2]=b[2]+S,Object(ht.h)(y,h);var w=Object(d.M)(x[0],h);w[0]<b[0]&&w[2]<b[2]?x.push([w[0]+O,w[1],w[2]+O,w[3]]):w[0]>b[0]&&w[2]>b[2]&&x.push([w[0]-O,w[1],w[2]-O,w[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==g&&Object(d.h)(this.wrappedRenderedExtent_,v))return Object(_.b)(this.renderedExtent_,m)||(this.hitDetectionImageData_=null,this.renderedExtent_=m),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var C,E=new L(Object(st.c)(c,u),v,c,u);this.getLayer().getDeclutter()&&(C=new L(Object(st.c)(c,u),v,c,u));var j,I=Object(lt.m)();if(I){for(var T=0,R=x.length;T<R;++T){var D=x[T],k=Object(lt.p)(D,h);i.loadFeatures(k,Object(lt.q)(c,h),I)}j=Object(lt.l)(I,h)}else for(T=0,R=x.length;T<R;++T)i.loadFeatures(x[T],c,h);var M=Object(st.b)(c,u),P=!0,F=function(t){var i,n=t.getStyleFunction()||e.getStyleFunction();if(n&&(i=n(t,c)),i){var r=this.renderFeature(t,M,i,E,j,C);P=P&&!r}}.bind(this),A=Object(lt.p)(v,h),G=i.getFeaturesInExtent(A);g&&G.sort(g);for(T=0,R=G.length;T<R;++T)F(G[T]);this.renderedFeatures_=G,this.ready=P;var W=E.finish(),B=new it(v,c,u,i.getOverlaps(),W,e.getRenderBuffer());return C&&(this.declutterExecutorGroup=new it(v,c,u,i.getOverlaps(),C.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=g,this.renderedExtent_=m,this.wrappedRenderedExtent_=v,this.renderedCenter_=y,this.renderedProjection_=h,this.replayGroup_=B,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,n,r,o){if(!i)return!1;var a=!1;if(Array.isArray(i))for(var s=0,l=i.length;s<l;++s)a=Object(st.d)(n,t,i[s],e,this.boundHandleStyleImageChange_,r,o)||a;else a=Object(st.d)(n,t,i,e,this.boundHandleStyleImageChange_,r,o);return a},e}(M.b),ft=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pt=function(t){function e(e){return t.call(this,e)||this}return ft(e,t),e.prototype.createRenderer=function(){return new ut(this)},e}(r.a);e.a=pt},4198:function(t,e,i){},4203:function(t,e,i){},"4b18":function(t,e,i){},"4b2a":function(t,e,i){"use strict";i("56d9")},"4b73":function(t,e,i){"use strict";i("df77")},"4cdf":function(t,e,i){"use strict";var n,r=i("e269"),o=i("01d4"),a=i("92fa5"),s=i("1e8d"),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=function(t){function e(e){var i=t.call(this)||this;if(i.on,i.once,i.un,i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addChangeListener(i.geometryName_,i.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;i.setGeometry(n)}else{var r=e;i.setProperties(r)}return i}return l(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(s.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(s.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;Array.isArray(t)?e=t:(Object(a.a)("function"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(r.a);e.a=h},"4d98":function(t,e,i){"use strict";function n(t,e,i,n){for(;e<i-n;){for(var r=0;r<n;++r){var o=t[e+r];t[e+r]=t[i-n+r],t[i-n+r]=o}e+=n,i-=n}}function r(t,e,i,n){for(var r=0,o=t[i-n],a=t[i-n+1];e<i;e+=n){var s=t[e],l=t[e+1];r+=(s-o)*(l+a),o=s,a=l}return 0===r?void 0:r>0}function o(t,e,i,n,o){for(var a=void 0!==o&&o,s=0,l=i.length;s<l;++s){var h=i[s],c=r(t,e,h,n);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;e=h}return!0}function a(t,e,i,n,r){for(var a=0,s=i.length;a<s;++a){var l=i[a];if(!o(t,e,l,n,r))return!1;l.length&&(e=l[l.length-1])}return!0}function s(t,e,i,o,a){for(var s=void 0!==a&&a,l=0,h=i.length;l<h;++l){var c=i[l],u=r(t,e,c,o);(0===l?s&&u||!s&&!u:s&&!u||!s&&u)&&n(t,e,c,o),e=c}return e}function l(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o)e=s(t,e,i[o],n,r);return e}i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return l}))},"56d9":function(t,e,i){},5831:function(t,e,i){"use strict";var n=i("e300"),r=i("183a"),o=i("cef7"),a=i("01d4"),s=i("7b4f"),l=i("25a5"),h=i.n(l),c=i("0af5"),u=i("1300"),f=i("38f3"),p=function(){function t(t){this.rbush_=new h.a(t),this.items_={}}return t.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[Object(u.c)(e)]=i},t.prototype.load=function(t,e){for(var i=new Array(e.length),n=0,r=e.length;n<r;n++){var o=t[n],a=e[n],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[n]=s,this.items_[Object(u.c)(a)]=s}this.rbush_.load(i)},t.prototype.remove=function(t){var e=Object(u.c)(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},t.prototype.update=function(t,e){var i=this.items_[Object(u.c)(e)],n=[i.minX,i.minY,i.maxX,i.maxY];Object(c.p)(n,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var i,n=0,r=t.length;n<r;n++)if(i=e(t[n]))return i;return i},t.prototype.isEmpty=function(){return Object(f.d)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(c.l)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),d=i("ff80"),g=i("a43f"),_=i("57cb");i("256f");function y(t,e){return[[-1/0,-1/0,1/0,1/0]]}var v=i("92fa5"),m=i("9f5e"),x=i("1e8d"),b=!1;function O(t,e){return function(i,n,r,o,a){var s=this;!function(t,e,i,n,r,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,n,r):t,!0),"arraybuffer"==e.getType()&&(s.responseType="arraybuffer"),s.withCredentials=b,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var n=e.getType(),l=void 0;"json"==n||"text"==n?l=s.responseText:"xml"==n?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==n&&(l=s.response),l?o(e.readFeatures(l,{extent:i,featureProjection:r}),e.readProjection(l)):a()}else a()},s.onerror=a,s.send()}(t,e,i,n,r,(function(t,e){s.addFeatures(t),void 0!==o&&o(t)}),a||_.c)}}var S,w=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),C=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r.feature=i,r.features=n,r}return w(e,t),e}(o.a),E=function(t){function e(e){var i=this,r=e||{};(i=t.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===r.wrapX||r.wrapX})||this).on,i.once,i.un,i.loader_=_.c,i.format_=r.format,i.overlaps_=void 0===r.overlaps||r.overlaps,i.url_=r.url,void 0!==r.loader?i.loader_=r.loader:void 0!==i.url_&&(Object(v.a)(i.format_,7),i.loader_=O(i.url_,i.format_)),i.strategy_=void 0!==r.strategy?r.strategy:y;var o,a,s=void 0===r.useSpatialIndex||r.useSpatialIndex;return i.featuresRtree_=s?new p:null,i.loadedExtentsRtree_=new p,i.loadingExtentsCount_=0,i.nullGeometryFeatures_={},i.idIndex_={},i.uidIndex_={},i.featureChangeKeys_={},i.featuresCollection_=null,Array.isArray(r.features)?a=r.features:r.features&&(a=(o=r.features).getArray()),s||void 0!==o||(o=new n.a(a)),void 0!==a&&i.addFeaturesInternal(a),void 0!==o&&i.bindFeaturesCollection_(o),i}return w(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(u.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var n=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new C(g.a.ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(x.a)(e,a.a.CHANGE,this.handleFeatureChange_,this),Object(x.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var i=!0,n=e.getId();return void 0!==n&&(n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=e),i&&(Object(v.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],n=[],r=0,o=t.length;r<o;r++){var a=t[r],s=Object(u.c)(a);this.addToIndex_(s,a)&&i.push(a)}r=0;for(var l=i.length;r<l;r++){a=i[r],s=Object(u.c)(a);this.setupChangeEvents_(s,a);var h=a.getGeometry();if(h){var c=h.getExtent();e.push(c),n.push(a)}else this.nullGeometryFeatures_[s]=a}if(this.featuresRtree_&&this.featuresRtree_.load(e,n),this.hasListener(g.a.ADDFEATURE)){r=0;for(var f=i.length;r<f;r++)this.dispatchEvent(new C(g.a.ADDFEATURE,i[r]))}},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(g.a.ADDFEATURE,(function(i){e||(e=!0,t.push(i.feature),e=!1)})),this.addEventListener(g.a.REMOVEFEATURE,(function(i){e||(e=!0,t.remove(i.feature),e=!1)})),t.addEventListener(r.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(r.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(x.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var i=function(t){this.removeFeatureInternal(t)}.bind(this);for(var n in this.featuresRtree_.forEach(i),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new C(g.a.CLEAR);this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,(function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(i){if(i.getGeometry().intersectsExtent(t)){var n=e(i);if(n)return n}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(f.d)(this.nullGeometryFeatures_)||Object(m.c)(t,Object(f.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t,e){var i=this;if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);var n=Object(c.L)(t,e);return[].concat.apply([],n.map((function(t){return i.featuresRtree_.getInExtent(t)})))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],n=t[1],r=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||_.b;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),h=a;if((a=e.closestPointXY(i,n,o,a))<h){r=t;var c=Math.sqrt(a);s[0]=i-c,s[1]=n-c,s[2]=i+c,s[3]=n+c}}})),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(u.c)(e),n=e.getGeometry();if(n){var r=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var o=e.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new C(g.a.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(u.c)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Object(f.d)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},e.prototype.loadFeatures=function(t,e,i){for(var n=this.loadedExtentsRtree_,r=this.strategy_(t,e,i),o=function(t,o){var s=r[t];n.forEachInExtent(s,(function(t){return Object(c.h)(t.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new C(g.a.FEATURESLOADSTART)),a.loader_.call(a,s,e,i,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new C(g.a.FEATURESLOADEND,void 0,t))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new C(g.a.FEATURESLOADERROR))}.bind(a)),n.insert(s,{extent:s.slice()}))},a=this,s=0,l=r.length;s<l;++s)o(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,(function(i){if(Object(c.p)(i.extent,t))return e=i,!0})),e&&i.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=Object(u.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=Object(u.c)(t),i=this.featureChangeKeys_[e];if(i){i.forEach(x.c),delete this.featureChangeKeys_[e];var n=t.getId();return void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new C(g.a.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Object(v.a)(this.format_,7),this.url_=t,this.setLoader(O(t,this.format_))},e}(d.a);e.a=E},5892:function(t,e,i){},5938:function(t,e,i){"use strict";function n(t,e,i,n){for(var r=t[e],o=t[e+1],a=0,s=e+n;s<i;s+=n){var l=t[s],h=t[s+1];a+=Math.sqrt((l-r)*(l-r)+(h-o)*(h-o)),r=l,o=h}return a}i.d(e,"a",(function(){return n}))},"5bc0":function(t,e,i){},"5bc3":function(t,e,i){"use strict";i.d(e,"b",(function(){return O}));var n,r=i("521b"),o=i("9abc"),a=i("9769"),s=i("0af5"),l=i("abb7"),h=i("1c48"),c=i("bb6c"),u=i("b589"),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t){function e(e,i){var n=t.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?n.setCoordinates(e,i):n.setFlatCoordinates(i,e),n}return f(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(s.f)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.getArea=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,r.a.XY)},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a),d=i("f403"),g=i("9f5e"),_=i("0a9d"),y=i("c560"),v=i("4d98"),m=i("25f1"),x=(i("7fc9"),i("790a"),function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),b=function(t){function e(e,i,n){var r=t.call(this)||this;return r.ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==i&&n?(r.setFlatCoordinates(i,e),r.ends_=n):r.setCoordinates(e,i),r}return x(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(g.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(s.f)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return Object(m.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(u.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(v.c)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(c.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(s.x)(this.getExtent());this.flatInteriorPoint_=Object(_.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new d.a(this.getFlatInteriorPoint(),r.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new p(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[],r=0,o=0,a=i.length;o<a;++o){var s=i[o],l=new p(e.slice(r,s),t);n.push(l),r=s}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(v.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(v.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Object(h.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,n),new e(i,r.a.XY,n)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return Object(y.d)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(l.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(o.a);e.a=b;function O(t){var e=t[0],i=t[1],n=t[2],o=t[3],a=[e,i,e,o,n,o,n,i,e,i];return new b(a,r.a.XY,[a.length])}},"61a1":function(t,e,i){"use strict";i("4198")},"6c77":function(t,e,i){"use strict";i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return c}));var n=i("ce2c"),r=i("83a6"),o=i("8682"),a=i("92fa5"),s=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=u,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=u,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function l(t){var e;if("function"==typeof t)e=t;else{var i;if(Array.isArray(t))i=t;else Object(a.a)("function"==typeof t.getZIndex,41),i=[t];e=function(){return i}}return e}var h=null;function c(t,e){if(!h){var i=new r.a({color:"rgba(255,255,255,0.4)"}),a=new o.a({color:"#3399CC",width:1.25});h=[new s({image:new n.a({fill:i,stroke:a,radius:5}),fill:i,stroke:a})]}return h}function u(t){return t.getGeometry()}e.b=s},"6cbf":function(t,e,i){"use strict";var n,r=i("01d4"),o=i("82b0"),a=i("d202"),s=i("869f"),l=i("ab35"),h=i("5c38"),c=i("92fa5"),u=i("0ec0"),f=i("0999"),p=i("3c22"),d=i("6611"),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=null,y=function(t){function e(e,i,n,r,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==r&&(s.image_.crossOrigin=r),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=n,s.src_=i,s.tainted_,s}return g(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s.a.LOADED){_||(_=Object(f.a)(1,1)),_.drawImage(this.image_,0,0);try{_.getImageData(0,0,1,1),this.tainted_=!1}catch(t){_=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(r.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=s.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=s.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=Object(f.a)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==s.a.IDLE){this.imageState_=s.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(d.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===s.a.LOADED){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=Object(h.b)(this.color_),i.fillRect(0,0,e.width/t,e.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var n=i.getImageData(0,0,e.width,e.height),r=n.data,o=this.color_[0]/255,a=this.color_[1]/255,l=this.color_[2]/255,c=this.color_[3],u=0,f=r.length;u<f;u+=4)r[u]*=o,r[u+1]*=a,r[u+2]*=l,r[u+3]*=c;i.putImageData(n,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(u.a);var v=i("1300"),m=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),x=function(t){function e(e){var i=this,n=e||{},r=void 0!==n.opacity?n.opacity:1,l=void 0!==n.rotation?n.rotation:0,u=void 0!==n.scale?n.scale:1,f=void 0!==n.rotateWithView&&n.rotateWithView;(i=t.call(this,{opacity:r,rotation:l,scale:u,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:f,declutterMode:n.declutterMode})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:a.a.TOP_LEFT,i.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:o.a.FRACTION,i.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:o.a.FRACTION,i.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var d=void 0!==n.img?n.img:null;i.imgSize_=n.imgSize;var g=n.src;Object(c.a)(!(void 0!==g&&d),4),Object(c.a)(!d||d&&i.imgSize_,5),void 0!==g&&0!==g.length||!d||(g=d.src||Object(v.c)(d)),Object(c.a)(void 0!==g&&g.length>0,6);var _=void 0!==n.src?s.a.IDLE:s.a.LOADED;return i.color_=void 0!==n.color?Object(h.a)(n.color):null,i.iconImage_=function(t,e,i,n,r,o){var a=p.a.get(e,n,o);return a||(a=new y(t,e,i,n,r,o),p.a.set(e,n,o,a)),a}(d,g,void 0!==i.imgSize_?i.imgSize_:null,i.crossOrigin_,_,i.color_),i.offset_=void 0!==n.offset?n.offset:[0,0],i.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:a.a.TOP_LEFT,i.origin_=null,i.size_=void 0!==n.size?n.size:null,i}return m(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==o.a.FRACTION||this.anchorYUnits_==o.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==o.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==o.a.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=a.a.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=a.a.TOP_RIGHT&&this.anchorOrigin_!=a.a.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=a.a.BOTTOM_LEFT&&this.anchorOrigin_!=a.a.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=a.a.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=a.a.TOP_RIGHT&&this.offsetOrigin_!=a.a.BOTTOM_RIGHT||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=a.a.BOTTOM_LEFT&&this.offsetOrigin_!=a.a.BOTTOM_RIGHT||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(r.a.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(r.a.CHANGE,t)},e}(l.a);e.a=x},"74cb":function(t,e,i){"use strict";i("4b18")},"82b0":function(t,e,i){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},"83a6":function(t,e,i){"use strict";var n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e.a=n},8682:function(t,e,i){"use strict";var n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e.a=n},9769:function(t,e,i){"use strict";i.d(e,"e",(function(){return o})),i.d(e,"a",(function(){return a})),i.d(e,"f",(function(){return s})),i.d(e,"d",(function(){return l})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return c}));var n=i("7fc9");function r(t,e,i,r,o,a,s){var l,h=t[e],c=t[e+1],u=t[i]-h,f=t[i+1]-c;if(0===u&&0===f)l=e;else{var p=((o-h)*u+(a-c)*f)/(u*u+f*f);if(p>1)l=i;else{if(p>0){for(var d=0;d<r;++d)s[d]=Object(n.e)(t[e+d],t[i+d],p);return void(s.length=r)}l=e}}for(d=0;d<r;++d)s[d]=t[l+d];s.length=r}function o(t,e,i,r,o){var a=t[e],s=t[e+1];for(e+=r;e<i;e+=r){var l=t[e],h=t[e+1],c=Object(n.i)(a,s,l,h);c>o&&(o=c),a=l,s=h}return o}function a(t,e,i,n,r){for(var a=0,s=i.length;a<s;++a){var l=i[a];r=o(t,e,l,n,r),e=l}return r}function s(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){var l=i[o];r=a(t,e,l,n,r),e=l[l.length-1]}return r}function l(t,e,i,o,a,s,l,h,c,u,f){if(e==i)return u;var p,d;if(0===a){if((d=Object(n.i)(l,h,t[e],t[e+1]))<u){for(p=0;p<o;++p)c[p]=t[e+p];return c.length=o,d}return u}for(var g=f||[NaN,NaN],_=e+o;_<i;)if(r(t,_-o,_,o,l,h,g),(d=Object(n.i)(l,h,g[0],g[1]))<u){for(u=d,p=0;p<o;++p)c[p]=g[p];c.length=o,_+=o}else _+=o*Math.max((Math.sqrt(d)-Math.sqrt(u))/a|0,1);if(s&&(r(t,i-o,e,o,l,h,g),(d=Object(n.i)(l,h,g[0],g[1]))<u)){for(u=d,p=0;p<o;++p)c[p]=g[p];c.length=o}return u}function h(t,e,i,n,r,o,a,s,h,c,u){for(var f=u||[NaN,NaN],p=0,d=i.length;p<d;++p){var g=i[p];c=l(t,e,g,n,r,o,a,s,h,c,f),e=g}return c}function c(t,e,i,n,r,o,a,s,l,c,u){for(var f=u||[NaN,NaN],p=0,d=i.length;p<d;++p){var g=i[p];c=h(t,e,g,n,r,o,a,s,l,c,f),e=g[g.length-1]}return c}},"9c78":function(t,e,i){"use strict";i.d(e,"a",(function(){return _}));var n,r=i("5564"),o=i("e300"),a=i("183a"),s=i("cef7"),l=i("01d4"),h=i("7b4f"),c=i("92fa5"),u=i("38f3"),f=i("0af5"),p=i("1300"),d=i("1e8d"),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=function(t){function e(e,i){var n=t.call(this,e)||this;return n.layer=i,n}return g(e,t),e}(s.a),y="layers",v=function(t){function e(e){var i=this,n=e||{},r=Object(u.a)({},n);delete r.layers;var a=n.layers;return(i=t.call(this,r)||this).on,i.once,i.un,i.layersListenerKeys_=[],i.listenerKeys_={},i.addChangeListener(y,i.handleLayersChanged_),a?Array.isArray(a)?a=new o.a(a.slice(),{unique:!0}):Object(c.a)("function"==typeof a.getArray,43):a=new o.a(void 0,{unique:!0}),i.setLayers(a),i}return g(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(d.c),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(d.a)(t,a.a.ADD,this.handleLayersAdd_,this),Object(d.a)(t,a.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(d.c);Object(u.b)(this.listenerKeys_);for(var i=t.getArray(),n=0,r=i.length;n<r;n++){var o=i[n];this.registerLayerListeners_(o),this.dispatchEvent(new _("addlayer",o))}this.changed()},e.prototype.registerLayerListeners_=function(t){var i=[Object(d.a)(t,h.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(d.a)(t,l.a.CHANGE,this.handleLayerChange_,this)];t instanceof e&&i.push(Object(d.a)(t,"addlayer",this.handleLayerGroupAdd_,this),Object(d.a)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Object(p.c)(t)]=i},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new _("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new _("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new _("addlayer",e)),this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,i=Object(p.c)(e);this.listenerKeys_[i].forEach(d.c),delete this.listenerKeys_[i],this.dispatchEvent(new _("removelayer",e)),this.changed()},e.prototype.getLayers=function(){return this.get(y)},e.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var i=e.getArray(),n=0,r=i.length;n<r;++n)this.dispatchEvent(new _("removelayer",i[n]));this.set(y,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var n=this.getLayerState(),r=n.zIndex;t||void 0!==n.zIndex||(r=0);for(var o=i,a=e.length;o<a;o++){var s=e[o];s.opacity*=n.opacity,s.visible=s.visible&&n.visible,s.maxResolution=Math.min(s.maxResolution,n.maxResolution),s.minResolution=Math.max(s.minResolution,n.minResolution),s.minZoom=Math.max(s.minZoom,n.minZoom),s.maxZoom=Math.min(s.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==s.extent?s.extent=Object(f.B)(s.extent,n.extent):s.extent=n.extent),void 0===s.zIndex&&(s.zIndex=r)}return e},e.prototype.getSourceState=function(){return"ready"},e}(r.a);e.b=v},"9fda":function(t,e,i){"use strict";i.r(e),i.d(e,"olPopup",(function(){return q})),i.d(e,"olMarker",(function(){return z})),i.d(e,"olZoomSlider",(function(){return P})),i.d(e,"olScaleLine",(function(){return T})),i.d(e,"olFullScreen",(function(){return h})),i.d(e,"olMousePosition",(function(){return _})),i.d(e,"olOverviewMap",(function(){return S}));var n=i("c320");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s={name:"olFullScreen",mounted:function(){var t=this;this.$nextTick((function(){var e=t.$slots.default[0].elm,i=new n.a(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({target:e,source:t.$parent.$el,className:""},t.$attrs));t.$parent.olMap.removeControl(i),t.$parent.olMap.addControl(i)}))}},l=(i("fddc"),i("2877")),h=Object(l.a)(s,(function(){return(0,this._self._c)("span",{staticClass:"v-ol-fullscreen"},[this._t("default")],2)}),[],!1,null,null,null).exports,c=i("020f"),u=i("a568");function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function d(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g={name:"olMousePosition",props:{decimals:{type:Number,default:4},target:HTMLElement},data:function(){return{point:1}},mounted:function(){var t=this;this.$nextTick((function(){var e=new c.a(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({coordinateFormat:Object(u.b)(t.decimals),className:"v-ol-mouse-position",undefinedHTML:" "},t.$attrs));t.$parent.olMap.removeControl(e),t.$parent.olMap.addControl(e)}))}},_=(i("4b73"),Object(l.a)(g,(function(){return(0,this._self._c)("span")}),[],!1,null,null,null).exports),y=i("e50d"),v=i("d946");function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function b(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var O={name:"olOverviewMap",props:{layers:{type:Array,default:function(){return[]}},collapseLabel:{type:String,default:"+"},label:{type:String,default:"-"}},mounted:function(){var t=this;this.$nextTick((function(){var e=new y.a(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){b(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({layers:t.layers,collapseLabel:t.collapseLabel,label:t.label,tipLabel:"",className:"v-ol-overview-map"},t.$attrs)),i=new v.a;t.$parent.olMap.removeControl(e),t.$parent.olMap.removeInteraction(i),t.$parent.olMap.addControl(e),t.$parent.olMap.addInteraction(i)}))}},S=(i("4b2a"),Object(l.a)(O,(function(){return(0,this._self._c)("span")}),[],!1,null,null,null).exports),w=i("9d47");function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function j(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var I={name:"olScaleLine",props:{target:HTMLElement},mounted:function(){var t=this,e=new w.a(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?E(Object(i),!0).forEach((function(e){j(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({target:this.target,units:"metric",className:"v-ol-scale-line"},this.$attrs));this.$nextTick((function(){t.$parent.olMap.removeControl(e),t.$parent.olMap.addControl(e)}))}},T=(i("b16e"),Object(l.a)(I,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports),R=i("1e00");function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function L(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=D(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==D(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var M={name:"olZoomSlider",props:{},mounted:function(){var t=this;this.$nextTick((function(){var e=new R.a(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?k(Object(i),!0).forEach((function(e){L(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t.$attrs));t.$parent.olMap.removeControl(e),t.$parent.olMap.addControl(e)}))}},P=Object(l.a)(M,(function(){return(0,this._self._c)("span")}),[],!1,null,null,null).exports,F=(i("5bc0"),i("5eee")),A=i("a2c7"),G=i("480c"),W=i("2ef1"),B={props:{id:{type:String,default:"olMap"},height:Number,layers:{type:Array,default:function(){return[new G.a({source:new W.a({url:"https://t6.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=ab61528ad6e44fd9c44bd13b45da7d74"})}),new G.a({source:new W.a({url:"https://t1.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=ab61528ad6e44fd9c44bd13b45da7d74"})})]}},center:{type:Array,default:function(){return[114.2514196959444,30.50713112667156]}},zoom:{type:Number,default:10},minZoom:{type:Number,default:1},maxZoom:{type:Number,default:20},focus:Boolean},methods:{initMap:function(){var t=this;this.olMap=new F.a({layers:this.layers,target:this.id,view:new A.a({projection:"EPSG:4326",center:this.center,zoom:this.zoom,maxResolution:1.406250000000001,minZoom:this.minZoom,maxZoom:this.maxZoom})}),Object.keys(this.$listeners).forEach((function(e){var i=t.$listeners[e];t.olMap.on(e,i)})),this.anmiteCenter(this.olMap,this.center,this.zoom),this.$emit("init",this.olMap)},anmiteCenter:function(t,e,i){t.getView().animate({center:e,zoom:i})}},mounted:function(){this.initMap(),this.olMap.on("click",(function(t){console.log(t),console.log(t.coordinate)}))}},Y=(i("74cb"),Object(l.a)(B,(function(){var t=this._self._c;return t("div",{staticClass:"olMap"},[t("div",{staticStyle:{height:"800px"},attrs:{id:this.id}}),this._t("default")],2)}),[],!1,null,"751cd608",null).exports),N=i("0710"),X={name:"olMarker",props:{id:String,position:{type:Array,default:function(){return[]}}},data:function(){return{overlay:null}},methods:{init:function(){var t=this;this.$nextTick((function(){console.log(t,1),t.overlay=new N.a({element:document.querySelector("#ol-marker-".concat(t._uid)),positioning:"center-center",stopEvent:!0}),t.$parent.olMap.addOverlay(t.overlay)}))}},watch:{position:{handler:function(t){this.overlay.setPosition(t)},deep:!0}},mounted:function(){this.init()}},z=(i("2db5"),Object(l.a)(X,(function(){var t=this._self._c;return this.position.length?t("div",{staticClass:"ol-marker",attrs:{id:"ol-marker-".concat(this._uid)}},[this._t("default")],2):this._e()}),[],!1,null,"02a2a872",null).exports);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function U(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=H(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==H(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var J={name:"olPopup",props:{title:String,position:Array},data:function(){return{popup:null,params:null}},watch:{position:function(t){this.popup.setPosition(t)}},methods:{onClose:function(){return this.popup.setPosition(),!1}},mounted:function(){var t=this;this.popup=new N.a(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?V(Object(i),!0).forEach((function(e){U(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({element:document.querySelector("#ol-popup-".concat(this._uid)),positioning:"center-center",autoPan:!0,autoPanAnimation:{duration:250}},this.$attrs)),this.$nextTick((function(){console.log(t),t.$parent.olMap.addOverlay(t.popup),t.position?t.popup.setPosition(t.position):t.$parent.olMap.on("click",(function(e){var i=e.coordinate;t.popup.setPosition(i),t.params=e}))}))}},q=(i("61a1"),Object(l.a)(J,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ol-popup",attrs:{id:"ol-popup-".concat(this._uid)}},[t.$slots.title||t.title?e("div",{staticClass:"ol-popup-title"},[t.$slots.title?t._t("title"):e("span",[t._v(t._s(t.title))])],2):t._e(),t.$slots.close?t._t("close"):e("a-icon",{staticClass:"ol-popup-close",attrs:{type:"close"},on:{click:t.onClose}}),t.$slots.default||t.$scopedSlots.default?e("div",{staticClass:"ol-popup-bd"},[t._t("default",null,null,t.params)],2):t._e()],2)}),[],!1,null,"077aea21",null).exports);e.default=Y},a43f:function(t,e,i){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},ab35:function(t,e,i){"use strict";var n=i("1300"),r=i("345d"),o=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(r.d)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getDeclutterMode=function(){return this.declutterMode_},t.prototype.getAnchor=function(){return Object(n.b)()},t.prototype.getImage=function(t){return Object(n.b)()},t.prototype.getHitDetectionImage=function(){return Object(n.b)()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Object(n.b)()},t.prototype.getImageSize=function(){return Object(n.b)()},t.prototype.getOrigin=function(){return Object(n.b)()},t.prototype.getSize=function(){return Object(n.b)()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(r.d)(t)},t.prototype.listenImageChange=function(t){Object(n.b)()},t.prototype.load=function(){Object(n.b)()},t.prototype.unlistenImageChange=function(t){Object(n.b)()},t}();e.a=o},ae50:function(t,e,i){"use strict";var n,r=i("1af9"),o=i("25a5"),a=i.n(o),s=i("38f3"),l=i("6c77"),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c="renderOrder",u=function(t){function e(e){var i=this,n=e||{},r=Object(s.a)({},n);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,(i=t.call(this,r)||this).declutter_=void 0!==n.declutter&&n.declutter,i.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(n.style),i.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,i.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,i}return h(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(c)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new a.a(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(c,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:l.a,this.styleFunction_=null===t?void 0:Object(l.c)(this.style_),this.changed()},e}(r.a);e.a=u},b16e:function(t,e,i){"use strict";i("4203")},b589:function(t,e,i){"use strict";function n(t,e,i,n){for(var r=0,o=t[i-n],a=t[i-n+1];e<i;e+=n){var s=t[e],l=t[e+1];r+=a*s-o*l,o=s,a=l}return r/2}function r(t,e,i,r){for(var o=0,a=0,s=i.length;a<s;++a){var l=i[a];o+=n(t,e,l,r),e=l}return o}function o(t,e,i,n){for(var o=0,a=0,s=i.length;a<s;++a){var l=i[a];o+=r(t,e,l,n),e=l[l.length-1]}return o}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o}))},c560:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return h})),i.d(e,"e",(function(){return c}));var n=i("0af5"),r=i("fd4d"),o=i("25f1");function a(t,e,i,o,a){var s=Object(n.s)(Object(n.k)(),t,e,i,o);return!!Object(n.G)(a,s)&&(!!Object(n.h)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||Object(r.a)(t,e,i,o,(function(t,e){return Object(n.H)(a,t,e)})))))}function s(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){if(a(t,e,i[o],n,r))return!0;e=i[o]}return!1}function l(t,e,i,n,r){return!!a(t,e,i,n,r)||(!!Object(o.b)(t,e,i,n,r[0],r[1])||(!!Object(o.b)(t,e,i,n,r[0],r[3])||(!!Object(o.b)(t,e,i,n,r[2],r[1])||!!Object(o.b)(t,e,i,n,r[2],r[3]))))}function h(t,e,i,n,r){if(!l(t,e,i[0],n,r))return!1;if(1===i.length)return!0;for(var s=1,h=i.length;s<h;++s)if(Object(o.a)(t,i[s-1],i[s],n,r)&&!a(t,i[s-1],i[s],n,r))return!1;return!0}function c(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o];if(h(t,e,s,n,r))return!0;e=s[s.length-1]}return!1}},c688:function(t,e,i){"use strict";i.r(e);var n=i("9fda"),r=i("4cdf"),o=i("5831"),a=i("3e6b"),s=i("f403"),l=i("6c77"),h=i("ce2c"),c=i("83a6"),u=i("8682"),f=0,p={components:{Map:n.default,olPopup:n.olPopup},data:function(){return{content:"",position:[]}},watch:{olMap:function(){var t=new r.a({geometry:new s.a([114,30]),name:"",population:4e3,rainfall:500}),e=new l.b({image:new h.a({radius:10,fill:new c.a({color:"#FFF"}),stroke:new u.a({color:"red",width:2})})});t.setStyle(e);var i=new o.a({features:[t]}),n=new a.a({source:i});this.olMap.addLayer(n)}},methods:{initMap:function(t){this.olMap=t},onAdd:function(){f++;var t=new r.a({geometry:new s.a([112-10*Math.random(),28-10*Math.random()]),name:"-".concat(f)});t.setStyle(new l.b({image:new h.a({radius:parseInt(40*Math.random()),fill:new c.a({color:"#fff"}),stroke:new u.a({width:2,color:"rgba(255, 170, 71, 1)"})})})),this.olMap.addLayer(new a.a({source:new o.a({features:[t]})}))},onClick:function(t){var e=this.olMap.forEachFeatureAtPixel(t.pixel,(function(t){return t}));if(e){var i=e.getGeometry().getCoordinates();this.position=i,this.content="".concat(e.get("name"),""),e.setStyle(new l.b({image:new h.a({radius:parseInt(40*Math.random()),fill:new c.a({color:"rgba(255, 170, 71, 1)"}),stroke:new u.a({width:2,color:"#fff"})})}))}else this.position=[],this.content=""}},mounted:function(){}},d=i("2877"),g=Object(d.a)(p,(function(){var t=this,e=t._self._c;return e("Example",[e("div",{attrs:{slot:"hd"},slot:"hd"},[e("a-button",{attrs:{type:""},on:{click:t.onAdd}},[t._v("")])],1),e("Map",{attrs:{zoom:5},on:{init:t.initMap,click:t.onClick}},[t.position.length?e("olPopup",{attrs:{position:t.position,title:""}},[t._v(" "+t._s(t.content)+" ")]):t._e()],1)],1)}),[],!1,null,"25b2776c",null);e.default=g.exports},c946:function(t,e,i){"use strict";var n,r=i("f78c"),o=i("e98d"),a=i("a896"),s=i("ddea"),l=i("9f5e"),h=i("0af5"),c=i("bef8"),u=i("9abc"),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t){function e(e,i,n,r,o,s,l){var h=t.call(this)||this;return h.context_=e,h.pixelRatio_=i,h.extent_=n,h.transform_=r,h.viewRotation_=o,h.squaredTolerance_=s,h.userTransform_=l,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=Object(a.c)(),h}return f(e,t),e.prototype.drawImages_=function(t,e,i,n){if(this.image_){var r=Object(c.c)(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,l=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=l*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var u=0,f=r.length;u<f;u+=2){var p=r[u]-this.imageAnchorX_,d=r[u+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var g=p+this.imageAnchorX_,_=d+this.imageAnchorY_;Object(a.b)(s,g,_,1,1,h,-g,-_),o.setTransform.apply(o,s),o.translate(g,_),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=l)}},e.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(c.c)(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=n){var l=r[e]+this.textOffsetX_,h=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=Object(a.b)(this.tmpLocalTransform_,l,h,1,1,s,-l,-h);o.setTransform.apply(o,u),o.translate(l,h),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,l,h),this.textFillState_&&o.fillText(this.text_,l,h)}}},e.prototype.moveToLineTo_=function(t,e,i,n,r){var o=this.context_,a=Object(c.c)(t,e,i,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return r&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e},e.prototype.drawCircle=function(t){if(Object(h.G)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(u.b)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(h.G)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(h.G)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(h.G)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,o=t.getEnds(),a=t.getStride();i.beginPath();for(var s=0,l=o.length;s<l;++s)r=this.moveToLineTo_(n,r,o[s],a,!1);i.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(h.G)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(h.G)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=r.length;a<s;++a){var l=r[a];n=this.drawRings_(i,n,l,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(l.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:s.l;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var i=this;if(t){var n=t.getColor();this.fillState_={fillStyle:Object(o.a)(n||s.b)}}else this.fillState_=null;if(e){var r=e.getColor(),a=e.getLineCap(),l=e.getLineDash(),h=e.getLineDashOffset(),c=e.getLineJoin(),u=e.getWidth(),f=e.getMiterLimit(),p=l||s.e;this.strokeState_={lineCap:void 0!==a?a:s.d,lineDash:1===this.pixelRatio_?p:p.map((function(t){return t*i.pixelRatio_})),lineDashOffset:(h||s.f)*this.pixelRatio_,lineJoin:void 0!==c?c:s.g,lineWidth:(void 0!==u?u:s.h)*this.pixelRatio_,miterLimit:void 0!==f?f:s.i,strokeStyle:Object(o.a)(r||s.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var i=t.getAnchor(),n=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Object(o.a)(i||s.b)}}else this.textFillState_=null;var n=t.getStroke();if(n){var r=n.getColor(),a=n.getLineCap(),l=n.getLineDash(),h=n.getLineDashOffset(),c=n.getLineJoin(),u=n.getWidth(),f=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:s.d,lineDash:l||s.e,lineDashOffset:h||s.f,lineJoin:void 0!==c?c:s.g,lineWidth:void 0!==u?u:s.h,miterLimit:void 0!==f?f:s.i,strokeStyle:Object(o.a)(r||s.k)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),g=t.getOffsetY(),_=t.getRotateWithView(),y=t.getRotation(),v=t.getScaleArray(),m=t.getText(),x=t.getTextAlign(),b=t.getTextBaseline();this.textState_={font:void 0!==p?p:s.c,textAlign:void 0!==x?x:s.l,textBaseline:void 0!==b?b:s.m},this.text_=void 0!==m?Array.isArray(m)?m.reduce((function(t,e,i){return t+(i%2?" ":e)}),""):m:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0!==y?y:0,this.textScale_=[this.pixelRatio_*v[0],this.pixelRatio_*v[1]]}else this.text_=""},e}(r.a);e.a=p},ca42:function(t,e,i){"use strict";function n(t){return Math.pow(t,3)}function r(t){return 1-n(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return a}))},ce2c:function(t,e,i){"use strict";var n,r=i("35d8"),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=function(t){function e(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0],declutterMode:i.declutterMode})||this}return o(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(r.a);e.a=a},d202:function(t,e,i){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},df77:function(t,e,i){},e300:function(t,e,i){"use strict";var n,r=i("835b"),o=i("e269"),a=i("183a"),s=i("cef7"),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h="length",c=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r.element=i,r.index=n,r}return l(e,t),e}(s.a),u=function(t){function e(e,i){var n=t.call(this)||this;n.on,n.once,n.un;var r=i||{};if(n.unique_=!!r.unique,n.array_=e||[],n.unique_)for(var o=0,a=n.array_.length;o<a;++o)n.assertUnique_(n.array_[o],o);return n.updateLength_(),n}return l(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(h)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(a.a.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(a.a.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(a.a.REMOVE,n,t)),this.dispatchEvent(new c(a.a.ADD,e,t))}else{for(var r=i;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(h,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new r.a(58)},e}(o.a);e.a=u},e98d:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("5c38");function r(t){return Array.isArray(t)?Object(n.c)(t):t}},f78c:function(t,e,i){"use strict";var n=function(){function t(){}return t.prototype.drawCustom=function(t,e,i,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();e.a=n},fd4d:function(t,e,i){"use strict";function n(t,e,i,n,r){var o;for(e+=n;e<i;e+=n)if(o=r(t.slice(e-n,e),t.slice(e,e+n)))return o;return!1}i.d(e,"a",(function(){return n}))},fddc:function(t,e,i){"use strict";i("20ce")}}]);