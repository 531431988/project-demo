(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a854732"],{1525:function(t,e,a){"use strict";a("8223")},"3f25":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toolbar"},[a("a-row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[a("a-col",{attrs:{flex:"1"}},[a("a-row",{attrs:{type:"flex"}},[a("Btn",{attrs:{command:"backspace",icon:"delete",text:"删除"}}),a("Btn",{attrs:{command:"del",icon:"clear",text:"清空画布"}}),a("Btn",{attrs:{command:"center",icon:"align-center",text:"居中"}}),a("Btn",{attrs:{command:"save",icon:"vertical-align-bottom",text:"下载图片"}})],1)],1),a("a-col",[a("a-space",[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择模板"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("模板1")]),a("a-select-option",{attrs:{value:"2"}},[t._v("模板1")])],1),a("a-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入标题",maxLength:20},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}}),a("a-button",{attrs:{type:"primary",disabled:""===t.title},on:{click:t.onSave}},[t._v("保存")]),a("a-button",{attrs:{type:""}},[t._v("取消")])],1)],1)],1)],1)},o=[],i=a("06d0"),s=(a("5728"),{mixins:[i["a"]],components:{Btn:()=>a.e("chunk-67dbb795").then(a.bind(null,"c57d"))},data(){return{title:""}},methods:{onSave(){console.log(JSON.stringify(this.graph.getCells())),this.graph.toPNG(t=>{console.log({title:this.title,img:this.base64ToFile(t),data:{nodes:JSON.stringify(this.graph.getNodes()),edges:JSON.stringify(this.graph.getEdges())}})},{backgroundColor:"white",padding:{top:50,right:50,bottom:50,left:50},quality:1,copyStyles:!1})},canvasToBase64(){const t=document.querySelector(".flow-main canvas");return t.toDataURL("image/png")},base64ToFile(t,e="flow"){const a=t.split(","),n=a[0].match(/:(.*?);/)[1],o=atob(a[1]);let i=o.length;const s=new Uint8Array(i);while(i--)s[i]=o.charCodeAt(i);return new File([s],e,{type:n})}},mounted(){}}),l=s,c=(a("1525"),a("2877")),r=Object(c["a"])(l,n,o,!1,null,"a0e026cc",null),d=r.exports;e["default"]=d},8223:function(t,e,a){}}]);