(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89f6cee0"],{4936:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"shape "+t.shape,on:{mousedown:t.onDrag}},[t.$slots.default?t._t("default"):n("span",[t._v(t._s(t.text))])],2)},o=[],i=n("5728");const a=i["i"].create({type:"vue componnet"});i["d"].registerVueComponent=a.register,i["d"].unregisterVueComponent=a.unregister,i["d"].Hook.prototype.getVueComponent=function(t){const e=this.options.getVueComponent;if("function"===typeof e){const n=i["c"].call(e,this.graph,t);if(null!=n)return n}let n=t.getComponent();if("string"===typeof n){const t=a.get(n);if(null==t)return a.onNotFound(n);n=t}return n};class u extends i["f"]{get component(){return this.getComponent()}set component(t){this.setComponent(t)}getComponent(){return this.store.get("component")}setComponent(t,e={}){return null==t?this.removeComponent(e):this.store.set("component",t,e),this}removeComponent(t={}){return this.store.remove("component",t),this}}(function(t){function e(t,e="rect"){const n=[{tagName:e,selector:"body"}];return t?n.push(i["e"].getForeignObjectMarkup()):n.push({tagName:"g",selector:"content"}),n.push({tagName:"text",selector:"label"}),n}t.config({view:"vue-shape-view",markup:e(!0),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"},label:{fontSize:14,fill:"#333",refX:"50%",refY:"50%",textAnchor:"middle",textVerticalAnchor:"middle"}},propHooks(t){if(null==t.markup){const n=t.primer,r=t.useForeignObject;if((null!=n||null!=r)&&(t.markup=e(!1!==r,n),n)){null==t.attrs&&(t.attrs={});let e={};"circle"===n?e={refCx:"50%",refCy:"50%",refR:"50%"}:"ellipse"===n&&(e={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}),"rect"!==n&&(t.attrs=i["h"].merge({},t.attrs,{body:Object.assign({refWidth:null,refHeight:null},e)}))}}return t}}),i["f"].registry.register("vue-shape",t,!0)})(u||(u={}));var s=n("a026"),c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},c(t,e)};function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l,p=function(){return p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},p.apply(this,arguments)};function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function h(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var g=[],y=function(){function t(t){this.active=!0,this.effects=[],this.cleanups=[],this.vm=t}return t.prototype.run=function(t){if(this.active)try{return this.on(),t()}finally{this.off()}else 0},t.prototype.on=function(){this.active&&(g.push(this),l=this)},t.prototype.off=function(){this.active&&(g.pop(),l=g[g.length-1])},t.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach((function(t){return t.stop()})),this.cleanups.forEach((function(t){return t()})),this.active=!1)},t}();(function(t){function e(e){void 0===e&&(e=!1);var n=this,r=void 0;return N((function(){r=X(S())})),n=t.call(this,r)||this,e||b(n),n}f(e,t)})(y);function b(t,e){var n;if(e=e||l,e&&e.active)e.effects.push(t);else{var r=null===(n=A())||void 0===n?void 0:n.proxy;r&&r.$on("hook:destroyed",(function(){return t.stop()}))}}function m(t){if(!t.scope){var e=new y(t.proxy);t.scope=e,t.proxy.$on("hook:destroyed",(function(){return e.stop()}))}return t.scope}var _=void 0;try{var w=n("a026");w&&$(w)?_=w:w&&"default"in w&&$(w.default)&&(_=w.default)}catch(Zt){}var x=null,k=null,j=!0,O="__composition_api_installed__";function $(t){return t&&Q(t)&&"Vue"===t.name}function C(t){return x&&T(t,O)}function S(){return x}function E(){var t=x||_;return t}function V(t){x=t,Object.defineProperty(t,O,{configurable:!0,writable:!0,value:!0})}function N(t){var e=j;j=!1;try{t()}finally{j=e}}function M(t){if(j){var e=k;null===e||void 0===e||e.scope.off(),k=t,null===k||void 0===k||k.scope.on()}}function A(){return k}var P=new WeakMap;function W(t){if(P.has(t))return P.get(t);var e={proxy:t,update:t.$forceUpdate,type:t.$options,uid:t._uid,emit:t.$emit.bind(t),parent:null,root:null};m(e);var n=["data","props","attrs","refs","vnode","slots"];return n.forEach((function(n){B(e,n,{get:function(){return t["$".concat(n)]}})})),B(e,"isMounted",{get:function(){return t._isMounted}}),B(e,"isUnmounted",{get:function(){return t._isDestroyed}}),B(e,"isDeactivated",{get:function(){return t._inactive}}),B(e,"emitted",{get:function(){return t._events}}),P.set(t,e),t.$parent&&(e.parent=W(t.$parent)),t.$root&&(e.root=W(t.$root)),e}var D=function(t){return Object.prototype.toString.call(t)};function F(t){return"function"===typeof t&&/native code/.test(t.toString())}var R="undefined"!==typeof Symbol&&F(Symbol)&&"undefined"!==typeof Reflect&&F(Reflect.ownKeys),U=function(t){return t};function B(t,e,n){var r=n.get,o=n.set;Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:r||U,set:o||U})}function H(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function T(t,e){return Object.hasOwnProperty.call(t,e)}function q(t){return Array.isArray(t)}Object.prototype.toString;var z=4294967295;function K(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)&&e<=z}function G(t){return null!==t&&"object"===typeof t}function J(t){return"[object Object]"===D(t)}function Q(t){return"function"===typeof t}function L(t,e){return e=e||A(),e}function X(t,e){void 0===e&&(e={});var n=t.config.silent;t.config.silent=!0;var r=new t(e);return t.config.silent=n,r}function Y(t){var e=S();return e&&t instanceof e}function I(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t.$scopedSlots[e])return t.$scopedSlots[e].apply(t,n)}}function Z(t,e){var n;if(t){if(t._normalized)return t._normalized;for(var r in n={},t)t[r]&&"$"!==r[0]&&(n[r]=!0)}else n={};for(var r in e)r in n||(n[r]=!0);return n}function tt(t){return R?Symbol.for(t):t}tt("composition-api.preFlushQueue"),tt("composition-api.postFlushQueue");var et="composition-api.refKey",nt=new WeakMap,rt=(new WeakMap,new WeakMap);function ot(t,e,n){var r=S(),o=r.util,i=(o.warn,o.defineReactive);var a=t.__ob__;function u(){a&&G(n)&&!T(n,"__ob__")&&yt(n)}if(q(t)){if(K(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),u(),n;if("length"===e&&n!==t.length)return t.length=n,null===a||void 0===a||a.dep.notify(),n}return e in t&&!(e in Object.prototype)?(t[e]=n,u(),n):t._isVue||a&&a.vmCount?n:a?(i(a.value,e,n),ht(t,e,n),u(),a.dep.notify(),n):(t[e]=n,n)}var it=function(){function t(t){var e=t.get,n=t.set;B(this,"value",{get:e,set:n})}return t}();function at(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=new it(t);n&&(r.effect=!0);var o=Object.seal(r);return e&&rt.set(o,!0),o}function ut(t){var e;if(st(t))return t;var n=_t((e={},e[et]=t,e));return at({get:function(){return n[et]},set:function(t){return n[et]=t}})}function st(t){return t instanceof it}function ct(t){if(!J(t))return t;var e={};for(var n in t)e[n]=ft(t,n);return e}function ft(t,e){e in t||ot(t,e,void 0);var n=t[e];return st(n)?n:at({get:function(){return t[e]},set:function(n){return t[e]=n}})}var lt="__v_skip";function pt(t){var e;return Boolean(t&&T(t,"__ob__")&&"object"===typeof t.__ob__&&(null===(e=t.__ob__)||void 0===e?void 0:e[lt]))}function dt(t){var e;return Boolean(t&&T(t,"__ob__")&&"object"===typeof t.__ob__&&!(null===(e=t.__ob__)||void 0===e?void 0:e[lt]))}function vt(t){if(!(!J(t)||pt(t)||q(t)||st(t)||Y(t)||nt.has(t))){nt.set(t,!0);for(var e=Object.keys(t),n=0;n<e.length;n++)ht(t,e[n])}}function ht(t,e,n){if("__ob__"!==e&&!pt(t[e])){var r,o,i=Object.getOwnPropertyDescriptor(t,e);if(i){if(!1===i.configurable)return;r=i.get,o=i.set,r&&!o||2!==arguments.length||(n=t[e])}vt(n),B(t,e,{get:function(){var o=r?r.call(t):n;return e!==et&&st(o)?o.value:o},set:function(i){r&&!o||(e!==et&&st(n)&&!st(i)?n.value=i:o?(o.call(t,i),n=i):n=i,vt(i))}})}}function gt(t){var e,n=E();if(n.observable)e=n.observable(t);else{var r=X(n,{data:{$$state:t}});e=r._data.$$state}return T(e,"__ob__")||yt(e),e}function yt(t,e){var n,r;if(void 0===e&&(e=new Set),!e.has(t)&&!T(t,"__ob__")&&Object.isExtensible(t)){H(t,"__ob__",bt(t)),e.add(t);try{for(var o=d(Object.keys(t)),i=o.next();!i.done;i=o.next()){var a=i.value,u=t[a];(J(u)||q(u))&&!pt(u)&&Object.isExtensible(u)&&yt(u,e)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}function bt(t){return void 0===t&&(t={}),{value:t,dep:{notify:U,depend:U,addSub:U,removeSub:U}}}function mt(){return gt({}).__ob__}function _t(t){if(!G(t))return t;if(!J(t)&&!q(t)||pt(t)||!Object.isExtensible(t))return t;var e=gt(t);return vt(e),e}var wt=function(t){return"on".concat(t[0].toUpperCase()+t.slice(1))};function xt(t){return function(e,n){var r=L(wt(t),n);return r&&kt(S(),r,t,e)}}function kt(t,e,n,r){var o=e.proxy.$options,i=t.config.optionMergeStrategies[n],a=jt(e,r);return o[n]=i(o[n],a),a}function jt(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=A();M(t);try{return e.apply(void 0,h([],v(n),!1))}finally{M(o)}}}xt("beforeMount"),xt("mounted"),xt("beforeUpdate"),xt("updated"),xt("beforeDestroy"),xt("destroyed"),xt("errorCaptured"),xt("activated"),xt("deactivated"),xt("serverPrefetch");function Ot(t,e){void 0===e&&(e=void 0);var n=S(),r=void 0,o={},i={config:n.config,use:n.use.bind(n),mixin:n.mixin.bind(n),component:n.component.bind(n),provide:function(t,e){return o[t]=e,this},directive:function(t,e){return e?(n.directive(t,e),i):n.directive(t)},mount:function(i,a){return r||(r=new n(p(p({propsData:e},t),{provide:p(p({},o),t.provide)})),r.$mount(i,a),r)},unmount:function(){r&&(r.$destroy(),r=void 0)}};return i}var $t,Ct=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(null===this||void 0===this?void 0:this.proxy)||(null===(t=A())||void 0===t?void 0:t.proxy);return r?r.$createElement.apply(r,e):($t||($t=X(S()).$createElement),$t.apply($t,e))};function St(t,e,n){var r=t.__composition_api_state__=t.__composition_api_state__||{};r[e]=n}function Et(t,e){return(t.__composition_api_state__||{})[e]}var Vt={set:St,get:Et};function Nt(t,e,n){var r=t.$options.props;e in t||r&&T(r,e)||(st(n)?B(t,e,{get:function(){return n.value},set:function(t){n.value=t}}):B(t,e,{get:function(){return dt(n)&&n.__ob__.dep.depend(),n},set:function(t){n=t}}))}function Mt(t){var e=Vt.get(t,"rawBindings")||{};if(e&&Object.keys(e).length){for(var n=t.$refs,r=Vt.get(t,"refs")||[],o=0;o<r.length;o++){var i=r[o],a=e[i];!n[i]&&a&&st(a)&&(a.value=null)}var u=Object.keys(n),s=[];for(o=0;o<u.length;o++){i=u[o],a=e[i];n[i]&&a&&st(a)&&(a.value=n[i],s.push(i))}Vt.set(t,"refs",s)}}function At(t){var e=[t._vnode];while(e.length){var n=e.pop();if(n&&(n.context&&Mt(n.context),n.children))for(var r=0;r<n.children.length;++r)e.push(n.children[r])}}function Pt(t,e){var n,r;if(t){var o=Vt.get(t,"attrBindings");if(o||e){if(!o){var i=_t({});o={ctx:e,data:i},Vt.set(t,"attrBindings",o),B(e,"attrs",{get:function(){return null===o||void 0===o?void 0:o.data},set:function(){}})}var a=t.$attrs,u=function(e){T(o.data,e)||B(o.data,e,{get:function(){return t.$attrs[e]}})};try{for(var s=d(Object.keys(a)),c=s.next();!c.done;c=s.next()){var f=c.value;u(f)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}}function Wt(t,e){var n=t.$options._parentVnode;if(n){for(var r=Vt.get(t,"slots")||[],o=Z(n.data.scopedSlots,t.$slots),i=0;i<r.length;i++){var a=r[i];o[a]||delete e[a]}var u=Object.keys(o);for(i=0;i<u.length;i++){a=u[i];e[a]||(e[a]=I(t,a))}Vt.set(t,"slots",u)}}function Dt(t,e,n){var r=A();M(t);try{return e(t)}catch(o){if(!n)throw o;n(o)}finally{M(r)}}function Ft(t){function e(){var t=this,e=t.$options,r=e.setup,o=e.render;if(o&&(e.render=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Dt(W(t),(function(){return o.apply(e,n)}))}),r&&Q(r)){var i=e.data;e.data=function(){return n(t,t.$props),Q(i)?i.call(t,t):i||{}}}}function n(t,e){void 0===e&&(e={});var n,a=t.$options.setup,u=i(t),s=W(t);if(s.setupContext=u,H(e,"__ob__",mt()),Wt(t,u.slots),Dt(s,(function(){n=a(e,u)})),n)if(Q(n)){var c=n;t.$options.render=function(){return Wt(t,u.slots),Dt(s,(function(){return c()}))}}else if(G(n)){dt(n)&&(n=ct(n)),Vt.set(t,"rawBindings",n);var f=n;Object.keys(f).forEach((function(e){var n=f[e];if(!st(n))if(dt(n))q(n)&&(n=ut(n));else if(Q(n)){var i=n;n=n.bind(t),Object.keys(i).forEach((function(t){n[t]=i[t]}))}else G(n)?o(n)&&r(n):n=ut(n);Nt(t,e,n)}))}else 0}function r(t,e){if(void 0===e&&(e=new Set),!e.has(t)&&J(t)&&!st(t)&&!dt(t)&&!pt(t)){var n=S(),o=n.util.defineReactive;Object.keys(t).forEach((function(n){var i=t[n];o(t,n,i),i&&(e.add(i),r(i,e))}))}}function o(t,e){return void 0===e&&(e=new Map),e.has(t)?e.get(t):(e.set(t,!1),q(t)&&dt(t)?(e.set(t,!0),!0):!(!J(t)||pt(t)||st(t))&&Object.keys(t).some((function(n){return o(t[n],e)})))}function i(t){var e={slots:{}},n=["root","parent","refs","listeners","isServer","ssrContext"],r=["emit"];return n.forEach((function(n){var r="$".concat(n);B(e,n,{get:function(){return t[r]},set:function(){}})})),Pt(t,e),r.forEach((function(n){var r="$".concat(n);B(e,n,{get:function(){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=t[r];o.apply(t,e)}}})})),e}t.mixin({beforeCreate:e,mounted:function(){At(this)},beforeUpdate:function(){Pt(this)},updated:function(){At(this)}})}function Rt(t,e){if(!t)return e;if(!e)return t;for(var n,r,o,i=R?Reflect.ownKeys(t):Object.keys(t),a=0;a<i.length;a++)n=i[a],"__ob__"!==n&&(r=e[n],o=t[n],T(e,n)?r!==o&&J(r)&&!st(r)&&J(o)&&!st(o)&&Rt(o,r):e[n]=o);return e}function Ut(t){C(t)||(t.config.optionMergeStrategies.setup=function(t,e){return function(n,r){return Rt(Q(t)?t(n,r)||{}:void 0,Q(e)?e(n,r)||{}:void 0)}},V(t),Ft(t))}var Bt={install:function(t){return Ut(t)}};function Ht(t){t=t||s["default"],t&&!t["__composition_api_installed__"]&&t.use(Bt)}"undefined"!==typeof window&&window.Vue&&window.Vue.use(Bt),Ht(s["default"]);var Tt=!0,qt=!1,zt=s["default"];s["default"].version;class Kt extends i["g"]{init(){super.init()}getComponentContainer(){return this.selectors.foContent}confirmUpdate(t){const e=super.confirmUpdate(t);return this.handleAction(e,Kt.action,()=>{i["j"].scheduleTask(()=>{this.renderVueComponent()})})}renderVueComponent(){this.unmountVueComponent();const t=this.getComponentContainer(),e=this.cell,n=this.graph;if(t){const r=this.graph.hook.getVueComponent(e);if(Tt){const o=zt;this.vm=new o("string"===typeof r?{template:r}:{render(){return Ct(r,{graph:n,node:e})},provide(){return{getGraph:()=>n,getNode:()=>e}}}),this.vm.$mount(t)}else qt&&(this.vm=Ot({render(){return Ct(r,{graph:n,node:e})},provide(){return{getGraph:()=>n,getNode:()=>e}}}),this.vm.mount(t))}}unmountVueComponent(){const t=this.getComponentContainer();return this.vm&&(Tt&&this.vm.$destroy(),qt&&this.vm.unmount(),this.vm=null),t.innerHTML="",t}unmount(){return this.unmountVueComponent(),super.unmount(),this}}(function(t){t.action="vue",t.config({bootstrap:[t.action],actions:{component:t.action}}),i["g"].registry.register("vue-shape-view",t,!0)})(Kt||(Kt={}));var Gt=n("06d0");const{Dnd:Jt}=i["a"],Qt={position:{name:"absolute"},attrs:{circle:{r:6,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}}};var Lt={mixins:[Gt["a"]],props:{shape:String,text:String,model:Object},data(){return{}},methods:{createShape(t,e){return{shape:this.shape,attrs:{label:{text:this.text,fill:"#333"},body:{stroke:t,strokeWidth:2,fill:e,refPoints:"polygon"===this.shape?"0,10 10,0 20,10 10,20":""}},ports:{groups:{in:Qt,out:Qt}}}},createPorts(t,e){const n=4;Array.from({length:n}).forEach((e,n)=>{let r=0,o=0;switch(n){case 0:r="50%",o=0;break;case 1:r="100%",o="50%";break;case 2:r="50%",o="100%";break;case 3:r=0,o="50%";break}t.addPorts([{group:"in",args:{x:r,y:o}},{group:"out",args:{x:r,y:o}}])}),this.dnd.start(t,e)},onDrag(t){let e=null;switch(this.shape){case"rect":e=this.graph.createNode({width:120,height:60,...this.createShape("#1890ff","rgba(24, 144, 255, 0.1)")});break;case"circle":e=this.graph.createNode({width:80,height:80,...this.createShape("#fa8c16","rgba(250, 140, 22, 0.1)")});break;case"ellipse":e=this.graph.createNode({width:120,height:64,...this.createShape("#FA8C16","rgba(250, 140, 22, 0.1)")});break;case"polygon":e=this.graph.createNode({width:96,height:96,...this.createShape("rgb(19, 194, 194)","rgba(19, 194, 194, 0.1)")});break}this.createPorts(e,t)}},mounted(){this.dnd=new Jt({target:this.graph,scaled:!1,animation:!0});const t=(t,e)=>{for(let n=0,r=t.length;n<r;n+=1)t[n].style.visibility=e?"visible":"hidden"};this.graph.on("node:mouseenter",({e:e,x:n,y:r,cell:o,view:i})=>{const a=e.target.parentNode;t(a.querySelectorAll(".x6-port-body"),!0)}),this.graph.on("node:mouseleave",({e:e,x:n,y:r,cell:o,view:i})=>{const a="x6-port-body"===e.target.className.baseVal?e.target.parentNode.parentNode:e.target.parentNode;t(a.querySelectorAll(".x6-port-body"),!1)}),this.graph.on("cell:click",({e:e})=>{t(document.querySelectorAll(".x6-port-body"),!1)}),this.graph.on("edge:mouseenter",({cell:t})=>{t.addTools([{name:"source-arrowhead"},{name:"target-arrowhead",args:{attrs:{fill:"red"}}},{name:"button-remove",args:{distance:60}}])}),this.graph.on("edge:mouseleave",({cell:t})=>{t.removeTools()})}},Xt=Lt,Yt=(n("be3a"),n("2877")),It=Object(Yt["a"])(Xt,r,o,!1,null,"263ca052",null);e["default"]=It.exports},be3a:function(t,e,n){"use strict";n("ff11")},ff11:function(t,e,n){}}]);